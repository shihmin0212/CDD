{"version":3,"file":"FileCaseManagement-legacy-CYIfWJna.js","sources":["../../src/components/BackStage/5_FileCase/FileCaseCreateModal.vue","../../src/components/BackStage/5_FileCase/FileCasePermissionWhiteListModal.vue","../../src/components/BackStage/5_FileCase/FileCaseUpdateModal.vue","../../src/components/BackStage/5_FileCase/FileCaseManagement.vue"],"sourcesContent":["<template>\r\n    <div\r\n        v-if=\"modalData.ModalInstance.showModal\"\r\n        class=\"modal show d-block\"\r\n        tabindex=\"-1\"\r\n        :aria-labelledby=\"modalData.ModalInstance.modalId\"\r\n        :aria-hidden=\"!modalData.ModalInstance.showModal\"\r\n        @click=\"handleBackgroundClick\"\r\n        :class=\"{ 'static-backdrop-animation': modalData.ModalInstance.animateBackdrop }\"\r\n    >\r\n        <div\r\n            class=\"modal-dialog\"\r\n            :class=\"[modalData.ModalInstance.size, modalData.ModalInstance.scrollable ? 'modal-dialog-scrollable' : '']\"\r\n        >\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\">{{ modalData.ModalInstance.title }}</h5>\r\n                    <button type=\"button\" class=\"btn-close\" @click=\"closeModal\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <form @submit.prevent=\"handleSubmit\">\r\n                        <!-- 業務別欄位 -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"business\" class=\"form-label\"> 業務別 <span class=\"text-danger\">*</span> </label>\r\n                            <div class=\"input-group\">\r\n                                <input\r\n                                    id=\"business\"\r\n                                    v-model=\"formData.business\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    placeholder=\"請選擇業務別\"\r\n                                    readonly\r\n                                    required\r\n                                />\r\n                                <button type=\"button\" class=\"btn btn-esun-outline\" @click=\"openBusinessSelectModal\">\r\n                                    選擇\r\n                                </button>\r\n                            </div>\r\n                            <div v-if=\"errors.business\" class=\"invalid-feedback d-block\">\r\n                                {{ errors.business }}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- 上傳系統代碼 -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"uploadSystemID\" class=\"form-label\">上傳系統代碼</label>\r\n                            <input\r\n                                id=\"uploadSystemID\"\r\n                                v-model=\"formData.uploadSystemID\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"上傳者為系統時，請填入系統代碼 (如: OOA)\"\r\n                                maxlength=\"20\"\r\n                                disabled\r\n                            />\r\n                        </div>\r\n\r\n                        <!-- 上傳員工代碼 -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"uploadEmployeeNo\" class=\"form-label\">上傳員工代碼</label>\r\n                            <input\r\n                                id=\"uploadEmployeeNo\"\r\n                                v-model=\"formData.uploadEmployeeNo\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"上傳者為員工時，請填入員工代碼 (如: S717XX)\"\r\n                                maxlength=\"20\"\r\n                                disabled\r\n                            />\r\n                        </div>\r\n\r\n                        <!-- 文件類別權限 -->\r\n                        <div class=\"mb-3\">\r\n                            <label class=\"form-label\"> 文件類別權限 <span class=\"text-danger\">*</span> </label>\r\n                            <div class=\"d-flex flex-column gap-2\">\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission0\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"0\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission0\"> 不限制任何系統 (Public) </label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission1\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"1\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission1\"> 限制註冊系統 (Protect) </label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission2\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"2\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission2\">\r\n                                        限制白名單系統 (ProtectInternal)\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission3\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"3\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission3\"> 自己才可存取 (Private) </label>\r\n                                </div>\r\n                            </div>\r\n                            <div v-if=\"errors.permission\" class=\"invalid-feedback d-block\">\r\n                                {{ errors.permission }}\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-esun-outline\" @click=\"closeModal\">取消</button>\r\n                    <button type=\"button\" class=\"btn btn-esun-primary\" @click=\"handleSubmit\" :disabled=\"isSubmitting\">\r\n                        <span v-if=\"isSubmitting\" class=\"spinner-border spinner-border-sm me-2\"></span>\r\n                        {{ isSubmitting ? '建立中...' : '建立' }}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- 業務別選擇Modal -->\r\n    <SelectListModal\r\n        v-if=\"businessSelectModal.ModalInstance.showModal\"\r\n        :myModal=\"businessSelectModal.ModalInstance\"\r\n        :paginationType=\"businessSelectModal.PaginationType\"\r\n        :disabledDataList=\"[]\"\r\n        :selectedList=\"businessSelectModal.DataList\"\r\n        :totalItems=\"businessSelectModal.TotalItems\"\r\n        :onSelect=\"handleBusinessSelect\"\r\n        :onCancel=\"handleBusinessSelectCancel\"\r\n        :onPageChange=\"onBusinessPageChange\"\r\n    />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted } from 'vue';\r\nimport type { MyBaseModal } from '@/components/modal/BaseModal/schema';\r\n\r\nimport SelectListModal from '@/components/modal/SelectListModal/SelectListModal.vue';\r\nimport type { InternalSelectedList, MySelectListModal } from '@/components/modal/SelectListModal/schema';\r\nimport * as ApiClient from '@/libs/ApiClient';\r\nimport API from '@/api/v1/';\r\n\r\nexport interface FileCaseFormData {\r\n    business: string;\r\n    uploadSystemID?: string | null;\r\n    uploadEmployeeNo?: string | null;\r\n    permission: string | null; // '0' | '1' | '2' | '3'\r\n}\r\n\r\n// Props\r\nconst props = defineProps<{\r\n    onSubmit?: (data: FileCaseFormData) => Promise<void>;\r\n}>();\r\n\r\n// Emits\r\nconst emit = defineEmits<{\r\n    submit: [data: FileCaseFormData];\r\n    cancel: [];\r\n}>();\r\n\r\n// Modal 資料結構\r\ninterface ModalData {\r\n    ModalInstance: MyBaseModal & { animateBackdrop?: boolean };\r\n}\r\n\r\nconst modalData = ref<ModalData>({\r\n    ModalInstance: {\r\n        modalId: 'fileCaseCreateModal',\r\n        title: '新增文件類別',\r\n        showModal: false,\r\n        size: 'modal-xl',\r\n        staticBackdrop: true,\r\n        scrollable: false,\r\n        animateBackdrop: false\r\n    }\r\n});\r\n\r\n// 表單資料\r\nconst formData = reactive<FileCaseFormData>({\r\n    business: '',\r\n    uploadSystemID: null,\r\n    uploadEmployeeNo: null,\r\n    permission: null\r\n});\r\n\r\n// 表單驗證錯誤\r\nconst errors = reactive({\r\n    business: '',\r\n    permission: ''\r\n});\r\n\r\n// 提交狀態\r\nconst isSubmitting = ref(false);\r\n\r\n// 業務別選擇Modal結構\r\ninterface IBusinessSelectModal {\r\n    ModalInstance: MySelectListModal;\r\n    PaginationType: 'server' | 'client';\r\n    DisabledDataList: string[] | null;\r\n    DataList: InternalSelectedList[];\r\n    TotalItems: number;\r\n    PageNumber: number;\r\n    PageSize: number;\r\n}\r\n\r\nconst businessSelectModal = ref<IBusinessSelectModal>({\r\n    ModalInstance: {\r\n        modalId: 'business-select-modal',\r\n        title: '選擇業務別',\r\n        showModal: false,\r\n        size: 'modal-xl',\r\n        staticBackdrop: true,\r\n        scrollable: true\r\n    },\r\n    PaginationType: 'server',\r\n    DisabledDataList: null,\r\n    DataList: [],\r\n    TotalItems: 0,\r\n    PageNumber: 1,\r\n    PageSize: 10\r\n});\r\n\r\n// 開啟Modal\r\nfunction openModal() {\r\n    resetForm();\r\n    modalData.value.ModalInstance.showModal = true;\r\n}\r\n\r\n// 關閉Modal\r\nfunction closeModal() {\r\n    modalData.value.ModalInstance.showModal = false;\r\n    emit('cancel');\r\n}\r\n\r\n// 重置表單\r\nfunction resetForm() {\r\n    formData.business = '';\r\n    formData.uploadSystemID = null;\r\n    formData.uploadEmployeeNo = null;\r\n    formData.permission = null;\r\n\r\n    errors.business = '';\r\n    errors.permission = '';\r\n\r\n    isSubmitting.value = false;\r\n}\r\n\r\n// 處理背景點擊事件\r\nfunction handleBackgroundClick(event: MouseEvent) {\r\n    if (event.target === event.currentTarget) {\r\n        modalData.value.ModalInstance.animateBackdrop = true;\r\n        setTimeout(() => {\r\n            modalData.value.ModalInstance.animateBackdrop = false;\r\n        }, 150);\r\n    }\r\n}\r\n\r\n// 表單驗證\r\nfunction validateForm(): boolean {\r\n    let isValid = true;\r\n\r\n    // 清除之前的錯誤\r\n    errors.business = '';\r\n    errors.permission = '';\r\n\r\n    // 驗證業務別\r\n    if (!formData.business.trim()) {\r\n        errors.business = '請選擇業務別';\r\n        isValid = false;\r\n    }\r\n\r\n    // 驗證權限\r\n    if (!formData.permission) {\r\n        errors.permission = '請選擇文件類別權限';\r\n        isValid = false;\r\n    }\r\n\r\n    return isValid;\r\n}\r\n\r\n// 處理表單提交\r\nasync function handleSubmit() {\r\n    if (!validateForm()) {\r\n        return;\r\n    }\r\n\r\n    isSubmitting.value = true;\r\n\r\n    try {\r\n        if (props.onSubmit) {\r\n            await props.onSubmit(formData);\r\n        }\r\n        closeModal();\r\n    } catch (error) {\r\n        console.error('提交表單時發生錯誤:', error);\r\n    } finally {\r\n        isSubmitting.value = false;\r\n    }\r\n}\r\n\r\n// 開啟業務別選擇Modal\r\nasync function openBusinessSelectModal() {\r\n    try {\r\n        // 載入業務別資料\r\n        const response = await API.BusinessManagementViewData('', 1, businessSelectModal.value.PageSize);\r\n\r\n        if (response.status && response.result?.items) {\r\n            businessSelectModal.value.DataList = response.result.items.map((item) => ({\r\n                name: item.business,\r\n                value: item.business\r\n            }));\r\n            businessSelectModal.value.TotalItems = response.result.totalCount;\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n            return;\r\n        }\r\n\r\n        businessSelectModal.value.ModalInstance.showModal = true;\r\n    } catch (error) {\r\n        console.error('載入業務別資料時發生錯誤:', error);\r\n    }\r\n}\r\n\r\n// 處理業務別分頁變化\r\nconst onBusinessPageChange = async (searchQuery: string, pageNumber: number, pageSize: number) => {\r\n    try {\r\n        const response = await API.BusinessManagementViewData(searchQuery, pageNumber, pageSize);\r\n\r\n        if (response.status && response.result?.items) {\r\n            businessSelectModal.value.DataList = response.result.items.map((item) => ({\r\n                name: item.business,\r\n                value: item.business\r\n            }));\r\n            businessSelectModal.value.TotalItems = response.result.totalCount;\r\n            businessSelectModal.value.PageSize = pageSize;\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    } catch (error) {\r\n        console.error('載入業務別資料時發生錯誤:', error);\r\n    }\r\n};\r\n\r\n// 處理業務別選擇\r\nfunction handleBusinessSelect(selectedBusiness: string) {\r\n    formData.business = selectedBusiness;\r\n    errors.business = ''; // 清除錯誤訊息\r\n    businessSelectModal.value.ModalInstance.showModal = false;\r\n}\r\n\r\n// 處理業務別選擇取消\r\nfunction handleBusinessSelectCancel() {\r\n    businessSelectModal.value.ModalInstance.showModal = false;\r\n}\r\n\r\n// 暴露方法給父元件\r\ndefineExpose({\r\n    openModal,\r\n    closeModal\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.modal {\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.modal-dialog {\r\n    background-color: transparent;\r\n}\r\n\r\n.static-backdrop-animation {\r\n    animation: staticBackdropAnimation 0.15s ease-in-out;\r\n}\r\n\r\n.modal-dialog-scrollable .modal-body {\r\n    max-height: calc(100vh - 200px);\r\n    overflow-y: auto;\r\n}\r\n\r\n@keyframes staticBackdropAnimation {\r\n    0% {\r\n        transform: scale(1);\r\n    }\r\n    50% {\r\n        transform: scale(1.02);\r\n    }\r\n    100% {\r\n        transform: scale(1);\r\n    }\r\n}\r\n\r\n.form-check {\r\n    padding-left: 1.5em;\r\n}\r\n\r\n.input-group .btn {\r\n    border-left: 0;\r\n}\r\n\r\n.input-group .form-control:focus + .btn {\r\n    border-color: #86b7fe;\r\n}\r\n</style>\r\n","<template>\r\n    <div\r\n        v-if=\"AllowData.ModalInstance.showModal\"\r\n        class=\"modal show d-block\"\r\n        tabindex=\"-1\"\r\n        :aria-labelledby=\"AllowData.ModalInstance.modalId\"\r\n        :aria-hidden=\"!AllowData.ModalInstance.showModal\"\r\n        @click=\"handleBackgroundClick\"\r\n        :class=\"{ 'static-backdrop-animation': AllowData.ModalInstance.animateBackdrop }\"\r\n    >\r\n        <div\r\n            class=\"modal-dialog\"\r\n            :class=\"[AllowData.ModalInstance.size, AllowData.ModalInstance.scrollable ? 'modal-dialog-scrollable' : '']\"\r\n        >\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\">{{ AllowData.ModalInstance.title }}</h5>\r\n                    <button type=\"button\" class=\"btn-close\" @click=\"closeModal\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"btn-group me-2 mb-3\" role=\"group\" aria-label=\"First group\">\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-esun-outline\"\r\n                            :class=\"{ active: AllowData.DisplayMode === 'card' }\"\r\n                            @click=\"AllowData.DisplayMode = 'card'\"\r\n                        >\r\n                            卡片顯示\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-esun-outline\"\r\n                            :class=\"{ active: AllowData.DisplayMode === 'table' }\"\r\n                            @click=\"AllowData.DisplayMode = 'table'\"\r\n                        >\r\n                            表格顯示\r\n                        </button>\r\n\r\n                        <button type=\"button\" class=\"btn btn-esun-outline\" @click=\"openAddWhiteListModal\">\r\n                            新增白名單業務別\r\n                        </button>\r\n                    </div>\r\n                    <div v-if=\"AllowData.DataList.length === 0\" class=\"text-muted\">無白名單項目</div>\r\n\r\n                    <div\r\n                        v-if=\"AllowData.DisplayMode === 'card'\"\r\n                        class=\"d-flex flex-wrap w-100\"\r\n                        style=\"min-height: 400px\"\r\n                    >\r\n                        <div\r\n                            v-for=\"(item, index) in AllowData.DataList\"\r\n                            :key=\"index\"\r\n                            class=\"p-2\"\r\n                            style=\"flex: 1 1 0; min-width: 25%; max-width: 25%; width: 25%\"\r\n                        >\r\n                            <div class=\"card\">\r\n                                <div\r\n                                    class=\"card-body p-2 d-flex flex-column justify-content-between\"\r\n                                    style=\"height: 100px\"\r\n                                >\r\n                                    <div class=\"mb-2 text-truncate\" :title=\"item.business\" style=\"width: 100%\">\r\n                                        {{ item.business }}\r\n                                    </div>\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        class=\"btn btn-sm btn-danger align-self-end\"\r\n                                        @click=\"RemoveWhiteListBusiness(item)\"\r\n                                    >\r\n                                        移除\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div v-if=\"AllowData.DisplayMode === 'table'\" style=\"min-height: 400px\">\r\n                        <table class=\"table table-bordered\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>業務別</th>\r\n                                    <th>操作</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"(item, index) in AllowData.DataList\" :key=\"index\">\r\n                                    <td>{{ item.business }}</td>\r\n                                    <td>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            class=\"btn btn-sm btn-danger\"\r\n                                            @click=\"RemoveWhiteListBusiness(item)\"\r\n                                        >\r\n                                            移除\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <Pagination\r\n                        v-if=\"AllowData.DataList.length > 0\"\r\n                        v-model:modelValue=\"AllowData.CurrentPage\"\r\n                        v-model:pageSize=\"AllowData.PageSize\"\r\n                        :total-items=\"AllowData.TotalItems\"\r\n                    />\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button class=\"btn btn-esun-outline\" @click.prevent=\"closeModal\">關閉</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <SelectListModal\r\n        v-if=\"AddWhiteListModal.ModalInstance.showModal\"\r\n        :myModal=\"AddWhiteListModal.ModalInstance\"\r\n        :paginationType=\"AddWhiteListModal.PaginationType\"\r\n        :disabledDataList=\"[]\"\r\n        :selectedList=\"AddWhiteListModal.DataList\"\r\n        :totalItems=\"AddWhiteListModal.TotalCount\"\r\n        :onSelect=\"handleSelectWhiteListSubmit\"\r\n        :onCancel=\"handleSelectWhiteListCancel\"\r\n        :onPageChange=\"onPageChange\"\r\n    />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport type { BusinessDTO } from '@/models/DTO/BusinessDTO';\r\n\r\nconst props = defineProps<{\r\n    // 目前選取操作的文件類別序號\r\n    operateCaseNo: string;\r\n}>();\r\n\r\nimport { ref, onMounted, watch, computed } from 'vue';\r\nimport type { MyBaseModal } from '@/components/modal/BaseModal/schema';\r\n\r\n// 文件類別權限白名單\r\ninterface FileCasePermissionWhiteList {\r\n    caseNo: string;\r\n    business: string;\r\n}\r\n\r\ninterface AllowData {\r\n    ModalInstance: MyBaseModal;\r\n    PaginationType: 'server' | 'client';\r\n    DisplayMode: 'table' | 'card';\r\n    DataList: FileCasePermissionWhiteList[];\r\n    TotalItems: number;\r\n    CurrentPage: number;\r\n    PageSize: number;\r\n}\r\n\r\nconst AllowData = ref<AllowData>(GetDefaultAllowData());\r\n\r\nfunction GetDefaultAllowData(): AllowData {\r\n    return {\r\n        ModalInstance: {\r\n            modalId: 'FileCasePermissionWhiteListModal',\r\n            title: `檔案案件 ${props.operateCaseNo} 權限白名單管理`,\r\n            showModal: false,\r\n            size: 'modal-xl',\r\n            staticBackdrop: true,\r\n            animateBackdrop: false\r\n        },\r\n        PaginationType: 'server',\r\n        DisplayMode: 'table',\r\n        DataList: [],\r\n        TotalItems: 1,\r\n        CurrentPage: 1,\r\n        PageSize: 10\r\n    };\r\n}\r\n\r\nwatch(\r\n    () => ({\r\n        currentPage: AllowData.value.CurrentPage,\r\n        pageSize: AllowData.value.PageSize\r\n    }),\r\n    (newVal, oldVal) => {\r\n        if (newVal.currentPage !== oldVal.currentPage || newVal.pageSize !== oldVal.pageSize) {\r\n            debugger;\r\n            LoadViewData();\r\n        }\r\n    }\r\n);\r\n\r\n// 監聽 operateCaseNo 屬性的變化以更新標題和重新載入數據\r\nwatch(\r\n    () => props.operateCaseNo,\r\n    (newVal, oldVal) => {\r\n        if (newVal !== oldVal) {\r\n            AllowData.value = GetDefaultAllowData();\r\n            LoadViewData();\r\n        }\r\n    }\r\n);\r\n\r\n/**\r\n * 展開Modal\r\n */\r\nasync function openModal() {\r\n    AllowData.value = GetDefaultAllowData();\r\n    await LoadViewData();\r\n    AllowData.value.ModalInstance.showModal = true;\r\n}\r\n\r\n/**\r\n * 關閉Modal\r\n */\r\nfunction closeModal() {\r\n    AllowData.value.ModalInstance.showModal = false;\r\n}\r\n\r\n/**\r\n * 處理點擊背景事件，觸發背景動畫\r\n */\r\nfunction handleBackgroundClick(event: MouseEvent) {\r\n    if (event.target === event.currentTarget) {\r\n        AllowData.value.ModalInstance.animateBackdrop = true;\r\n        setTimeout(() => {\r\n            AllowData.value.ModalInstance.animateBackdrop = false;\r\n        }, 150);\r\n    }\r\n}\r\n\r\n/**\r\n * 載入白名單資料\r\n */\r\nconst LoadViewData = async () => {\r\n    try {\r\n        const response = await API.FileCasePermissionWhiteListViewData(props.operateCaseNo);\r\n\r\n        if (response.status) {\r\n            AllowData.value.DataList = response.result.items;\r\n            AllowData.value.TotalItems = response.result.totalCount;\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    } catch (error) {\r\n        ApiClient.HandleError(error);\r\n        console.error('Error fetching FileCase permission white list:', error);\r\n    }\r\n};\r\n\r\nimport {\r\n    SimplePopUp,\r\n    SimplePopUpBtnType,\r\n    SimplePopUpModalType,\r\n    SimplePopUpSize,\r\n    type SimplePopupResolveResult\r\n} from '@/libs/SimplePopUp';\r\n\r\nconst simplePopUp = new SimplePopUp();\r\n\r\n/**\r\n * 移除白名單業務別\r\n */\r\nasync function RemoveWhiteListBusiness(item: FileCasePermissionWhiteList) {\r\n    let action: SimplePopupResolveResult<string> = await simplePopUp.showAlert(\r\n        SimplePopUpModalType.Warning,\r\n        '警告',\r\n        `確定要刪除白名單業務別 ${item.business} 嗎？`,\r\n        [\r\n            {\r\n                id: 'cancel',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-esun-outline',\r\n                resolveParam: 'cancel',\r\n                title: '取消'\r\n            },\r\n            {\r\n                id: 'confirm',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-info',\r\n                resolveParam: 'confirm',\r\n                title: '確定'\r\n            }\r\n        ]\r\n    );\r\n\r\n    if (action.param === 'confirm') {\r\n        const response = await API.FileCasePermissionWhiteListRemove(props.operateCaseNo, item.business);\r\n        if (response.status) {\r\n            await LoadViewData();\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    }\r\n}\r\n\r\n/** 選擇列表模態框 */\r\nimport SelectListModal from '@/components/modal/SelectListModal/SelectListModal.vue';\r\nimport type { InternalSelectedList, MySelectListModal } from '@/components/modal/SelectListModal/schema';\r\nimport * as ApiClient from '@/libs/ApiClient';\r\nimport API from '@/api/v1/';\r\nimport Pagination from '@/components/pagination/Pagination.vue';\r\n\r\ninterface ISelectListModal {\r\n    ModalInstance: MySelectListModal;\r\n    PaginationType: 'server';\r\n    DataList: InternalSelectedList[];\r\n    TotalCount: number;\r\n    PageSize: number;\r\n}\r\n\r\nconst AddWhiteListModal = ref<ISelectListModal>(GetDefaultModalData());\r\n\r\nfunction GetDefaultModalData(): ISelectListModal {\r\n    return {\r\n        ModalInstance: {\r\n            modalId: 'filecase-whitelist-select-modal',\r\n            title: '選擇白名單業務別',\r\n            showModal: false,\r\n            size: 'modal-xl',\r\n            staticBackdrop: true,\r\n            scrollable: true\r\n        },\r\n        PaginationType: 'server',\r\n        DataList: [],\r\n        TotalCount: 0,\r\n        PageSize: 10\r\n    };\r\n}\r\n\r\nfunction initAddWhiteListModal() {\r\n    AddWhiteListModal.value = GetDefaultModalData();\r\n}\r\n\r\nconst onPageChange = async (searchQuery: string, pageNumber: number, pageSize: number) => {\r\n    try {\r\n        // 目前 business 資料少 分頁在前端做\r\n        const response = await API.BusinessManagementViewData(searchQuery, pageNumber, pageSize);\r\n\r\n        if (response.status && response.result?.items) {\r\n            AddWhiteListModal.value.DataList = response.result.items.map((item) => ({\r\n                name: item.business,\r\n                value: item.business\r\n            }));\r\n            AddWhiteListModal.value.TotalCount = response.result.totalCount;\r\n            AddWhiteListModal.value.PageSize = pageSize;\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    } catch (error) {\r\n        console.error('Error fetching business:', error);\r\n        // Handle error (e.g., show an error message)\r\n    }\r\n};\r\n\r\n// 開啟選擇列表模態框\r\nasync function openAddWhiteListModal() {\r\n    // 初始化選擇列表為全部業務資料\r\n\r\n    // 初始化選擇列表為全部業務資料\r\n    initAddWhiteListModal();\r\n    // 排除目前已存在business\r\n    const resp = await API.BusinessManagementViewData('', 1, AddWhiteListModal.value.PageSize);\r\n    // const allowedBusinessSet = new Set(AllowData.value.FullDataList.map((item) => item.business));\r\n\r\n    // const filteredList = props.AllBusinessLists.filter((item) => !allowedBusinessSet.has(item.business));\r\n    AddWhiteListModal.value.DataList = resp.result.items.map((item) => ({\r\n        name: item.business,\r\n        value: item.business\r\n    }));\r\n    AddWhiteListModal.value.TotalCount = resp.result.totalCount;\r\n    AddWhiteListModal.value.PageSize = 1;\r\n    AddWhiteListModal.value.ModalInstance.showModal = true;\r\n}\r\n\r\n// 處理選擇列表模態框提交\r\nasync function handleSelectWhiteListSubmit(selectedBusiness: string) {\r\n    let action: SimplePopupResolveResult<string> = await simplePopUp.showAlert(\r\n        SimplePopUpModalType.Warning,\r\n        '提醒',\r\n        `確定要將 ${selectedBusiness} 加入到文件類別 ${props.operateCaseNo} 的權限白名單中嗎？`,\r\n        [\r\n            {\r\n                id: 'cancel',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-esun-outline',\r\n                resolveParam: 'cancel',\r\n                title: '取消'\r\n            },\r\n            {\r\n                id: 'confirm',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-info',\r\n                resolveParam: 'confirm',\r\n                title: '確定'\r\n            }\r\n        ]\r\n    );\r\n\r\n    try {\r\n        if (action.param === 'confirm') {\r\n            const response = await API.FileCasePermissionWhiteListAdd(props.operateCaseNo, selectedBusiness);\r\n            if (response.status) {\r\n                await LoadViewData();\r\n                AddWhiteListModal.value.ModalInstance.showModal = false;\r\n            } else {\r\n                ApiClient.HandleGeneralRespError(response);\r\n            }\r\n        }\r\n    } catch (error) {\r\n        console.error('Error during confirmation:', error);\r\n    }\r\n}\r\n\r\n// 處理選擇列表模態框取消\r\nfunction handleSelectWhiteListCancel() {\r\n    AddWhiteListModal.value.ModalInstance.showModal = false;\r\n}\r\n\r\n// 將方法暴露給父元件使用\r\ndefineExpose({ openModal });\r\n</script>\r\n\r\n<style scoped>\r\n.modal {\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n.modal-dialog {\r\n    background-color: transparent;\r\n}\r\n\r\n.static-backdrop-animation {\r\n    animation: staticBackdropAnimation 0.15s ease-in-out;\r\n}\r\n\r\n.modal-dialog-scrollable .modal-body {\r\n    max-height: calc(100vh - 200px);\r\n    overflow-y: auto;\r\n}\r\n\r\n@keyframes staticBackdropAnimation {\r\n    0% {\r\n        transform: scale(1);\r\n    }\r\n    50% {\r\n        transform: scale(1.02);\r\n    }\r\n    100% {\r\n        transform: scale(1);\r\n    }\r\n}\r\n</style>\r\n","<template>\r\n    <div\r\n        v-if=\"modalData.ModalInstance.showModal\"\r\n        class=\"modal show d-block\"\r\n        tabindex=\"-1\"\r\n        :aria-labelledby=\"modalData.ModalInstance.modalId\"\r\n        :aria-hidden=\"!modalData.ModalInstance.showModal\"\r\n        @click=\"handleBackgroundClick\"\r\n        :class=\"{ 'static-backdrop-animation': modalData.ModalInstance.animateBackdrop }\"\r\n    >\r\n        <div\r\n            class=\"modal-dialog\"\r\n            :class=\"[modalData.ModalInstance.size, modalData.ModalInstance.scrollable ? 'modal-dialog-scrollable' : '']\"\r\n        >\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\">{{ modalData.ModalInstance.title }}</h5>\r\n                    <button type=\"button\" class=\"btn-close\" @click=\"closeModal\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <form @submit.prevent=\"handleSubmit\">\r\n                        <!-- 文件類別序號 (GUID) -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"caseNo\" class=\"form-label\">\r\n                                文件類別序號 (GUID) <span class=\"text-danger\">*</span>\r\n                            </label>\r\n                            <input\r\n                                id=\"caseNo\"\r\n                                v-model=\"formData.caseNo\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"請輸入文件類別序號\"\r\n                                maxlength=\"36\"\r\n                                disabled\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <!-- 業務別欄位 -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"business\" class=\"form-label\"> 業務別 <span class=\"text-danger\">*</span> </label>\r\n                            <div class=\"input-group\">\r\n                                <input\r\n                                    id=\"business\"\r\n                                    v-model=\"formData.business\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    placeholder=\"請選擇業務別\"\r\n                                    readonly\r\n                                    required\r\n                                />\r\n                                <button type=\"button\" class=\"btn btn-esun-outline\" @click=\"openBusinessSelectModal\">\r\n                                    選擇\r\n                                </button>\r\n                                <button\r\n                                    v-if=\"formData.permission === '2'\"\r\n                                    type=\"button\"\r\n                                    class=\"btn btn-esun-outline\"\r\n                                    @click=\"openPermissionWhiteListModal\"\r\n                                >\r\n                                    權限白名單\r\n                                </button>\r\n                            </div>\r\n                            <div v-if=\"errors.business\" class=\"invalid-feedback d-block\">\r\n                                {{ errors.business }}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- 上傳系統代碼 -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"uploadSystemID\" class=\"form-label\">上傳系統代碼</label>\r\n                            <input\r\n                                id=\"uploadSystemID\"\r\n                                v-model=\"formData.uploadSystemID\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"上傳者為系統時，請填入系統代碼 (如: OOA)\"\r\n                                maxlength=\"20\"\r\n                                disabled\r\n                            />\r\n                        </div>\r\n\r\n                        <!-- 上傳員工代碼 -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"uploadEmployeeNo\" class=\"form-label\">上傳員工代碼</label>\r\n                            <input\r\n                                id=\"uploadEmployeeNo\"\r\n                                v-model=\"formData.uploadEmployeeNo\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"上傳者為員工時，請填入員工代碼 (如: S717XX)\"\r\n                                maxlength=\"20\"\r\n                                disabled\r\n                            />\r\n                        </div>\r\n\r\n                        <!-- 文件類別權限 -->\r\n                        <div class=\"mb-3\">\r\n                            <label class=\"form-label\"> 文件類別權限 <span class=\"text-danger\">*</span> </label>\r\n                            <div class=\"d-flex flex-column gap-2\">\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission0\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"0\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission0\"> 不限制任何系統 (Public) </label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission1\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"1\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission1\"> 限制註冊系統 (Protect) </label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission2\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"2\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission2\">\r\n                                        限制白名單系統 (ProtectInternal)\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission3\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"3\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission3\"> 自己才可存取 (Private) </label>\r\n                                </div>\r\n                            </div>\r\n                            <div v-if=\"errors.permission\" class=\"invalid-feedback d-block\">\r\n                                {{ errors.permission }}\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-esun-outline\" @click=\"closeModal\">取消</button>\r\n                    <button type=\"button\" class=\"btn btn-esun-primary\" @click=\"handleSubmit\" :disabled=\"isSubmitting\">\r\n                        <span v-if=\"isSubmitting\" class=\"spinner-border spinner-border-sm me-2\"></span>\r\n                        {{ isSubmitting ? '更新中...' : '更新' }}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- 業務別選擇Modal -->\r\n    <SelectListModal\r\n        v-if=\"businessSelectModal.ModalInstance.showModal\"\r\n        :myModal=\"businessSelectModal.ModalInstance\"\r\n        :paginationType=\"businessSelectModal.PaginationType\"\r\n        :disabledDataList=\"[]\"\r\n        :selectedList=\"businessSelectModal.DataList\"\r\n        :totalItems=\"businessSelectModal.TotalItems\"\r\n        :onSelect=\"handleBusinessSelect\"\r\n        :onCancel=\"handleBusinessSelectCancel\"\r\n        :onPageChange=\"onBusinessPageChange\"\r\n    />\r\n\r\n    <!-- 權限白名單Modal -->\r\n    <FileCasePermissionWhiteListModal\r\n        v-if=\"showPermissionWhiteListModal\"\r\n        ref=\"permissionWhiteListModalRef\"\r\n        :operateCaseNo=\"formData.caseNo\"\r\n    />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted, watch } from 'vue';\r\nimport type { MyBaseModal } from '@/components/modal/BaseModal/schema';\r\n\r\nimport SelectListModal from '@/components/modal/SelectListModal/SelectListModal.vue';\r\nimport type { InternalSelectedList, MySelectListModal } from '@/components/modal/SelectListModal/schema';\r\nimport FileCasePermissionWhiteListModal from './FileCasePermissionWhiteListModal.vue';\r\nimport * as ApiClient from '@/libs/ApiClient';\r\nimport API from '@/api/v1/';\r\n\r\nexport interface FileCaseUpdateFormData {\r\n    caseNo: string;\r\n    business: string;\r\n    uploadSystemID?: string | null;\r\n    uploadEmployeeNo?: string | null;\r\n    permission: string | null; // '0' | '1' | '2' | '3'\r\n}\r\n\r\n// Props\r\nconst props = defineProps<{\r\n    onSubmit?: (data: FileCaseUpdateFormData) => Promise<void>;\r\n}>();\r\n\r\n// Emits\r\nconst emit = defineEmits<{\r\n    submit: [data: FileCaseUpdateFormData];\r\n    cancel: [];\r\n}>();\r\n\r\n// Modal 資料結構\r\ninterface ModalData {\r\n    ModalInstance: MyBaseModal & { animateBackdrop?: boolean };\r\n}\r\n\r\nconst modalData = ref<ModalData>({\r\n    ModalInstance: {\r\n        modalId: 'fileCaseUpdateModal',\r\n        title: '修改文件類別',\r\n        showModal: false,\r\n        size: 'modal-xl',\r\n        staticBackdrop: true,\r\n        scrollable: false,\r\n        animateBackdrop: false\r\n    }\r\n});\r\n\r\n// 表單資料\r\nconst formData = reactive<FileCaseUpdateFormData>({\r\n    caseNo: '',\r\n    business: '',\r\n    uploadSystemID: null,\r\n    uploadEmployeeNo: null,\r\n    permission: null\r\n});\r\n\r\n// 表單驗證錯誤\r\nconst errors = reactive({\r\n    business: '',\r\n    permission: ''\r\n});\r\n\r\n// 提交狀態\r\nconst isSubmitting = ref(false);\r\n\r\n// 業務別選擇Modal結構\r\ninterface IBusinessSelectModal {\r\n    ModalInstance: MySelectListModal;\r\n    PaginationType: 'server';\r\n    DisabledDataList: string[] | null;\r\n    DataList: InternalSelectedList[];\r\n    TotalItems: number;\r\n    PageNumber: number;\r\n    PageSize: number;\r\n}\r\n\r\nconst businessSelectModal = ref<IBusinessSelectModal>({\r\n    ModalInstance: {\r\n        modalId: 'business-select-modal',\r\n        title: '選擇業務別',\r\n        showModal: false,\r\n        size: 'modal-xl',\r\n        staticBackdrop: true,\r\n        scrollable: true\r\n    },\r\n    PaginationType: 'server',\r\n    DisabledDataList: null,\r\n    DataList: [],\r\n    TotalItems: 0,\r\n    PageNumber: 1,\r\n    PageSize: 10\r\n});\r\n\r\n// 權限白名單Modal相關\r\nconst showPermissionWhiteListModal = ref(false);\r\nconst permissionWhiteListModalRef = ref();\r\n\r\n// 監聽權限變化，當不是限制白名單系統時關閉權限白名單Modal\r\nwatch(\r\n    () => formData.permission,\r\n    (newVal) => {\r\n        if (newVal !== '2' && showPermissionWhiteListModal.value) {\r\n            showPermissionWhiteListModal.value = false;\r\n        }\r\n    }\r\n);\r\n\r\n// 開啟Modal並載入初始資料\r\nfunction openModal(initialData?: Partial<FileCaseUpdateFormData>) {\r\n    resetForm();\r\n    if (initialData) {\r\n        Object.assign(formData, initialData);\r\n    }\r\n    modalData.value.ModalInstance.showModal = true;\r\n}\r\n\r\n// 關閉Modal\r\nfunction closeModal() {\r\n    modalData.value.ModalInstance.showModal = false;\r\n    showPermissionWhiteListModal.value = false;\r\n    emit('cancel');\r\n}\r\n\r\n// 重置表單\r\nfunction resetForm() {\r\n    formData.caseNo = '';\r\n    formData.business = '';\r\n    formData.uploadSystemID = null;\r\n    formData.uploadEmployeeNo = null;\r\n    formData.permission = null;\r\n\r\n    errors.business = '';\r\n    errors.permission = '';\r\n\r\n    isSubmitting.value = false;\r\n}\r\n\r\n// 處理背景點擊事件\r\nfunction handleBackgroundClick(event: MouseEvent) {\r\n    if (event.target === event.currentTarget) {\r\n        modalData.value.ModalInstance.animateBackdrop = true;\r\n        setTimeout(() => {\r\n            modalData.value.ModalInstance.animateBackdrop = false;\r\n        }, 150);\r\n    }\r\n}\r\n\r\n// 表單驗證\r\nfunction validateForm(): boolean {\r\n    let isValid = true;\r\n\r\n    // 清除之前的錯誤\r\n    errors.business = '';\r\n    errors.permission = '';\r\n\r\n    // 驗證業務別\r\n    if (!formData.business.trim()) {\r\n        errors.business = '請選擇業務別';\r\n        isValid = false;\r\n    }\r\n\r\n    // 驗證權限\r\n    if (!formData.permission) {\r\n        errors.permission = '請選擇文件類別權限';\r\n        isValid = false;\r\n    }\r\n\r\n    return isValid;\r\n}\r\n\r\n// 處理表單提交\r\nasync function handleSubmit() {\r\n    if (!validateForm()) {\r\n        return;\r\n    }\r\n\r\n    isSubmitting.value = true;\r\n\r\n    try {\r\n        if (props.onSubmit) {\r\n            await props.onSubmit(formData);\r\n        } else {\r\n            emit('submit', formData);\r\n        }\r\n        closeModal();\r\n    } catch (error) {\r\n        console.error('提交表單時發生錯誤:', error);\r\n    } finally {\r\n        isSubmitting.value = false;\r\n    }\r\n}\r\n\r\n// 開啟業務別選擇Modal\r\nasync function openBusinessSelectModal() {\r\n    try {\r\n        // 載入業務別資料\r\n        const response = await API.BusinessManagementViewData('', 1, businessSelectModal.value.PageSize);\r\n\r\n        if (response.status && response.result?.items) {\r\n            businessSelectModal.value.DataList = response.result.items.map((item) => ({\r\n                name: item.business,\r\n                value: item.business\r\n            }));\r\n            businessSelectModal.value.TotalItems = response.result.totalCount;\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n            return;\r\n        }\r\n\r\n        businessSelectModal.value.ModalInstance.showModal = true;\r\n    } catch (error) {\r\n        ApiClient.HandleError(error);\r\n        console.error('載入業務別資料時發生錯誤:', error);\r\n    }\r\n}\r\n\r\n// 處理業務別分頁變化\r\nconst onBusinessPageChange = async (searchQuery: string, pageNumber: number, pageSize: number) => {\r\n    try {\r\n        const response = await API.BusinessManagementViewData(searchQuery, pageNumber, pageSize);\r\n\r\n        if (response.status && response.result?.items) {\r\n            businessSelectModal.value.DataList = response.result.items.map((item) => ({\r\n                name: item.business,\r\n                value: item.business\r\n            }));\r\n            businessSelectModal.value.TotalItems = response.result.totalCount;\r\n            businessSelectModal.value.PageSize = pageSize;\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    } catch (error) {\r\n        console.error('載入業務別資料時發生錯誤:', error);\r\n    }\r\n};\r\n\r\n// 處理業務別選擇\r\nfunction handleBusinessSelect(selectedBusiness: string) {\r\n    formData.business = selectedBusiness;\r\n    errors.business = ''; // 清除錯誤訊息\r\n    businessSelectModal.value.ModalInstance.showModal = false;\r\n}\r\n\r\n// 處理業務別選擇取消\r\nfunction handleBusinessSelectCancel() {\r\n    businessSelectModal.value.ModalInstance.showModal = false;\r\n}\r\n\r\n// 開啟權限白名單Modal\r\nfunction openPermissionWhiteListModal() {\r\n    if (formData.permission === '2' && formData.caseNo) {\r\n        showPermissionWhiteListModal.value = true;\r\n        permissionWhiteListModalRef.value?.openModal();\r\n    }\r\n}\r\n\r\n// 暴露方法給父元件\r\ndefineExpose({\r\n    openModal,\r\n    closeModal\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.modal {\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.modal-dialog {\r\n    background-color: transparent;\r\n}\r\n\r\n.static-backdrop-animation {\r\n    animation: staticBackdropAnimation 0.15s ease-in-out;\r\n}\r\n\r\n.modal-dialog-scrollable .modal-body {\r\n    max-height: calc(100vh - 200px);\r\n    overflow-y: auto;\r\n}\r\n\r\n@keyframes staticBackdropAnimation {\r\n    0% {\r\n        transform: scale(1);\r\n    }\r\n    50% {\r\n        transform: scale(1.02);\r\n    }\r\n    100% {\r\n        transform: scale(1);\r\n    }\r\n}\r\n\r\n.form-check {\r\n    padding-left: 1.5em;\r\n}\r\n\r\n.input-group .btn {\r\n    border-left: 0;\r\n}\r\n\r\n.input-group .form-control:focus + .btn {\r\n    border-color: #86b7fe;\r\n}\r\n</style>\r\n","<style scoped>\r\n.content {\r\n    margin-left: 250px;\r\n    transition: margin-left 0.3s;\r\n}\r\n.content.expanded {\r\n    margin-left: 0;\r\n}\r\n\r\n.fade-in {\r\n    opacity: 0;\r\n    transition: opacity 0.3s ease-in-out;\r\n}\r\n\r\n.fade-in.active {\r\n    opacity: 1;\r\n}\r\n</style>\r\n\r\n<template>\r\n    <div class=\"p-4 mt-5\">\r\n        <!-- top button  -->\r\n        <div\r\n            class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\"\r\n        >\r\n            <h1 class=\"h2\">{{ RouteUrlList.FileCaseManagement.label }}</h1>\r\n            <div class=\"btn-toolbar justify-content-end mb-3\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\r\n                <div class=\"btn-group me-2\" role=\"group\" aria-label=\"First group\">\r\n                    <!-- 新增搜尋輸入框 -->\r\n                    <div class=\"input-group ms-3\" style=\"max-width: 200px\">\r\n                        <input type=\"text\" class=\"form-control\" placeholder=\"搜尋文件類別\" v-model=\"searchQuery\" />\r\n                        <div\r\n                            class=\"btn-close position-absolute end-0 top-50 translate-middle cursor-pointer shadow-none\"\r\n                            @click=\"clearSearch\"\r\n                            aria-label=\"清除搜尋\"\r\n                        >\r\n                            <button class=\"btn btn-link p-0\" aria-label=\"Close\"></button>\r\n                        </div>\r\n                    </div>\r\n                    <button class=\"btn btn-sm btn-esun-outline ml-3\" @click.prevent=\"throttledHandleSearch\">\r\n                        搜尋\r\n                    </button>\r\n                    <button class=\"btn btn-esun-primary ml-3\" @click.prevent=\"openCreateModal\">新增文件類別</button>\r\n                </div>\r\n\r\n                <!-- 切換顯示模式 -->\r\n                <div class=\"btn-group\" role=\"group\">\r\n                    <button\r\n                        class=\"btn btn-esun-outline\"\r\n                        :class=\"{ active: FileCaseData.displayMode === 'card' }\"\r\n                        @click=\"FileCaseData.displayMode = 'card'\"\r\n                    >\r\n                        卡片模式\r\n                    </button>\r\n                    <button\r\n                        class=\"btn btn-esun-outline\"\r\n                        :class=\"{ active: FileCaseData.displayMode === 'table' }\"\r\n                        @click=\"FileCaseData.displayMode = 'table'\"\r\n                    >\r\n                        表格模式\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 顯示資料 -->\r\n        <Pagination\r\n            v-if=\"FileCaseData.totalItems\"\r\n            v-model:modelValue=\"FileCaseData.currentPage\"\r\n            v-model:pageSize=\"FileCaseData.pageSize\"\r\n            :total-items=\"FileCaseData.totalItems\"\r\n        />\r\n        <div\r\n            v-if=\"FileCaseData.displayMode === 'card'\"\r\n            class=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 active\"\r\n            :class=\"{ 'fade-in': FileCaseData.currentPage }\"\r\n            ref=\"dataContainer\"\r\n        >\r\n            <div class=\"col\" v-for=\"item in FileCaseData.items\" :key=\"item.caseNo\">\r\n                <div class=\"card card-esun h-100 esun-animate-in\">\r\n                    <div class=\"card-body\">\r\n                        <h5 class=\"card-title\">{{ item.business }}</h5>\r\n                        <p class=\"card-text\">\r\n                            <strong>文件類別序號:</strong> {{ item.caseNo }}<br />\r\n                            <strong>上傳系統代碼:</strong> {{ item.uploadSystemID || '-' }}<br />\r\n                            <strong>上傳員工代碼:</strong> {{ item.uploadEmployeeNo || '-' }}<br />\r\n                            <strong>權限:</strong> {{ permissionLabel(item.permission) }}<br />\r\n                            <strong>更新時間:</strong> {{ new Date(item.updateTime).toLocaleString() }}<br />\r\n                        </p>\r\n                        <!-- 操作選單 -->\r\n                        <div class=\"dropdown mt-3\">\r\n                            <button\r\n                                class=\"btn btn-esun-outline dropdown-toggle w-100\"\r\n                                type=\"button\"\r\n                                data-bs-toggle=\"dropdown\"\r\n                                aria-expanded=\"false\"\r\n                            >\r\n                                <i class=\"bi bi-gear me-1\"></i> 操作選單\r\n                            </button>\r\n                            <ul class=\"dropdown-menu w-100\">\r\n                                <li>\r\n                                    <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"handleEdit(item)\">\r\n                                        <i class=\"bi bi-pencil-square me-1 text-primary\"></i> 修改\r\n                                    </a>\r\n                                </li>\r\n                                <li>\r\n                                    <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"handleDelete(item)\">\r\n                                        <i class=\"bi bi-trash me-1 text-danger\"></i> 刪除\r\n                                    </a>\r\n                                </li>\r\n                                <li v-if=\"item.permission === 2\">\r\n                                    <a\r\n                                        class=\"dropdown-item\"\r\n                                        href=\"#\"\r\n                                        @click.prevent=\"showPermissionWhiteListModal(item.caseNo, item.business)\"\r\n                                    >\r\n                                        <i class=\"bi bi-shield-check me-1 text-info\"></i> 權限白名單管理\r\n                                    </a>\r\n                                </li>\r\n                                <li v-if=\"item.permission !== 2\">\r\n                                    <button class=\"dropdown-item\" disabled>\r\n                                        <i class=\"bi bi-shield-check me-1 text-info\"></i> 權限白名單管理\r\n                                    </button>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div\r\n            v-else\r\n            :class=\"{ 'fade-in': FileCaseData.currentPage }\"\r\n            ref=\"dataContainer\"\r\n            style=\"overflow: auto\"\r\n            class=\"active\"\r\n        >\r\n            <table class=\"table table-bordered table-hover align-middle\">\r\n                <thead class=\"table-light\">\r\n                    <tr>\r\n                        <th>文件類別序號</th>\r\n                        <th>業務別</th>\r\n                        <th>上傳系統代碼</th>\r\n                        <th>上傳員工代碼</th>\r\n                        <th>權限</th>\r\n                        <th>更新時間</th>\r\n                        <th>操作選單</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"item in FileCaseData.items\" :key=\"item.caseNo\">\r\n                        <td>{{ item.caseNo }}</td>\r\n                        <td>{{ item.business }}</td>\r\n                        <td>{{ item.uploadSystemID || '-' }}</td>\r\n                        <td>{{ item.uploadEmployeeNo || '-' }}</td>\r\n                        <td>{{ permissionLabel(item.permission) }}</td>\r\n                        <td>{{ new Date(item.updateTime).toLocaleString() }}</td>\r\n                        <td>\r\n                            <!-- 操作選單 -->\r\n                            <div class=\"dropdown\">\r\n                                <button\r\n                                    class=\"btn btn-esun-outline dropdown-toggle w-100\"\r\n                                    type=\"button\"\r\n                                    data-bs-toggle=\"dropdown\"\r\n                                    aria-expanded=\"false\"\r\n                                >\r\n                                    <i class=\"bi bi-gear me-1\"></i> 操作選單\r\n                                </button>\r\n                                <ul class=\"dropdown-menu w-100\">\r\n                                    <li>\r\n                                        <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"handleEdit(item)\">\r\n                                            <i class=\"bi bi-pencil-square me-1 text-primary\"></i> 修改\r\n                                        </a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"handleDelete(item)\">\r\n                                            <i class=\"bi bi-trash me-1 text-danger\"></i> 刪除\r\n                                        </a>\r\n                                    </li>\r\n                                    <li v-if=\"item.permission === 2\">\r\n                                        <a\r\n                                            class=\"dropdown-item\"\r\n                                            href=\"#\"\r\n                                            @click.prevent=\"showPermissionWhiteListModal(item.caseNo, item.business)\"\r\n                                        >\r\n                                            <i class=\"bi bi-shield-check me-1 text-info\"></i> 權限白名單管理\r\n                                        </a>\r\n                                    </li>\r\n                                    <li v-if=\"item.permission !== 2\">\r\n                                        <button class=\"dropdown-item\" disabled>\r\n                                            <i class=\"bi bi-shield-check me-1 text-info\"></i> 權限白名單管理\r\n                                        </button>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <FileCaseUpdateModal\r\n            v-if=\"updateModal.showModal\"\r\n            ref=\"FileCaseUpdateModalRef\"\r\n            @submit=\"handleUpdateSubmit\"\r\n            @cancel=\"handleUpdateCancel\"\r\n        />\r\n\r\n        <Pagination\r\n            v-if=\"FileCaseData.totalItems\"\r\n            v-model:modelValue=\"FileCaseData.currentPage\"\r\n            v-model:pageSize=\"FileCaseData.pageSize\"\r\n            :total-items=\"FileCaseData.totalItems\"\r\n        />\r\n    </div>\r\n    <FileCasePermissionWhiteListModal\r\n        v-if=\"operateCaseNo\"\r\n        ref=\"FileCasePermissionWhiteListModalRef\"\r\n        :operateCaseNo=\"operateCaseNo\"\r\n    />\r\n    <FileCaseCreateModal ref=\"FileCaseCreateModalRef\" @submit=\"handleCreateSubmit\" />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted, watch, computed, reactive, nextTick } from 'vue';\r\ndefineProps<{ collapsed: boolean; paginationType?: 'client' | 'server' }>();\r\nimport Pagination from '@/components/pagination/Pagination.vue';\r\nimport * as Common from '@/libs/Common';\r\nimport type { FileCase } from '@/models/DTO/FileCase';\r\nimport * as ApiClient from '@/libs/ApiClient';\r\nimport API from '@/api/v1/';\r\nimport { type FileCaseFormData } from './FileCaseCreateModal.vue';\r\nimport type { FileCaseUpdateFormData } from './FileCaseUpdateModal.vue';\r\nimport FileCaseCreateModal from './FileCaseCreateModal.vue';\r\nimport FileCaseUpdateModal from './FileCaseUpdateModal.vue';\r\nimport { RouteUrlList } from '@/libs/RouteList';\r\nimport {\r\n    SimplePopUp,\r\n    SimplePopUpBtnType,\r\n    SimplePopUpModalType,\r\n    SimplePopUpSize,\r\n    type SimplePopupResolveResult\r\n} from '@/libs/SimplePopUp';\r\nimport FileCasePermissionWhiteListModal from './FileCasePermissionWhiteListModal.vue';\r\n\r\n// fileCases 資料（ API 傳入）\r\ninterface IFileCaseData {\r\n    items: FileCase[];\r\n    totalItems: number;\r\n    searchQuery: string;\r\n    currentPage: number;\r\n    pageSize: number;\r\n    // 顯示模式：卡片或表格\r\n    displayMode: 'card' | 'table';\r\n}\r\n\r\nconst FileCaseData = reactive<IFileCaseData>({\r\n    items: [],\r\n    totalItems: 0,\r\n    searchQuery: '',\r\n    currentPage: 1,\r\n    pageSize: 10,\r\n    displayMode: 'card'\r\n});\r\n\r\n// 建立 FileCase 相關\r\nconst FileCaseCreateModalRef = ref<InstanceType<typeof FileCaseCreateModal>>();\r\n\r\n// SimplePopUp 實例\r\nconst simplePopUp = new SimplePopUp();\r\n\r\n// 修改 FileCase 相關\r\nconst FileCaseUpdateModalRef = ref<InstanceType<typeof FileCaseUpdateModal> | null>(null);\r\nconst updateModal = reactive({ showModal: false });\r\n/**\r\n * @todo 載入資料\r\n */\r\nconst LoadViewData = async () => {\r\n    try {\r\n        const response = await API.FileCaseManagementViewData();\r\n\r\n        if (response.status && response.result?.items) {\r\n            FileCaseData.items = response.result.items;\r\n            FileCaseData.totalItems = response.result.totalItems || 0;\r\n        } else {\r\n            debugger;\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    } catch (error) {\r\n        ApiClient.HandleError(error);\r\n        console.error('Error fetching fileCases:', error);\r\n        // Handle error (e.g., show an error message)\r\n    } finally {\r\n    }\r\n};\r\n\r\nonMounted(async () => {\r\n    await LoadViewData();\r\n});\r\n\r\nwatch(\r\n    () => ({\r\n        currentPage: FileCaseData.currentPage,\r\n        pageSize: FileCaseData.pageSize\r\n    }),\r\n    (newVal, oldVal) => {\r\n        if (newVal.currentPage !== oldVal.currentPage || newVal.pageSize !== oldVal.pageSize) {\r\n            LoadViewData();\r\n        }\r\n    }\r\n);\r\n// 新增文件類別 Modal\r\nfunction openCreateModal() {\r\n    FileCaseCreateModalRef.value?.openModal();\r\n}\r\n\r\nasync function handleCreateSubmit(formData: FileCaseFormData) {\r\n    try {\r\n        const response = await API.FileCaseManagementCreate(formData);\r\n        if (response.status) {\r\n            simplePopUp\r\n                .showAlert(SimplePopUpModalType.Success, '成功', `文件類別 \"${formData.business}\" 已成功建立。`, [\r\n                    {\r\n                        id: 'ok',\r\n                        type: SimplePopUpBtnType.callback,\r\n                        btnClass: 'btn-success',\r\n                        resolveParam: 'ok',\r\n                        title: '確定'\r\n                    }\r\n                ])\r\n                .then(async () => {\r\n                    await LoadViewData();\r\n                });\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    } catch (error) {\r\n        ApiClient.HandleError(error);\r\n    }\r\n}\r\nconst searchQuery = ref('');\r\n\r\n// 搜尋文件類別資料\r\nconst handleSearch = () => {\r\n    if (!searchQuery.value) {\r\n        return;\r\n    }\r\n    LoadViewData();\r\n};\r\n// 使用節流函式包裝input事件處理器，提高效能\r\nconst throttledHandleSearch = Common.Throttle(handleSearch, 100);\r\n\r\nconst clearSearch = () => {\r\n    searchQuery.value = '';\r\n\r\n    LoadViewData();\r\n};\r\n\r\n// 編輯功能\r\nfunction handleEdit(item: FileCase) {\r\n    const updateFormData: FileCaseUpdateFormData = {\r\n        caseNo: item.caseNo,\r\n        business: item.business,\r\n        uploadSystemID: item.uploadSystemID,\r\n        uploadEmployeeNo: item.uploadEmployeeNo,\r\n        permission: String(item.permission)\r\n    };\r\n    updateModal.showModal = true;\r\n    nextTick(() => {\r\n        FileCaseUpdateModalRef.value?.openModal(updateFormData);\r\n    });\r\n}\r\n\r\n// 更新提交\r\nasync function handleUpdateSubmit(formData: FileCaseUpdateFormData) {\r\n    const fileCaseData: FileCase = {\r\n        caseNo: formData.caseNo,\r\n        business: formData.business,\r\n        uploadSystemID: formData.uploadSystemID,\r\n        uploadEmployeeNo: formData.uploadEmployeeNo,\r\n        permission: parseInt(formData.permission || '0'),\r\n        updateTime: new Date().toISOString()\r\n    };\r\n\r\n    let action: SimplePopupResolveResult<string> = await simplePopUp.showAlert(\r\n        SimplePopUpModalType.Warning,\r\n        '警告',\r\n        `確定要更新文件類別 \"${fileCaseData.business}\" 嗎？`,\r\n        [\r\n            {\r\n                id: 'cancel',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-esun-outline',\r\n                resolveParam: 'cancel',\r\n                title: '取消'\r\n            },\r\n            {\r\n                id: 'confirm',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-esun-primary',\r\n                resolveParam: 'confirm',\r\n                title: '確定'\r\n            }\r\n        ]\r\n    );\r\n\r\n    if (action.param === 'confirm') {\r\n        try {\r\n            const response = await API.FileCaseManagementUpdate(fileCaseData);\r\n            if (response.status) {\r\n                simplePopUp\r\n                    .showAlert(\r\n                        SimplePopUpModalType.Success,\r\n                        '成功',\r\n                        `文件類別 \"${fileCaseData.business}\" 已成功更新。`,\r\n                        [\r\n                            {\r\n                                id: 'ok',\r\n                                type: SimplePopUpBtnType.callback,\r\n                                btnClass: 'btn-success',\r\n                                resolveParam: 'ok',\r\n                                title: '確定'\r\n                            }\r\n                        ]\r\n                    )\r\n                    .then(async () => {\r\n                        await LoadViewData();\r\n                        updateModal.showModal = false;\r\n                    });\r\n            } else {\r\n                ApiClient.HandleGeneralRespError(response);\r\n            }\r\n        } catch (error) {\r\n            ApiClient.HandleError(error);\r\n        }\r\n    }\r\n}\r\n\r\n// 取消更新\r\nfunction handleUpdateCancel() {\r\n    updateModal.showModal = false;\r\n}\r\n\r\n// 刪除功能\r\nasync function handleDelete(item: FileCase) {\r\n    let action: SimplePopupResolveResult<string> = await simplePopUp.showAlert(\r\n        SimplePopUpModalType.Warning,\r\n        '警告',\r\n        `確定要刪除文件類別 \"${item.business}\" 嗎？此操作無法復原。`,\r\n        [\r\n            {\r\n                id: 'cancel',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-esun-outline',\r\n                resolveParam: 'cancel',\r\n                title: '取消'\r\n            },\r\n            {\r\n                id: 'confirm',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-danger',\r\n                resolveParam: 'confirm',\r\n                title: '確定刪除'\r\n            }\r\n        ]\r\n    );\r\n\r\n    if (action.param === 'confirm') {\r\n        try {\r\n            const response = await API.FileCaseManagementDelete(item.caseNo);\r\n            if (response.status) {\r\n                simplePopUp\r\n                    .showAlert(SimplePopUpModalType.Success, '成功', `文件類別 \"${item.business}\" 已成功刪除。`, [\r\n                        {\r\n                            id: 'ok',\r\n                            type: SimplePopUpBtnType.callback,\r\n                            btnClass: 'btn-success',\r\n                            resolveParam: 'ok',\r\n                            title: '確定'\r\n                        }\r\n                    ])\r\n                    .then(async () => {\r\n                        await LoadViewData();\r\n                    });\r\n            } else {\r\n                ApiClient.HandleGeneralRespError(response);\r\n            }\r\n        } catch (error) {\r\n            ApiClient.HandleError(error);\r\n        }\r\n    }\r\n}\r\n\r\n// 權限顯示\r\nfunction permissionLabel(permission: any) {\r\n    switch (String(permission)) {\r\n        case '0':\r\n            return '不限制任何系統 (Public)';\r\n        case '1':\r\n            return '限制註冊系統 (Protect)';\r\n        case '2':\r\n            return '限制白名單系統 (ProtectInternal)';\r\n        case '3':\r\n            return '自己才可存取 (Private)';\r\n        default:\r\n            return '-';\r\n    }\r\n}\r\n\r\n// 權限白名單管理\r\nconst operateCaseNo = ref<string>('');\r\n// 引用權限白名單管理 Modal\r\nconst FileCasePermissionWhiteListModalRef = ref<InstanceType<typeof FileCasePermissionWhiteListModal>>();\r\n\r\n/**\r\n * 開啟權限白名單管理Modal\r\n */\r\nconst showPermissionWhiteListModal = (caseNo: string, business: string) => {\r\n    operateCaseNo.value = caseNo;\r\n    nextTick(() => {\r\n        FileCasePermissionWhiteListModalRef.value?.openModal();\r\n    });\r\n};\r\n</script>\r\n"],"names":["props","__props","emit","__emit","modalData","ref","ModalInstance","modalId","title","showModal","size","staticBackdrop","scrollable","animateBackdrop","formData","reactive","business","uploadSystemID","uploadEmployeeNo","permission","errors","isSubmitting","businessSelectModal","PaginationType","DisabledDataList","DataList","TotalItems","PageNumber","PageSize","closeModal","value","handleBackgroundClick","event","target","currentTarget","setTimeout","handleSubmit","_handleSubmit","apply","arguments","_asyncToGenerator","_regenerator","m","_callee2","_t2","w","_context2","n","isValid","trim","a","p","onSubmit","v","console","error","f","openBusinessSelectModal","_openBusinessSelectModal","this","_callee3","_response$result2","response","_t3","_context3","API","BusinessManagementViewData","status","result","items","map","item","name","totalCount","ApiClient.HandleGeneralRespError","onBusinessPageChange","_ref2","_callee","searchQuery","pageNumber","pageSize","_response$result","_t","_context","_x","_x2","_x3","handleBusinessSelect","selectedBusiness","handleBusinessSelectCancel","__expose","openModal","_createElementBlock","class","tabindex","onClick","_createElementVNode","_normalizeClass","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","type","_hoisted_5","_hoisted_6","for","_hoisted_7","id","_cache","$event","placeholder","readonly","required","_vModelText","_openBlock","_hoisted_8","_hoisted_9","maxlength","disabled","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_vModelRadio","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_20","_createTextVNode","_createBlock","SelectListModal","myModal","paginationType","disabledDataList","selectedList","totalItems","onSelect","onCancel","onPageChange","AllowData","GetDefaultAllowData","concat","operateCaseNo","DisplayMode","CurrentPage","_openModal","_callee6","_context6","LoadViewData","watch","currentPage","newVal","oldVal","_callee4","_t4","_context4","FileCasePermissionWhiteListViewData","ApiClient.HandleError","simplePopUp","SimplePopUp","RemoveWhiteListBusiness","_RemoveWhiteListBusiness","_callee7","_context7","showAlert","SimplePopUpModalType","Warning","SimplePopUpBtnType","callback","btnClass","resolveParam","action","param","FileCasePermissionWhiteListRemove","AddWhiteListModal","TotalCount","_ref5","_callee5","_response$result3","_t5","_context5","_x5","_x6","_x7","openAddWhiteListModal","_openAddWhiteListModal","_callee8","resp","_context8","initAddWhiteListModal","handleSelectWhiteListSubmit","_handleSelectWhiteListSubmit","_callee9","_t6","_context9","FileCasePermissionWhiteListAdd","handleSelectWhiteListCancel","active","length","_Fragment","index","key","style","flex","width","Pagination","modelValue","caseNo","showPermissionWhiteListModal","permissionWhiteListModalRef","_handleSubmit2","_callee1","_t8","_context1","_openBusinessSelectModal2","_callee10","_response$result5","_t9","_context10","_ref7","_callee0","_response$result4","_t7","_context0","_x9","_x0","_x1","openPermissionWhiteListModal","_permissionWhiteListM","initialData","Object","assign","_hoisted_19","_hoisted_21","FileCasePermissionWhiteListModal","FileCaseData","displayMode","FileCaseCreateModalRef","FileCaseUpdateModalRef","updateModal","_callee11","_response$result6","_t0","_context11","FileCaseManagementViewData","openCreateModal","_FileCaseCreateModalR","handleCreateSubmit","_callee14","_t1","_context14","FileCaseManagementCreate","Success","then","_callee13","_context13","onMounted","_callee12","_context12","throttledHandleSearch","Common.Throttle","clearSearch","handleEdit","updateFormData","String","nextTick","_FileCaseUpdateModalR","handleUpdateSubmit","_handleUpdateSubmit","_callee16","fileCaseData","_t10","_context16","parseInt","updateTime","Date","toISOString","FileCaseManagementUpdate","_callee15","_context15","handleUpdateCancel","handleDelete","_callee18","_t11","_context18","FileCaseManagementDelete","_callee17","_context17","permissionLabel","FileCasePermissionWhiteListModalRef","_FileCasePermissionWh","_hoisted_1","_unref","FileCaseManagement","label","_withModifiers","_renderList","toLocaleString","href","overflow","_hoisted_24","_hoisted_26","FileCaseUpdateModal","_createVNode","FileCaseCreateModal"],"mappings":"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"}