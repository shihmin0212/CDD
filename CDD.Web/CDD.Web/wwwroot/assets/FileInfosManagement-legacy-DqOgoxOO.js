!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,n,l="function"==typeof Symbol?Symbol:{},o=l.iterator||"@@iterator",i=l.toStringTag||"@@toStringTag";function r(e,l,o,i){var r=l&&l.prototype instanceof u?l:u,c=Object.create(r.prototype);return a(c,"_invoke",function(e,a,l){var o,i,r,u=0,c=l||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,a){return o=e,i=0,r=t,p.n=a,s}};function f(e,a){for(i=e,r=a,n=0;!d&&u&&!l&&n<c.length;n++){var l,o=c[n],f=p.p,v=o[2];e>3?(l=v===a)&&(r=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=f&&((l=e<2&&f<o[1])?(i=0,p.v=a,p.n=o[1]):f<v&&(l=e<3||o[0]>a||a>v)&&(o[4]=e,o[5]=a,p.n=v,i=0))}if(l||e>1)return s;throw d=!0,a}return function(l,c,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&f(c,v),i=c,r=v;(n=i<2?t:r)||!d;){o||(i?i<3?(i>1&&(p.n=-1),f(i,r)):p.n=r:p.v=r);try{if(u=2,o){if(i||(l="next"),n=o[l]){if(!(n=n.call(o,r)))throw TypeError("iterator result is not an object");if(!n.done)return n;r=n.value,i<2&&(i=0)}else 1===i&&(n=o.return)&&n.call(o),i<2&&(r=TypeError("The iterator does not provide a '"+l+"' method"),i=1);o=t}else if((n=(d=p.n<0)?r:e.call(a,p))!==s)break}catch(n){o=t,i=1,r=n}finally{u=1}}return{value:n,done:d}}}(e,o,i),!0),c}var s={};function u(){}function c(){}function d(){}n=Object.getPrototypeOf;var p=[][o]?n(n([][o]())):(a(n={},o,(function(){return this})),n),f=d.prototype=u.prototype=Object.create(p);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=d,a(f,"constructor",d),a(d,"constructor",c),c.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(f),a(f,i,"Generator"),a(f,o,(function(){return this})),a(f,"toString",(function(){return"[object Generator]"})),(e=function(){return{w:r,m:v}})()}function a(e,t,n,l){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,t,n,l){if(t)o?o(e,t,{value:n,enumerable:!l,configurable:!l,writable:!l}):e[t]=n;else{var i=function(t,n){a(e,t,(function(e){return this._invoke(t,n,e)}))};i("next",0),i("throw",1),i("return",2)}},a(e,t,n,l)}function t(e,a,t,n,l,o,i){try{var r=e[o](i),s=r.value}catch(e){return void t(e)}r.done?a(s):Promise.resolve(s).then(n,l)}function n(e){return function(){var a=this,n=arguments;return new Promise((function(l,o){var i=e.apply(a,n);function r(e){t(i,l,o,r,s,"next",e)}function s(e){t(i,l,o,r,s,"throw",e)}r(void 0)}))}}function l(e,a){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,a){if(e){if("string"==typeof e)return o(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,a):void 0}}(e))||a&&e&&"number"==typeof e.length){t&&(e=t);var n=0,l=function(){};return{s:l,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==t.return||t.return()}finally{if(s)throw i}}}}function o(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}System.register(["./index-legacy-DIWtPno0.js","./Pagination.vue_vue_type_script_setup_true_lang-legacy-Ck0czqvf.js","./JsonFormModal-legacy-DObr9vyI.js","./lodash-legacy-CGA_2Ccp.js"],(function(a,t){"use strict";var o,i,r,s,u,c,d,p,f,v,m,b,y,h,g,k,w,x,M,C,S,I,P,N,U,T,D,F,z,A,R,L,_,B,j,q,E,V;return{setters:[function(e){o=e.X,i=e.d,r=e.s,s=e.w,u=e.c,c=e.h,d=e.e,p=e.n,f=e.f,v=e.t,m=e.x,b=e.g,y=e.v,h=e.Y,g=e.F,k=e.A,w=e.E,x=e.B,M=e.H,C=e.T,S=e._,I=e.z,P=e.Z,N=e.S,U=e.J,T=e.K,D=e.C,F=e.r,z=e.b,A=e.y,R=e.V,L=e.$,_=e.a0,B=e.a1,j=e.l,q=e.R},function(e){E=e._},function(e){V=e.J},null],execute:function(){var t=document.createElement("style");t.textContent=".modal[data-v-20959250]{background-color:rgba(0,0,0,.5)}.modal-dialog[data-v-20959250]{background-color:transparent}.static-backdrop-animation[data-v-20959250]{animation:staticBackdropAnimation-20959250 .15s ease-in-out}.modal-dialog-scrollable .modal-body[data-v-20959250]{max-height:calc(100vh - 200px);overflow-y:auto}@keyframes staticBackdropAnimation-20959250{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}.modal[data-v-5d86ea9c]{background-color:rgba(0,0,0,.5)}.modal-dialog[data-v-5d86ea9c]{background-color:transparent}.static-backdrop-animation[data-v-5d86ea9c]{animation:staticBackdropAnimation-5d86ea9c .15s ease-in-out}.modal-dialog-scrollable .modal-body[data-v-5d86ea9c]{max-height:calc(100vh - 200px);overflow-y:auto}@keyframes staticBackdropAnimation-5d86ea9c{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}.modal[data-v-241fc820]{background-color:rgba(0,0,0,.5)}.modal-dialog[data-v-241fc820]{background-color:transparent}.static-backdrop-animation[data-v-241fc820]{animation:staticBackdropAnimation-241fc820 .15s ease-in-out}.modal-dialog-scrollable .modal-body[data-v-241fc820]{max-height:calc(100vh - 200px);overflow-y:auto}@keyframes staticBackdropAnimation-241fc820{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}.modal[data-v-87118645]{background-color:rgba(0,0,0,.8)}.modal-dialog[data-v-87118645]{background-color:transparent}.static-backdrop-animation[data-v-87118645]{animation:staticBackdropAnimation-87118645 .15s ease-in-out}@keyframes staticBackdropAnimation-87118645{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}.modal-body img[data-v-87118645]{border-radius:4px;box-shadow:0 4px 6px rgba(0,0,0,.1)}.content[data-v-5bd73a01]{margin-left:250px;transition:margin-left .3s}.content.expanded[data-v-5bd73a01]{margin-left:0}.fade-in[data-v-5bd73a01]{opacity:0;transition:opacity .3s ease-in-out}.fade-in.active[data-v-5bd73a01]{opacity:1}\n/*$vite$:1*/",document.head.appendChild(t);function O(e,a){var t,n=l(e.fieldGroups);try{for(n.s();!(t=n.n()).done;){var o,i=l(t.value.fields);try{for(i.s();!(o=i.n()).done;){var r=o.value;if(r.modelId===a)return r}}catch(s){i.e(s)}finally{i.f()}}}catch(s){n.e(s)}finally{n.f()}return null}var Q=["aria-labelledby","aria-hidden"],G={class:"modal-content"},W={class:"modal-header"},H={class:"modal-title"},Y={class:"modal-body"},K={class:"mb-3"},$={class:"input-group"},J={class:"btn-group me-2 mb-3",role:"group","aria-label":"First group"},X={key:0,class:"text-muted"},Z={key:1,class:"d-flex flex-wrap w-100",style:{"min-height":"400px"}},ee={class:"card"},ae={class:"card-body p-2 d-flex flex-column justify-content-between",style:{height:"140px"}},te={class:"mb-2"},ne=["title"],le={class:"text-muted small"},oe={class:"text-muted small"},ie={class:"text-muted small"},re=["onClick","disabled"],se={key:2,style:{"min-height":"400px"}},ue={class:"table table-bordered table-hover"},ce=["onClick","disabled"],de={class:"modal-footer"},pe=i({__name:"BusinessSelectModal",emits:["select"],setup:function(a,t){var l=t.expose,o=t.emit,i=r({ModalInstance:{modalId:"BusinessSelectModal",title:"選擇業務別",showModal:!1,size:"modal-xl",staticBackdrop:!0,animateBackdrop:!1,scrollable:!0},PaginationType:"server",DisplayMode:"table",DataList:[],TotalItems:0,CurrentPage:1,PageSize:10,SearchQuery:""}),S=r("");function I(){return(I=n(e().m((function a(){return e().w((function(e){for(;;)switch(e.n){case 0:return i.value={ModalInstance:{modalId:"BusinessSelectModal",title:"選擇業務別",showModal:!1,size:"modal-xl",staticBackdrop:!0,animateBackdrop:!1,scrollable:!0},PaginationType:"server",DisplayMode:"table",DataList:[],TotalItems:0,CurrentPage:1,PageSize:10,SearchQuery:""},S.value="",e.n=1,U();case 1:i.value.ModalInstance.showModal=!0;case 2:return e.a(2)}}),a)})))).apply(this,arguments)}function P(){i.value.ModalInstance.showModal=!1}function N(e){e.target===e.currentTarget&&(i.value.ModalInstance.animateBackdrop=!0,setTimeout((function(){i.value.ModalInstance.animateBackdrop=!1}),150))}s((function(){return{currentPage:i.value.CurrentPage,pageSize:i.value.PageSize}}),(function(){U()}));var U=function(){var a=n(e().m((function a(){var t,n;return e().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,x.BusinessManagementViewData(i.value.SearchQuery,i.value.CurrentPage,i.value.PageSize);case 1:(t=e.v)&&t.status?(i.value.DataList=t.result.items.filter((function(e){return"Y"===e.isActive&&"Y"!==e.isDeleted})),i.value.TotalItems=t.result.totalCount):M(t),e.n=3;break;case 2:e.p=2,n=e.v,console.error("Error fetching Business data:",n);case 3:return e.a(2)}}),a,null,[[0,2]])})));return function(){return a.apply(this,arguments)}}(),T=C(U,300);function D(e){R("select",e.business),P()}function F(e){if(!e)return"";try{return new Date(e).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(a){return e}}function z(){i.value.SearchQuery=S.value,i.value.CurrentPage=1,T()}function A(){S.value="",i.value.SearchQuery="",i.value.CurrentPage=1,T()}var R=o;return l({openModal:function(){return I.apply(this,arguments)}}),function(e,a){return i.value.ModalInstance.showModal?(d(),u("div",{key:0,class:p(["modal show d-block",{"static-backdrop-animation":i.value.ModalInstance.animateBackdrop}]),tabindex:"-1","aria-labelledby":i.value.ModalInstance.modalId,"aria-hidden":!i.value.ModalInstance.showModal,onClick:N},[f("div",{class:p(["modal-dialog",[i.value.ModalInstance.size,i.value.ModalInstance.scrollable?"modal-dialog-scrollable":""]])},[f("div",G,[f("div",W,[f("h5",H,v(i.value.ModalInstance.title),1),f("button",{type:"button",class:"btn-close",onClick:P})]),f("div",Y,[f("div",K,[f("div",$,[a[5]||(a[5]=f("span",{class:"input-group-text"},[f("i",{class:"bi bi-search"})],-1)),b(f("input",{type:"text",class:"form-control",placeholder:"搜尋業務別代號...","onUpdate:modelValue":a[0]||(a[0]=function(e){return S.value=e}),onKeyup:h(z,["enter"])},null,544),[[y,S.value]]),f("button",{class:"btn btn-esun-primary",type:"button",onClick:z},"搜尋"),i.value.SearchQuery?(d(),u("button",{key:0,class:"btn btn-esun-outline",type:"button",onClick:A}," 清除 ")):c("",!0)])]),f("div",J,[f("button",{type:"button",class:p(["btn btn-esun-outline",{active:"card"===i.value.DisplayMode}]),onClick:a[1]||(a[1]=function(e){return i.value.DisplayMode="card"})}," 卡片顯示 ",2),f("button",{type:"button",class:p(["btn btn-esun-outline",{active:"table"===i.value.DisplayMode}]),onClick:a[2]||(a[2]=function(e){return i.value.DisplayMode="table"})}," 表格顯示 ",2)]),0===i.value.DataList.length?(d(),u("div",X,"無業務別資料")):c("",!0),"card"===i.value.DisplayMode?(d(),u("div",Z,[(d(!0),u(g,null,k(i.value.DataList,(function(e,a){return d(),u("div",{key:a,class:"p-2",style:{flex:"1 1 0","min-width":"33.33%","max-width":"33.33%",width:"33.33%"}},[f("div",ee,[f("div",ae,[f("div",te,[f("div",{class:"text-truncate fw-bold",title:e.business,style:{width:"100%"}},v(e.business),9,ne),f("div",le,"系統: "+v(e.system),1),f("div",oe," 狀態: "+v("Y"===e.isActive?"啟用":"停用"),1),f("div",ie,"建立時間: "+v(F(e.createdTime)),1)]),f("button",{type:"button",class:"btn btn-sm btn-esun-primary align-self-end",onClick:function(a){return D(e)},disabled:"Y"!==e.isActive}," 選擇 ",8,re)])])])})),128))])):c("",!0),"table"===i.value.DisplayMode?(d(),u("div",se,[f("table",ue,[a[6]||(a[6]=f("thead",null,[f("tr",null,[f("th",null,"業務別代號"),f("th",null,"系統代號"),f("th",null,"狀態"),f("th",null,"建立時間"),f("th",null,"操作")])],-1)),f("tbody",null,[(d(!0),u(g,null,k(i.value.DataList,(function(e,a){return d(),u("tr",{key:a},[f("td",null,v(e.business),1),f("td",null,v(e.system),1),f("td",null,[f("span",{class:p("Y"===e.isActive?"text-success":"text-danger")},v("Y"===e.isActive?"啟用":"停用"),3)]),f("td",null,v(F(e.createdTime)),1),f("td",null,[f("button",{type:"button",class:"btn btn-sm btn-esun-primary",onClick:function(a){return D(e)},disabled:"Y"!==e.isActive}," 選擇 ",8,ce)])])})),128))])])])):c("",!0),i.value.DataList.length>0?(d(),m(E,{key:3,modelValue:i.value.CurrentPage,"onUpdate:modelValue":a[3]||(a[3]=function(e){return i.value.CurrentPage=e}),pageSize:i.value.PageSize,"onUpdate:pageSize":a[4]||(a[4]=function(e){return i.value.PageSize=e}),"total-items":i.value.TotalItems},null,8,["modelValue","pageSize","total-items"])):c("",!0)]),f("div",de,[f("button",{class:"btn btn-esun-outline",onClick:w(P,["prevent"])},"取消")])])],2)],10,Q)):c("",!0)}}}),fe=S(pe,[["__scopeId","data-v-20959250"]]),ve=["aria-labelledby","aria-hidden"],me={class:"modal-content"},be={class:"modal-header"},ye={class:"modal-title"},he={class:"modal-body"},ge={class:"mb-3"},ke={class:"input-group"},we={class:"btn-group me-2 mb-3",role:"group","aria-label":"First group"},xe={key:0,class:"text-muted"},Me={key:1,class:"d-flex flex-wrap w-100",style:{"min-height":"400px"}},Ce={class:"card"},Se={class:"card-body p-2 d-flex flex-column justify-content-between",style:{height:"140px"}},Ie={class:"mb-2"},Pe=["title"],Ne={class:"text-muted small"},Ue={class:"text-muted small"},Te={class:"text-muted small"},De=["onClick"],Fe={key:2,style:{"min-height":"400px"}},ze={class:"table table-bordered table-hover"},Ae=["onClick"],Re={class:"modal-footer"},Le=i({__name:"FileCaseSelectModal",emits:["select"],setup:function(a,t){var l=t.expose,o=t.emit,i=r({ModalInstance:{modalId:"FileCaseSelectModal",title:"選擇檔案案件",showModal:!1,size:"modal-xl",staticBackdrop:!0,animateBackdrop:!1,scrollable:!0},PaginationType:"server",DisplayMode:"table",DataList:[],TotalItems:0,CurrentPage:1,PageSize:10,SearchQuery:""}),S=r("");function I(){return(I=n(e().m((function a(){return e().w((function(e){for(;;)switch(e.n){case 0:return i.value={ModalInstance:{modalId:"FileCaseSelectModal",title:"選擇檔案案件",showModal:!1,size:"modal-xl",staticBackdrop:!0,animateBackdrop:!1,scrollable:!0},PaginationType:"server",DisplayMode:"table",DataList:[],TotalItems:0,CurrentPage:1,PageSize:10,SearchQuery:""},S.value="",e.n=1,U();case 1:i.value.ModalInstance.showModal=!0;case 2:return e.a(2)}}),a)})))).apply(this,arguments)}function P(){i.value.ModalInstance.showModal=!1}function N(e){e.target===e.currentTarget&&(i.value.ModalInstance.animateBackdrop=!0,setTimeout((function(){i.value.ModalInstance.animateBackdrop=!1}),150))}s((function(){return{currentPage:i.value.CurrentPage,pageSize:i.value.PageSize}}),(function(){U()}));var U=function(){var a=n(e().m((function a(){var t,n,l;return e().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,x.FileCaseManagementViewData({pageNumber:i.value.CurrentPage,pageSize:i.value.PageSize,searchQuery:i.value.SearchQuery});case 1:(t=e.v)&&t.status?(i.value.DataList=t.result.items,i.value.TotalItems=null!==(n=t.result.totalItems)&&void 0!==n?n:0):M(t),e.n=3;break;case 2:e.p=2,l=e.v,console.error("Error fetching FileCase data:",l);case 3:return e.a(2)}}),a,null,[[0,2]])})));return function(){return a.apply(this,arguments)}}(),T=C(U,300);function D(e){L("select",e.caseNo),P()}function F(e){return{0:"不限制任何系統 (Public)",1:"限制註冊系統 (Protect)",2:"限制白名單系統 (ProtectInternal)",3:"自己才可存取 (Private)"}[e]||"未知"}function z(e){if(!e)return"";try{return new Date(e).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(a){return e}}function A(){i.value.SearchQuery=S.value,i.value.CurrentPage=1,T()}function R(){S.value="",i.value.SearchQuery="",i.value.CurrentPage=1,T()}var L=o;return l({openModal:function(){return I.apply(this,arguments)}}),function(e,a){return i.value.ModalInstance.showModal?(d(),u("div",{key:0,class:p(["modal show d-block",{"static-backdrop-animation":i.value.ModalInstance.animateBackdrop}]),tabindex:"-1","aria-labelledby":i.value.ModalInstance.modalId,"aria-hidden":!i.value.ModalInstance.showModal,onClick:N},[f("div",{class:p(["modal-dialog",[i.value.ModalInstance.size,i.value.ModalInstance.scrollable?"modal-dialog-scrollable":""]])},[f("div",me,[f("div",be,[f("h5",ye,v(i.value.ModalInstance.title),1),f("button",{type:"button",class:"btn-close",onClick:P})]),f("div",he,[f("div",ge,[f("div",ke,[a[5]||(a[5]=f("span",{class:"input-group-text"},[f("i",{class:"bi bi-search"})],-1)),b(f("input",{type:"text",class:"form-control",placeholder:"搜尋文件類別序號、業務別...","onUpdate:modelValue":a[0]||(a[0]=function(e){return S.value=e}),onKeyup:h(A,["enter"])},null,544),[[y,S.value]]),f("button",{class:"btn btn-esun-primary",type:"button",onClick:A},"搜尋"),i.value.SearchQuery?(d(),u("button",{key:0,class:"btn btn-esun-outline",type:"button",onClick:R}," 清除 ")):c("",!0)])]),f("div",we,[f("button",{type:"button",class:p(["btn btn-esun-outline",{active:"card"===i.value.DisplayMode}]),onClick:a[1]||(a[1]=function(e){return i.value.DisplayMode="card"})}," 卡片顯示 ",2),f("button",{type:"button",class:p(["btn btn-esun-outline",{active:"table"===i.value.DisplayMode}]),onClick:a[2]||(a[2]=function(e){return i.value.DisplayMode="table"})}," 表格顯示 ",2)]),0===i.value.DataList.length?(d(),u("div",xe,"無檔案案件資料")):c("",!0),"card"===i.value.DisplayMode?(d(),u("div",Me,[(d(!0),u(g,null,k(i.value.DataList,(function(e,a){return d(),u("div",{key:a,class:"p-2",style:{flex:"1 1 0","min-width":"33.33%","max-width":"33.33%",width:"33.33%"}},[f("div",Ce,[f("div",Se,[f("div",Ie,[f("div",{class:"text-truncate fw-bold",title:e.caseNo,style:{width:"100%"}},v(e.caseNo),9,Pe),f("div",Ne,"業務別: "+v(e.business),1),f("div",Ue," 權限: "+v(F(e.permission)),1),f("div",Te,"更新時間: "+v(z(e.updateTime)),1)]),f("button",{type:"button",class:"btn btn-sm btn-esun-primary align-self-end",onClick:function(a){return D(e)}}," 選擇 ",8,De)])])])})),128))])):c("",!0),"table"===i.value.DisplayMode?(d(),u("div",Fe,[f("table",ze,[a[6]||(a[6]=f("thead",null,[f("tr",null,[f("th",null,"文件類別序號"),f("th",null,"業務別"),f("th",null,"權限"),f("th",null,"更新時間"),f("th",null,"操作")])],-1)),f("tbody",null,[(d(!0),u(g,null,k(i.value.DataList,(function(e,a){return d(),u("tr",{key:a},[f("td",null,v(e.caseNo),1),f("td",null,v(e.business),1),f("td",null,v(F(e.permission)),1),f("td",null,v(z(e.updateTime)),1),f("td",null,[f("button",{type:"button",class:"btn btn-sm btn-esun-primary",onClick:function(a){return D(e)}}," 選擇 ",8,Ae)])])})),128))])])])):c("",!0),i.value.DataList.length>0?(d(),m(E,{key:3,modelValue:i.value.CurrentPage,"onUpdate:modelValue":a[3]||(a[3]=function(e){return i.value.CurrentPage=e}),pageSize:i.value.PageSize,"onUpdate:pageSize":a[4]||(a[4]=function(e){return i.value.PageSize=e}),"total-items":i.value.TotalItems},null,8,["modelValue","pageSize","total-items"])):c("",!0)]),f("div",Re,[f("button",{class:"btn btn-esun-outline",onClick:w(P,["prevent"])},"取消")])])],2)],10,ve)):c("",!0)}}}),_e=S(Le,[["__scopeId","data-v-5d86ea9c"]]),Be=["aria-labelledby","aria-hidden"],je={class:"modal-content"},qe={class:"modal-header"},Ee={class:"modal-title"},Ve={class:"modal-body"},Oe={class:"mb-3"},Qe={class:"input-group"},Ge={class:"btn-group me-2 mb-3",role:"group","aria-label":"First group"},We={key:0,class:"text-muted"},He={key:1,class:"d-flex flex-wrap w-100",style:{"min-height":"400px"}},Ye={class:"card"},Ke={class:"card-body p-2 d-flex flex-column justify-content-between",style:{height:"140px"}},$e={class:"mb-2"},Je=["title"],Xe={class:"text-muted small"},Ze={class:"text-muted small"},ea={class:"text-muted small"},aa=["onClick"],ta={key:2,style:{"min-height":"400px"}},na={class:"table table-bordered table-hover"},la=["onClick"],oa={class:"modal-footer"},ia=i({__name:"DocTypeSelectModal",emits:["select"],setup:function(a,t){var l=t.expose,o=t.emit,i=r({ModalInstance:{modalId:"DocTypeSelectModal",title:"選擇文件類型",showModal:!1,size:"modal-xl",staticBackdrop:!0,animateBackdrop:!1,scrollable:!0},PaginationType:"server",DisplayMode:"table",DataList:[],TotalItems:0,CurrentPage:1,PageSize:10,SearchQuery:""}),S=r("");function I(){return(I=n(e().m((function a(){return e().w((function(e){for(;;)switch(e.n){case 0:return i.value={ModalInstance:{modalId:"DocTypeSelectModal",title:"選擇文件類型",showModal:!1,size:"modal-xl",staticBackdrop:!0,animateBackdrop:!1,scrollable:!0},PaginationType:"server",DisplayMode:"table",DataList:[],TotalItems:0,CurrentPage:1,PageSize:10,SearchQuery:""},S.value="",e.n=1,U();case 1:i.value.ModalInstance.showModal=!0;case 2:return e.a(2)}}),a)})))).apply(this,arguments)}function P(){i.value.ModalInstance.showModal=!1}function N(e){e.target===e.currentTarget&&(i.value.ModalInstance.animateBackdrop=!0,setTimeout((function(){i.value.ModalInstance.animateBackdrop=!1}),150))}s((function(){return{currentPage:i.value.CurrentPage,pageSize:i.value.PageSize}}),(function(){U()}));var U=function(){var a=n(e().m((function a(){var t,n,l;return e().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,x.DocTypeManagementViewData(i.value.CurrentPage,i.value.PageSize,i.value.SearchQuery);case 1:(t=e.v)&&t.status?(i.value.DataList=t.result.items,i.value.TotalItems=null!==(n=t.result.totalCount)&&void 0!==n?n:0):M(t),e.n=3;break;case 2:e.p=2,l=e.v,console.error("Error fetching DocType data:",l);case 3:return e.a(2)}}),a,null,[[0,2]])})));return function(){return a.apply(this,arguments)}}(),T=C(U,300);function D(e){R("select",e.docType,e.docName),P()}function F(e){return{0:"不限制任何系統 (Public)",1:"限制註冊系統 (Protect)",2:"限制白名單系統 (ProtectInternal)",3:"自己才可存取 (Private)"}[e]||"未知"}function z(){i.value.SearchQuery=S.value,i.value.CurrentPage=1,T()}function A(){S.value="",i.value.SearchQuery="",i.value.CurrentPage=1,T()}var R=o;return l({openModal:function(){return I.apply(this,arguments)}}),function(e,a){return i.value.ModalInstance.showModal?(d(),u("div",{key:0,class:p(["modal show d-block",{"static-backdrop-animation":i.value.ModalInstance.animateBackdrop}]),tabindex:"-1","aria-labelledby":i.value.ModalInstance.modalId,"aria-hidden":!i.value.ModalInstance.showModal,onClick:N},[f("div",{class:p(["modal-dialog",[i.value.ModalInstance.size,i.value.ModalInstance.scrollable?"modal-dialog-scrollable":""]])},[f("div",je,[f("div",qe,[f("h5",Ee,v(i.value.ModalInstance.title),1),f("button",{type:"button",class:"btn-close",onClick:P})]),f("div",Ve,[f("div",Oe,[f("div",Qe,[a[5]||(a[5]=f("span",{class:"input-group-text"},[f("i",{class:"bi bi-search"})],-1)),b(f("input",{type:"text",class:"form-control",placeholder:"搜尋文件類型名稱...","onUpdate:modelValue":a[0]||(a[0]=function(e){return S.value=e}),onKeyup:h(z,["enter"])},null,544),[[y,S.value]]),f("button",{class:"btn btn-esun-primary",type:"button",onClick:z},"搜尋"),i.value.SearchQuery?(d(),u("button",{key:0,class:"btn btn-esun-outline",type:"button",onClick:A}," 清除 ")):c("",!0)])]),f("div",Ge,[f("button",{type:"button",class:p(["btn btn-esun-outline",{active:"card"===i.value.DisplayMode}]),onClick:a[1]||(a[1]=function(e){return i.value.DisplayMode="card"})}," 卡片顯示 ",2),f("button",{type:"button",class:p(["btn btn-esun-outline",{active:"table"===i.value.DisplayMode}]),onClick:a[2]||(a[2]=function(e){return i.value.DisplayMode="table"})}," 表格顯示 ",2)]),0===i.value.DataList.length?(d(),u("div",We,"無文件類型資料")):c("",!0),"card"===i.value.DisplayMode?(d(),u("div",He,[(d(!0),u(g,null,k(i.value.DataList,(function(e,a){return d(),u("div",{key:a,class:"p-2",style:{flex:"1 1 0","min-width":"33.33%","max-width":"33.33%",width:"33.33%"}},[f("div",Ye,[f("div",Ke,[f("div",$e,[f("div",{class:"text-truncate fw-bold",title:e.docName,style:{width:"100%"}},v(e.docName),9,Je),f("div",Xe,"編號: "+v(e.docType),1),f("div",Ze," 權限: "+v(F(e.permission)),1),f("div",ea,"描述: "+v(e.description||"-"),1)]),f("button",{type:"button",class:"btn btn-sm btn-esun-primary align-self-end",onClick:function(a){return D(e)}}," 選擇 ",8,aa)])])])})),128))])):c("",!0),"table"===i.value.DisplayMode?(d(),u("div",ta,[f("table",na,[a[6]||(a[6]=f("thead",null,[f("tr",null,[f("th",null,"文件類型編號"),f("th",null,"文件類型名稱"),f("th",null,"權限"),f("th",null,"描述"),f("th",null,"操作")])],-1)),f("tbody",null,[(d(!0),u(g,null,k(i.value.DataList,(function(e,a){return d(),u("tr",{key:a},[f("td",null,v(e.docType),1),f("td",null,v(e.docName),1),f("td",null,v(F(e.permission)),1),f("td",null,v(e.description||"-"),1),f("td",null,[f("button",{type:"button",class:"btn btn-sm btn-esun-primary",onClick:function(a){return D(e)}}," 選擇 ",8,la)])])})),128))])])])):c("",!0),i.value.DataList.length>0?(d(),m(E,{key:3,modelValue:i.value.CurrentPage,"onUpdate:modelValue":a[3]||(a[3]=function(e){return i.value.CurrentPage=e}),pageSize:i.value.PageSize,"onUpdate:pageSize":a[4]||(a[4]=function(e){return i.value.PageSize=e}),"total-items":i.value.TotalItems},null,8,["modelValue","pageSize","total-items"])):c("",!0)]),f("div",oa,[f("button",{class:"btn btn-esun-outline",onClick:w(P,["prevent"])},"取消")])])],2)],10,Be)):c("",!0)}}}),ra=S(ia,[["__scopeId","data-v-241fc820"]]),sa={class:"modal-dialog modal-xl modal-dialog-centered"},ua={class:"modal-content"},ca={class:"modal-header"},da={class:"modal-title"},pa={class:"modal-body text-center",style:{"max-height":"70vh",overflow:"auto"}},fa={key:0,class:"d-flex justify-content-center align-items-center",style:{height:"300px"}},va={key:1,class:"alert alert-danger"},ma={key:2},ba=["src","alt"],ya={class:"modal-footer"},ha=["disabled"],ga=i({__name:"ImagePreviewModal",setup:function(a,t){var l=t.expose,o=r(!1),i=r(!1),s=r(!1),m=r(""),b=r(""),y=r(""),h=r(null);function g(){return(g=n(e().m((function a(t){var n,l,i;return e().w((function(e){for(;;)switch(e.n){case 0:return h.value=t,y.value=t.fileName,o.value=!0,s.value=!0,m.value="",b.value="",e.p=1,e.n=2,x.GetFileContent({business:t.business,fileNo:t.fileNo});case 2:n=e.v,l=URL.createObjectURL(n),b.value=l,e.n=4;break;case 3:e.p=3,i=e.v,console.error("獲取圖片失敗:",i),m.value="無法載入圖片，請稍後再試。";case 4:return e.p=4,s.value=!1,e.f(4);case 5:return e.a(2)}}),a,null,[[1,3,4,5]])})))).apply(this,arguments)}function k(){o.value=!1,b.value&&(URL.revokeObjectURL(b.value),b.value=""),h.value=null,y.value="",m.value=""}function w(){return M.apply(this,arguments)}function M(){return(M=n(e().m((function a(){var t,n,l,o;return e().w((function(e){for(;;)switch(e.n){case 0:if(h.value&&b.value){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,x.GetFileContent({business:h.value.business,fileNo:h.value.fileNo});case 2:t=e.v,n=URL.createObjectURL(t),(l=document.createElement("a")).href=n,l.download=h.value.fileName,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(n),e.n=4;break;case 3:e.p=3,o=e.v,console.error("下載圖片失敗:",o);case 4:return e.a(2)}}),a,null,[[1,3]])})))).apply(this,arguments)}function C(e){e.target===e.currentTarget&&(i.value=!0,setTimeout((function(){i.value=!1}),150))}return l({openModal:function(e){return g.apply(this,arguments)}}),function(e,a){return o.value?(d(),u("div",{key:0,class:p(["modal show d-block",{"static-backdrop-animation":i.value}]),tabindex:"-1","aria-hidden":"false",onClick:C},[f("div",sa,[f("div",ua,[f("div",ca,[f("h5",da,"圖片預覽 - "+v(y.value),1),f("button",{type:"button",class:"btn-close",onClick:k})]),f("div",pa,[s.value?(d(),u("div",fa,a[0]||(a[0]=[f("div",{class:"spinner-border text-primary",role:"status"},[f("span",{class:"visually-hidden"},"載入中...")],-1)]))):m.value?(d(),u("div",va,v(m.value),1)):b.value?(d(),u("div",ma,[f("img",{src:b.value,alt:y.value,class:"img-fluid",style:{"max-width":"100%","max-height":"60vh","object-fit":"contain"}},null,8,ba)])):c("",!0)]),f("div",ya,[f("button",{type:"button",class:"btn btn-esun-primary",onClick:w,disabled:!b.value},a[1]||(a[1]=[f("i",{class:"bi bi-download me-1"},null,-1),I("下載圖片 ")]),8,ha),f("button",{type:"button",class:"btn btn-esun-outline",onClick:k},"關閉")])])])],2)):c("",!0)}}}),ka=S(ga,[["__scopeId","data-v-87118645"]]),wa=new N;function xa(e,a,t){return Ma.apply(this,arguments)}function Ma(){return Ma=n(e().m((function a(t,n,l){var o,i,r,s,u,c,d,p,f,v,m,b,y=arguments;return e().w((function(e){for(;;)switch(e.n){case 0:if(o=y.length>3&&void 0!==y[3]?y[3]:2048,i=y.length>4&&void 0!==y[4]?y[4]:2048,r=y.length>5&&void 0!==y[5]?y[5]:.8,s=y.length>6&&void 0!==y[6]?y[6]:8,u=y.length>7&&void 0!==y[7]?y[7]:"image/jpeg",c=!(y.length>8&&void 0!==y[8])||y[8],e.p=1,"blob"!==t){e.n=3;break}return e.n=2,Na(n);case 2:d=e.v,l=d;case 3:if(l){e.n=4;break}throw new Error("Base64 source is null.");case 4:return e.n=5,P(l);case 5:if(p=e.v,f=document.createElement("canvas"),p.width>p.height&&p.width>o?(p.height*=o/p.width,p.width=o):p.height>i&&(p.width*=i/p.height,p.height=i),f.width=p.width,f.height=p.height,v=f.getContext("2d")){e.n=6;break}throw new Error("Cannot get canvas 2D context.");case 6:if(v.clearRect(0,0,p.width,p.height),v.drawImage(p,0,0,p.width,p.height),m=f.toDataURL(u,r),!(Pa(m)>1024*s*1024)){e.n=7;break}return c&&wa.showAlert(U.Warning,"錯誤","很抱歉您上傳的照片大小超過".concat(s,"MB請重新上傳，敬請見諒。"),[{id:"confirm",type:T.callback,btnClass:"btn-info",resolveParam:"confirm",title:"確認"}]),e.a(2,null);case 7:return e.a(2,m);case 8:return e.p=8,b=e.v,D(b instanceof Error?b.message:b),e.a(2,null)}}),a,null,[[1,8]])}))),Ma.apply(this,arguments)}function Ca(e){return Sa.apply(this,arguments)}function Sa(){return Sa=n(e().m((function a(t){var n,l,o,i,r,s,u=arguments;return e().w((function(e){for(;;)if(0===e.n)return n=u.length>1&&void 0!==u[1]?u[1]:2048,l=u.length>2&&void 0!==u[2]?u[2]:2048,o=u.length>3&&void 0!==u[3]?u[3]:.8,i=u.length>4&&void 0!==u[4]?u[4]:8,r=u.length>5&&void 0!==u[5]?u[5]:"image/jpeg",s=!(u.length>6&&void 0!==u[6])||u[6],e.a(2,xa("blob",t,null,n,l,o,i,r,s))}),a)}))),Sa.apply(this,arguments)}var Ia=function(e){var a=";base64,";if(e.includes(a)){var t=e.indexOf(a)+8;return e.substring(t)}return e};function Pa(e){var a=e,t=e.indexOf(",");-1!==t&&(a=e.substring(t+1));var n=(a.match(/=+$/)||[""])[0].length;return 3*a.length/4-n}var Na=function(e){return new Promise((function(a,t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){var t;a(null===(t=e.target)||void 0===t?void 0:t.result)},n.onerror=function(e){t(e)}}))},Ua={class:"p-4 mt-5"},Ta={class:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},Da={class:"h2"},Fa={class:"btn-toolbar justify-content-end mb-3",role:"toolbar","aria-label":"Toolbar with button groups"},za={class:"btn-group me-2",role:"group","aria-label":"First group"},Aa={class:"input-group ms-3",style:{"max-width":"300px"}},Ra={class:"btn-group",role:"group"},La={class:"card card-esun h-100 esun-animate-in"},_a={class:"card-body"},Ba={class:"card-title"},ja={class:"card-text"},qa={class:"dropdown mt-3"},Ea={class:"dropdown-menu w-100"},Va=["onClick"],Oa=["onClick"],Qa=["onClick"],Ga={class:"table table-bordered table-hover align-middle"},Wa={class:"dropdown"},Ha={class:"dropdown-menu"},Ya=["onClick"],Ka=["onClick"],$a=["onClick"],Ja=i({__name:"FileInfosManagement",props:{collapsed:{type:Boolean},paginationType:{}},setup:function(a){var t=F({DataList:[],searchQuery:"",currentPage:1,pageSize:10,totalItems:0,displayMode:"card"}),l=function(){var a=n(e().m((function a(){var n,l,o;return e().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,x.FileInfosManagementViewData({pageNumber:t.currentPage,pageSize:t.pageSize,searchQuery:t.searchQuery});case 1:(l=e.v).status&&null!==(n=l.result)&&void 0!==n&&n.items?(t.DataList=l.result.items,t.totalItems=l.result.totalCount||0):M(l),e.n=3;break;case 2:e.p=2,o=e.v,console.error("Error fetching fileInfos:",o);case 3:return e.a(2)}}),a,null,[[0,2]])})));return function(){return a.apply(this,arguments)}}();function i(e){return S.apply(this,arguments)}function S(){return(S=n(e().m((function a(t){var n,l,o;return e().w((function(e){for(;;)switch(e.n){case 0:if(e.p=0,n=t.fileName.toLowerCase(),!L(n)){e.n=1;break}null===(l=Y.value)||void 0===l||l.openModal(t),e.n=2;break;case 1:return e.n=2,P(t);case 2:e.n=4;break;case 3:e.p=3,o=e.v,console.error("處理檔案預覽/下載時發生錯誤:",o),ee.showAlert(U.Warning,"錯誤","處理檔案時發生錯誤，請稍後再試。");case 4:return e.a(2)}}),a,null,[[0,3]])})))).apply(this,arguments)}function P(e){return D.apply(this,arguments)}function D(){return(D=n(e().m((function a(t){var n,l,o,i;return e().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,ee.showAlert(U.Info,"下載中","檔案下載中，請稍候..."),e.n=1,x.GetFileContent({business:t.business,fileNo:t.fileNo});case 1:return n=e.v,l=URL.createObjectURL(n),(o=document.createElement("a")).href=l,o.download=t.fileName,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(l),e.n=2,ee.showAlert(U.Success,"下載完成","檔案「".concat(t.fileName,"」下載完成！"));case 2:e.n=4;break;case 3:return e.p=3,i=e.v,console.error("下載檔案失敗:",i),e.n=4,ee.showAlert(U.Warning,"下載失敗","檔案「".concat(t.fileName,"」下載失敗，請稍後再試。"));case 4:return e.a(2)}}),a,null,[[0,3]])})))).apply(this,arguments)}z(n(e().m((function a(){return e().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,l();case 1:return e.a(2)}}),a)})))),s((function(){return{currentPage:t.currentPage,pageSize:t.pageSize}}),(function(){l()}));var Q=r({business:"",caseNo:"",docType:null,docName:"",fileNo:"",isForceFileUpload:!0,fileUpload:null,fileSrc:null,fileName:"",isActive:!0,filePermission:"3",description:null,filePath:"",isUseRetention:!1,deleteTime:null,uploadDate:null}),G=r(),W=r(),H=r(),Y=r(),K=r({modalId:"fileInfosModal",title:"新增檔案資訊",showModal:!1,size:"modal-xl",staticBackdrop:!0,scrollable:!0,fieldGroups:[{title:"",gridClass:"col-6",fields:[{modelId:"business",name:"business",type:"text",label:"選擇業務別",placeholder:"請選擇業務別",required:!1,maxlength:25,readonly:!0,onSubmitCheckCallback:function(e,a){return e||a.caseNo?"":"業務別和檔案案件必須至少選擇一項"}},{modelId:"caseNo",name:"caseNo",type:"text",label:"選擇檔案案件",placeholder:"請選擇檔案案件",required:!1,maxlength:36,readonly:!0,onSubmitCheckCallback:function(e,a){return e||a.business?"":"業務別和檔案案件必須至少選擇一項"}},{modelId:"docType",name:"docType",type:"text",label:"選擇文件類型",placeholder:"請選擇文件類型",required:!0,readonly:!0,maxlength:50},{modelId:"isForceFileUpload",name:"isForceFileUpload",type:"radio",label:"檔案名稱已存在時",inline:!0,options:[{label:"擋掉重複檔案",value:!0},{label:"允許同名檔案",value:!1}],required:!0},{modelId:"fileUpload",name:"fileUpload",type:"file",label:"上傳檔案",hint:"選擇要上傳的檔案，檔案名稱將自動填入",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.jpg,.jpeg,.png,.gif,.zip,.rar",maxSize:52428800,multiple:!1,required:!0,onInputCallback:function(e){}},{modelId:"fileName",name:"fileName",type:"text",label:"檔案名稱",placeholder:"將自動從上傳的檔案中填入",required:!1,maxlength:255,disabled:!0}]},{title:"",gridClass:"col-6",fields:[{modelId:"isActive",name:"isActive",type:"radio",label:"是否啟用（可否存取）",inline:!0,options:[{label:"啟用",value:!0},{label:"停用",value:!1}],required:!0},{modelId:"filePermission",name:"filePermission",type:"radio",label:"權限控制",inline:!0,options:[{label:"不限制任何系統都可以存取 (Public)",value:"0"},{label:"限制跟我所屬業務別註冊的業務別都可以存取 (Protect)",value:"1"},{label:"限制跟我註冊的業務別都可以存取 (Protect_Internal)",value:"2"},{label:"自己才可存取 (Private)",value:"3"}],required:!0},{modelId:"description",name:"description",type:"textarea",label:"自訂描述",placeholder:"請輸入描述",required:!1,maxlength:500,rows:3},{modelId:"isUseRetention",name:"isUseRetention",type:"radio",label:"是否啟用定期刪除",inline:!0,options:[{label:"啟用",value:!0},{label:"不啟用",value:!1}],required:!0},{modelId:"deleteTime",name:"deleteTime",type:"text",label:"定期刪除的時間點 (yyyy-MM-dd HH:mm:ss)",placeholder:"yyyy-MM-dd HH:mm:ss",required:!1,maxlength:20,disabled:!0,onSubmitCheckCallback:function(e,a){var t="";return!0===(null==a?void 0:a.isUseRetention)&&(e?!1===o(e)&&(t="時間格式錯誤"):t="請填寫 定期刪除的時間點 "),t}},{modelId:"uploadDate",name:"uploadDate",type:"text",label:"上傳或覆蓋的時間點 (yyyy-MM-dd HH:mm:ss)",placeholder:"yyyy-MM-dd HH:mm:ss",required:!1,maxlength:20,disabled:!0,onSubmitCheckCallback:function(e,a){var t="";return!0===(null==a?void 0:a.isUseRetention)&&(e?!1===o(e)&&(t="時間格式錯誤"):t="請填寫 上傳或覆蓋的時間點 "),t}}]}]}),$=r(),J=r({fileNo:"",business:"",caseNo:"",docType:null,docName:"",isForceFileUpload:null,fileUpload:null,fileSrc:"",fileName:"",isActive:null,filePermission:"3",description:null,filePath:"",isUseRetention:null,deleteTime:null,uploadDate:null}),X=r({modalId:"updateFileInfosModal",title:"編輯檔案資訊",showModal:!1,size:"modal-xl",staticBackdrop:!0,scrollable:!0,fieldGroups:[{title:"",gridClass:"col-6",fields:[{modelId:"business",name:"business",type:"text",label:"選擇業務別",placeholder:"請選擇業務別",required:!1,maxlength:25,readonly:!0,onSubmitCheckCallback:function(e,a){return e||a.caseNo?"":"業務別和檔案案件必須至少選擇一項"}},{modelId:"caseNo",name:"caseNo",type:"text",label:"選擇檔案案件",placeholder:"請選擇檔案案件",required:!1,maxlength:36,readonly:!0,onSubmitCheckCallback:function(e,a){return e||a.business?"":"業務別和檔案案件必須至少選擇一項"}},{modelId:"docType",name:"docType",type:"text",label:"選擇文件類型",placeholder:"請選擇文件類型",required:!0,readonly:!0,maxlength:50},{modelId:"fileNo",name:"fileNo",type:"text",label:"檔案序號",placeholder:"檔案序號",required:!0,maxlength:36,readonly:!0},{modelId:"isForceFileUpload",name:"isForceFileUpload",type:"radio",label:"檔案名稱已存在時",inline:!0,options:[{label:"擋掉重複檔案",value:!0},{label:"允許同名檔案",value:!1}],required:!0},{modelId:"fileUpload",name:"fileUpload",type:"file",label:"上傳檔案",hint:"選擇要上傳的檔案，檔案名稱將自動填入",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.jpg,.jpeg,.png,.gif,.zip,.rar",maxSize:52428800,multiple:!1,required:!1,onInputCallback:function(e){}},{modelId:"fileName",name:"fileName",type:"text",label:"檔案名稱",placeholder:"將自動從上傳的檔案中填入",required:!0,maxlength:255,disabled:!0},{modelId:"filePath",name:"filePath",type:"text",label:"檔案路徑",placeholder:"檔案儲存路徑",required:!1,maxlength:500,disabled:!0}]},{title:"",gridClass:"col-6",fields:[{modelId:"isActive",name:"isActive",type:"radio",label:"是否啟用（可否存取）",inline:!0,options:[{label:"啟用",value:!0},{label:"停用",value:!1}],required:!0},{modelId:"filePermission",name:"filePermission",type:"radio",label:"權限控制",inline:!0,options:[{label:"不限制任何系統都可以存取 (Public)",value:"0"},{label:"限制跟我所屬業務別註冊的業務別都可以存取 (Protect)",value:"1"},{label:"限制跟我註冊的業務別都可以存取 (Protect_Internal)",value:"2"},{label:"自己才可存取 (Private)",value:"3"}],required:!0},{modelId:"description",name:"description",type:"textarea",label:"自訂描述",placeholder:"請輸入描述",required:!1,maxlength:500,rows:3},{modelId:"isUseRetention",name:"isUseRetention",type:"radio",label:"是否啟用定期刪除",inline:!0,options:[{label:"啟用",value:!0},{label:"不啟用",value:!1}],required:!0},{modelId:"deleteTime",name:"deleteTime",type:"text",label:"定期刪除的時間點 (yyyy-MM-dd)",required:!1,maxlength:20,onSubmitCheckCallback:function(e,a){var t="";return!0===(null==a?void 0:a.isUseRetention)&&(e?!1===o(e)&&(t="時間格式錯誤"):t="請填寫 定期刪除的時間點 "),t}},{modelId:"uploadDate",name:"uploadDate",type:"text",label:"上傳或覆蓋的時間點 (yyyy-MM-dd)",required:!1,maxlength:20,onSubmitCheckCallback:function(e,a){var t="";return!0===(null==a?void 0:a.isUseRetention)&&(e?!1===o(e)&&(t="時間格式錯誤"):t="請填寫 上傳或覆蓋的時間點 "),t}}]}]}),Z=r(),ee=new N;function ae(){return te.apply(this,arguments)}function te(){return te=n(e().m((function a(){var t,l,o,i,r;return e().w((function(a){for(;;)switch(a.n){case 0:Q.value={business:"",caseNo:"",docType:null,docName:"",fileNo:"",isForceFileUpload:!0,fileUpload:null,fileSrc:null,fileName:"",isActive:!0,filePermission:"3",description:null,filePath:"",isUseRetention:!1,deleteTime:null,uploadDate:null},(t=O(K.value,"fileUpload"))&&"file"===t.type&&(t.onInputCallback=function(){var a=n(e().m((function a(t){var n,l,o,i,r,s,u,c,d,p,f,v;return e().w((function(e){for(;;)switch(e.n){case 0:if(!(n=Array.isArray(t)?t[0]:t)||!L(n.name)){e.n=7;break}return e.n=1,Ca(n,4096,4096,.8,8,"image/jpeg",!0);case 1:if(o=e.v){e.n=2;break}return e.a(2);case 2:return e.n=3,_(o);case 3:if(c=l=e.v,!(u=null!==c)){e.n=4;break}u=void 0!==l;case 4:if(!u){e.n=5;break}d=l,e.n=6;break;case 5:d="";case 6:i=d,Q.value.fileSrc=i,Q.value.fileName=n.name,e.n=13;break;case 7:if(!n||L(n.name)){e.n=12;break}return e.n=8,B(n);case 8:if(f=r=e.v,!(p=null!==f)){e.n=9;break}p=void 0!==r;case 9:if(!p){e.n=10;break}v=r,e.n=11;break;case 10:v="";case 11:s=v,Q.value.fileSrc=_(s),Q.value.fileName=n.name,e.n=13;break;case 12:Q.value.fileSrc="",Q.value.fileName="";case 13:return e.a(2)}}),a)})));return function(e){return a.apply(this,arguments)}}()),(l=O(K.value,"business"))&&"text"===l.type&&(l.onClickCallback=function(){var e;l.disabled?ee.showAlert(U.Warning,"提醒","業務別和檔案案件只能選擇一項"):null===(e=G.value)||void 0===e||e.openModal()},l.onClearInput=function(){ie("business","create")}),(o=O(K.value,"caseNo"))&&"text"===o.type&&(o.onClickCallback=function(){var e;o.disabled?ee.showAlert(U.Warning,"提醒","業務別和檔案案件只能選擇一項"):null===(e=W.value)||void 0===e||e.openModal()},o.onClearInput=function(){ie("caseNo","create")}),(i=O(K.value,"docType"))&&"text"===i.type&&(i.onClickCallback=function(){var e;null===(e=H.value)||void 0===e||e.openModal()}),(r=O(K.value,"isUseRetention"))&&"radio"===r.type&&(r.onChangeCallback=function(e){var a=!0===e||"true"===e||1===e||"1"===e;setTimeout((function(){var e=document.querySelector("#deleteTime"),t=document.querySelector("#uploadDate");e&&(e.disabled=!a),t&&(t.disabled=!a)}),50)}),K.value.showModal=!0,oe("create"),j();case 1:return a.a(2)}}),a)}))),te.apply(this,arguments)}function ne(e){var a,t;if(K.value.showModal)Q.value.business=e,Q.value.caseNo="",oe("create"),null===(a=$.value)||void 0===a||a.clearFieldError("business"),null===(t=$.value)||void 0===t||t.clearFieldError("caseNo");else if(X.value.showModal){var n,l;J.value.business=e,J.value.caseNo="",oe("update"),null===(n=Z.value)||void 0===n||n.clearFieldError("business"),null===(l=Z.value)||void 0===l||l.clearFieldError("caseNo")}}function le(e){var a,t;if(K.value.showModal)Q.value.caseNo=e,Q.value.business="",oe("create"),null===(a=$.value)||void 0===a||a.clearFieldError("caseNo"),null===(t=$.value)||void 0===t||t.clearFieldError("business");else if(X.value.showModal){var n,l;J.value.caseNo=e,J.value.business="",oe("update"),null===(n=Z.value)||void 0===n||n.clearFieldError("caseNo"),null===(l=Z.value)||void 0===l||l.clearFieldError("business")}}function oe(e){"create"===e?K.value:X.value;var a="create"===e?Q.value:J.value,t=document.querySelector("#business"),n=document.querySelector("#caseNo");t&&n&&(a.business?(n.disabled=!0,t.disabled=!1):a.caseNo?(t.disabled=!0,n.disabled=!1):(t.disabled=!1,n.disabled=!1))}function ie(e,a){var t="create"===a?Q.value:J.value,n="create"===a?$.value:Z.value;"business"===e?(t.business="",null==n||n.clearFieldError("business")):(t.caseNo="",null==n||n.clearFieldError("caseNo")),oe(a)}function re(e,a){var t;if(K.value.showModal)Q.value.docType=e,Q.value.docName=a,null===(t=$.value)||void 0===t||t.clearFieldError("docType");else if(X.value.showModal){var n;J.value.docType=e,J.value.docName=a,null===(n=Z.value)||void 0===n||n.clearFieldError("docType")}}function se(e){return ue.apply(this,arguments)}function ue(){return(ue=n(e().m((function a(t){var n,o,i,r,s,u,c,d,p,f,v,m,b,y,h,g,k,w;return e().w((function(e){for(;;)switch(e.n){case 0:if(e.p=0,!(n=t).fileUpload){e.n=19;break}if(console.log("上傳的檔案:",n.fileUpload),console.log("檔案名稱:",n.fileUpload.name),console.log("檔案大小:",n.fileUpload.size),console.log("檔案類型:",n.fileUpload.type),n.fileSrc){e.n=14;break}if(e.p=1,i=n.fileUpload.name.toLowerCase(),!L(i)){e.n=5;break}return console.log("處理圖片檔案:",i),e.n=2,Ca(n.fileUpload,4096,4096,.8,8,"image/jpeg",!1);case 2:if(r=e.v){e.n=4;break}return e.n=3,ee.showAlert(U.Warning,"錯誤","圖片處理失敗，請檢查圖片格式或大小");case 3:return e.a(2);case 4:o=_(r),n.fileSrc=o,e.n=10;break;case 5:return console.log("處理非圖片檔案:",i),e.n=6,B(n.fileUpload);case 6:if(m=s=e.v,!(v=null!==m)){e.n=7;break}v=void 0!==s;case 7:if(!v){e.n=8;break}b=s,e.n=9;break;case 8:b="";case 9:o=b,n.fileSrc=_(o);case 10:e.n=13;break;case 11:return e.p=11,y=e.v,console.error("檔案處理失敗:",y),e.n=12,ee.showAlert(U.Warning,"錯誤","檔案處理失敗，請稍後再試");case 12:return e.a(2);case 13:e.n=19;break;case 14:return e.n=15,_(n.fileSrc);case 15:if(g=u=e.v,!(h=null!==g)){e.n=16;break}h=void 0!==u;case 16:if(!h){e.n=17;break}k=u,e.n=18;break;case 17:k="";case 18:n.fileSrc=k;case 19:return e.n=20,x.FileInfosManagementCreate({business:n.business,caseNo:n.caseNo,docType:n.docType||1,fileName:n.fileName,fileSrc:n.fileSrc,isActive:n.isActive,filePermission:n.filePermission,description:n.description,isUseRetention:n.isUseRetention,deleteTime:n.deleteTime,uploadDate:n.uploadDate,isForceFileUpload:n.isForceFileUpload});case 20:if(!(c=e.v).status){e.n=23;break}return d="檔案資訊新增成功！",c.result&&c.result.fileInfo&&c.result.fileInfo.length>0&&((p=c.result.fileInfo[0]).processOk?(d+="\n檔案序號: ".concat(p.fileNo),p.moveFileTask&&((f=p.moveFileTask).insertOrUpdateRes&&f.moveToNasRes?d+="\n檔案已成功上傳至系統":f.insertOrUpdateRes?f.moveToNasRes||(d+="\n警告: 檔案移動失敗"):d+="\n警告: 資料庫操作失敗")):d+="\n注意: 檔案處理過程中發生問題"),e.n=21,ee.showAlert(U.Success,"成功",d);case 21:return K.value.showModal=!1,e.n=22,l();case 22:e.n=24;break;case 23:M(c);case 24:e.n=26;break;case 25:e.p=25,w=e.v,console.error("Error creating file info:",w);case 26:return e.a(2)}}),a,null,[[1,11],[0,25]])})))).apply(this,arguments)}var ce=function(){var a=n(e().m((function a(){return e().w((function(e){for(;;)switch(e.n){case 0:return t.currentPage=1,e.n=1,l();case 1:return e.a(2)}}),a)})));return function(){return a.apply(this,arguments)}}(),de=C(ce,300),pe=function(){var a=n(e().m((function a(){return e().w((function(e){for(;;)switch(e.n){case 0:return t.searchQuery="",t.currentPage=1,e.n=1,l();case 1:return e.a(2)}}),a)})));return function(){return a.apply(this,arguments)}}();function ve(e){return me.apply(this,arguments)}function me(){return me=n(e().m((function a(t){var l,o,i,r,s;return e().w((function(a){for(;;)switch(a.n){case 0:J.value={fileNo:t.fileNo,business:t.business,caseNo:t.caseNo,docType:t.docType||null,docName:t.docName,isForceFileUpload:t.isForceFileUpload,fileUpload:null,fileSrc:null,fileName:t.fileName,isActive:t.isActive,filePermission:t.filePermission,description:t.description,filePath:t.filePath,isUseRetention:t.isUseRetention,deleteTime:t.deleteTime,uploadDate:t.uploadDate},(l=O(X.value,"fileUpload"))&&"file"===l.type&&(l.onInputCallback=function(){var a=n(e().m((function a(t){var n,l;return e().w((function(e){for(;;)switch(e.n){case 0:if(!(n=Array.isArray(t)?t[0]:t)||!L(n.name)){e.n=3;break}return e.n=1,Ca(n,4096,4096,.8,8,"image/jpeg",!0);case 1:if(l=e.v){e.n=2;break}return e.a(2);case 2:J.value.fileSrc=l,J.value.fileName=n.name,e.n=6;break;case 3:if(!n||L(n.name)){e.n=5;break}return e.n=4,B(n);case 4:J.value.fileSrc=e.v,J.value.fileName=n.name,e.n=6;break;case 5:J.value.fileSrc="",J.value.fileName="";case 6:return e.a(2)}}),a)})));return function(e){return a.apply(this,arguments)}}()),(o=O(X.value,"business"))&&"text"===o.type&&(o.onClickCallback=function(){var e;o.disabled||null===(e=G.value)||void 0===e||e.openModal()},o.onClearInput=function(){ie("business","update")}),(i=O(X.value,"caseNo"))&&"text"===i.type&&(i.onClickCallback=function(){var e;i.disabled||null===(e=W.value)||void 0===e||e.openModal()},i.onClearInput=function(){ie("caseNo","update")}),(r=X.value.fieldGroups[0].fields.find((function(e){return"docType"===e.modelId})))&&"text"===r.type&&(r.onClickCallback=function(){var e;null===(e=H.value)||void 0===e||e.openModal()}),(s=X.value.fieldGroups[1].fields.find((function(e){return"isUseRetention"===e.modelId})))&&"radio"===s.type&&(s.onChangeCallback=function(e){var a=!0===e||"true"===e||1===e||"1"===e;setTimeout((function(){var e=document.querySelector("#deleteTime"),t=document.querySelector("#uploadDate");e&&(e.disabled=!a),t&&(t.disabled=!a)}),50)}),X.value.showModal=!0,oe("update"),j();case 1:return a.a(2)}}),a)}))),me.apply(this,arguments)}function be(e){return ye.apply(this,arguments)}function ye(){return(ye=n(e().m((function a(t){var n,o,i,r,s,u,c,d,p,f,v,m,b,y,h,g,k,w,C,S,I,P;return e().w((function(e){for(;;)switch(e.n){case 0:if(e.p=0,!(n=t).fileUpload){e.n=13;break}if(console.log("上傳的檔案:",n.fileUpload),console.log("檔案名稱:",n.fileUpload.name),console.log("檔案大小:",n.fileUpload.size),console.log("檔案類型:",n.fileUpload.type),n.fileSrc){e.n=13;break}if(e.p=1,o=n.fileUpload.name.toLowerCase(),!L(o)){e.n=5;break}return console.log("處理圖片檔案:",o),e.n=2,Ca(n.fileUpload,4096,4096,.8,8,"image/jpeg",!1);case 2:if(i=e.v){e.n=4;break}return e.n=3,ee.showAlert(U.Warning,"錯誤","圖片處理失敗，請檢查圖片格式或大小");case 3:return e.a(2);case 4:Ia(i),e.n=10;break;case 5:return console.log("處理非圖片檔案:",o),e.n=6,B(n.fileUpload);case 6:if(C=r=e.v,!(w=null!==C)){e.n=7;break}w=void 0!==r;case 7:if(!w){e.n=8;break}S=r,e.n=9;break;case 8:S="";case 9:n.fileSrc=S;case 10:e.n=13;break;case 11:return e.p=11,I=e.v,console.error("檔案處理失敗:",I),e.n=12,ee.showAlert(U.Warning,"錯誤","檔案處理失敗，請稍後再試");case 12:return e.a(2);case 13:return n.fileUpload&&(console.log("更新時上傳的檔案:",n.fileUpload),console.log("檔案名稱:",n.fileUpload.name),console.log("檔案大小:",n.fileUpload.size),console.log("檔案類型:",n.fileUpload.type),(b=new FormData).append("file",n.fileUpload),b.append("fileName",n.fileName),b.append("caseNo",n.caseNo),b.append("fileNo",n.fileNo),b.append("isActive",null!==(s=null===(u=n.isActive)||void 0===u?void 0:u.toString())&&void 0!==s?s:""),b.append("isForceFileUpload",null!==(c=null===(d=n.isForceFileUpload)||void 0===d?void 0:d.toString())&&void 0!==c?c:""),b.append("isUseRetention",null!==(p=null===(f=n.isUseRetention)||void 0===f?void 0:f.toString())&&void 0!==p?p:""),b.append("filePermission",null!==(v=null===(m=n.filePermission)||void 0===m?void 0:m.toString())&&void 0!==v?v:0),n.description&&b.append("description",n.description),n.deleteTime&&b.append("deleteTime",n.deleteTime),n.uploadDate&&b.append("uploadDate",n.uploadDate)),e.n=14,x.FileInfosManagementUpdate({business:n.business,caseNo:n.caseNo,docType:n.docType||1,fileSrc:n.fileSrc?_(n.fileSrc):"",fileNo:n.fileNo,fileName:n.fileName,isActive:n.isActive,filePermission:n.filePermission,description:n.description,isUseRetention:n.isUseRetention,deleteTime:n.deleteTime});case 14:if(!(y=e.v).status){e.n=17;break}return h="檔案資訊新增成功！",y.result&&y.result.fileInfo&&y.result.fileInfo.length>0&&((g=y.result.fileInfo[0]).processOk?(h+="\n檔案序號: ".concat(g.fileNo),g.moveFileTask&&((k=g.moveFileTask).insertOrUpdateRes&&k.moveToNasRes?h+="\n檔案已成功上傳至系統":k.insertOrUpdateRes?k.moveToNasRes||(h+="\n警告: 檔案移動失敗"):h+="\n警告: 資料庫操作失敗")):h+="\n注意: 檔案處理過程中發生問題"),e.n=15,ee.showAlert(U.Success,"成功",h);case 15:return X.value.showModal=!1,e.n=16,l();case 16:e.n=18;break;case 17:M(y);case 18:e.n=20;break;case 19:return e.p=19,P=e.v,console.error("更新檔案資訊時發生錯誤:",P),e.n=20,ee.showAlert(U.Warning,"錯誤","更新檔案資訊時發生錯誤，請稍後再試。");case 20:return e.a(2)}}),a,null,[[1,11],[0,19]])})))).apply(this,arguments)}function he(e){return ge.apply(this,arguments)}function ge(){return(ge=n(e().m((function a(t){var n,o;return e().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,ee.showAlert(U.Warning,"確認刪除","確定要刪除檔案「".concat(t.fileName,"」嗎？此操作無法復原。"),[{id:"cancel",type:T.callback,btnClass:"btn-esun-outline",resolveParam:"cancel",title:"取消"},{id:"confirm",type:T.callback,btnClass:"btn-danger",resolveParam:"confirm",title:"確定刪除"}]);case 1:if("confirm"!==e.v.param){e.n=9;break}return e.p=2,e.n=3,x.FileInfosManagementDelete(t.fileNo);case 3:if(!(n=e.v).status){e.n=6;break}return e.n=4,ee.showAlert(U.Success,"成功","檔案資訊刪除成功！");case 4:return e.n=5,l();case 5:e.n=7;break;case 6:M(n);case 7:e.n=9;break;case 8:return e.p=8,o=e.v,console.error("刪除檔案資訊時發生錯誤:",o),e.n=9,ee.showAlert(U.Warning,"錯誤","刪除檔案資訊時發生錯誤，請稍後再試。");case 9:return e.a(2)}}),a,null,[[2,8]])})))).apply(this,arguments)}return function(e,a){return d(),u("div",Ua,[f("div",Ta,[f("h1",Da,v(A(q).FileInfosManagement.label),1),f("div",Fa,[f("div",za,[f("div",Aa,[a[11]||(a[11]=f("span",{class:"input-group-text"},[f("i",{class:"bi bi-search"})],-1)),b(f("input",{type:"text",class:"form-control",placeholder:"搜尋檔案名稱、序號...","onUpdate:modelValue":a[0]||(a[0]=function(e){return t.searchQuery=e}),onKeyup:h(ce,["enter"])},null,544),[[y,t.searchQuery]]),f("button",{class:"btn btn-esun-primary",type:"button",onClick:a[1]||(a[1]=function(){return A(de)&&A(de).apply(void 0,arguments)})},"搜尋"),f("button",{class:"btn btn-esun-outline",type:"button",onClick:pe},"清除")])]),f("div",{class:"btn-group me-2"},[f("button",{class:"btn btn-esun-primary ml-3",onClick:ae},"新增檔案資訊")]),K.value.showModal?(d(),m(V,{key:0,ref_key:"createModalRef",ref:$,myModal:K.value,modelValue:Q.value,onSubmit:se,onCancel:a[2]||(a[2]=function(e){return K.value.showModal=!1})},null,8,["myModal","modelValue"])):c("",!0),X.value.showModal?(d(),m(V,{key:1,ref_key:"updateModalRef",ref:Z,myModal:X.value,modelValue:J.value,"onUpdate:modelValue":a[3]||(a[3]=function(e){return J.value=e}),onSubmit:be,onCancel:a[4]||(a[4]=function(e){return X.value.showModal=!1})},null,8,["myModal","modelValue"])):c("",!0),R(fe,{ref_key:"businessSelectModal",ref:G,onSelect:ne},null,512),R(_e,{ref_key:"fileCaseSelectModal",ref:W,onSelect:le},null,512),R(ra,{ref_key:"docTypeSelectModal",ref:H,onSelect:re},null,512),R(ka,{ref_key:"imagePreviewModal",ref:Y},null,512),f("div",Ra,[f("button",{class:p(["btn btn-esun-outline",{active:"card"===t.displayMode}]),onClick:a[5]||(a[5]=function(e){return t.displayMode="card"})}," 卡片模式 ",2),f("button",{class:p(["btn btn-esun-outline",{active:"table"===t.displayMode}]),onClick:a[6]||(a[6]=function(e){return t.displayMode="table"})}," 表格模式 ",2)])])]),t.totalItems?(d(),m(E,{key:0,modelValue:t.currentPage,"onUpdate:modelValue":a[7]||(a[7]=function(e){return t.currentPage=e}),pageSize:t.pageSize,"onUpdate:pageSize":a[8]||(a[8]=function(e){return t.pageSize=e}),"total-items":t.totalItems,"go-to-page":l},null,8,["modelValue","pageSize","total-items"])):c("",!0),"card"===t.displayMode?(d(),u("div",{key:1,class:p(["row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 active",{"fade-in":t.currentPage}]),ref:"dataContainer"},[(d(!0),u(g,null,k(t.DataList,(function(e){return d(),u("div",{class:"col",key:e.fileNo},[f("div",La,[f("div",_a,[f("h5",Ba,v(e.fileName),1),f("p",ja,[a[12]||(a[12]=f("strong",null,"檔案序號:",-1)),I(" "+v(e.fileNo),1),a[13]||(a[13]=f("br",null,null,-1)),a[14]||(a[14]=f("strong",null,"案件序號:",-1)),I(" "+v(e.caseNo),1),a[15]||(a[15]=f("br",null,null,-1)),a[16]||(a[16]=f("strong",null,"文件類型:",-1)),I(" "+v(e.docType||"-"),1),a[17]||(a[17]=f("br",null,null,-1)),a[18]||(a[18]=f("strong",null,"啟用狀態:",-1)),f("span",{class:p(e.isActive?"text-success":"text-danger")},v(e.isActive?"啟用中":"已停用"),3),a[19]||(a[19]=f("br",null,null,-1)),a[20]||(a[20]=f("strong",null,"權限:",-1)),I(" "+v(e.filePermission),1),a[21]||(a[21]=f("br",null,null,-1)),a[22]||(a[22]=f("strong",null,"檔案路徑:",-1)),I(" "+v(e.filePath),1),a[23]||(a[23]=f("br",null,null,-1)),a[24]||(a[24]=f("strong",null,"定期刪除:",-1)),f("span",{class:p(e.isUseRetention?"text-success":"text-danger")},v(e.isUseRetention?"啟用":"未啟用"),3),a[25]||(a[25]=f("br",null,null,-1)),a[26]||(a[26]=f("strong",null,"刪除時間:",-1)),I(" "+v(e.deleteTime||"-"),1),a[27]||(a[27]=f("br",null,null,-1)),a[28]||(a[28]=f("strong",null,"上傳/覆蓋時間:",-1)),I(" "+v(e.uploadDate||"-"),1),a[29]||(a[29]=f("br",null,null,-1)),a[30]||(a[30]=f("strong",null,"描述:",-1)),I(" "+v(e.description||"-"),1)]),f("div",qa,[a[34]||(a[34]=f("button",{class:"btn btn-esun-outline dropdown-toggle w-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[f("i",{class:"bi bi-gear me-1"}),I(" 操作選單 ")],-1)),f("ul",Ea,[f("li",null,[f("a",{class:"dropdown-item",href:"#",onClick:w((function(a){return i(e)}),["prevent"])},a[31]||(a[31]=[f("i",{class:"bi bi-download me-1 text-info"},null,-1),I(" 預覽或下載 ")]),8,Va)]),f("li",null,[f("a",{class:"dropdown-item",href:"#",onClick:w((function(a){return ve(e)}),["prevent"])},a[32]||(a[32]=[f("i",{class:"bi bi-pencil-square me-1 text-primary"},null,-1),I(" 編輯 ")]),8,Oa)]),f("li",null,[f("a",{class:"dropdown-item",href:"#",onClick:w((function(a){return he(e)}),["prevent"])},a[33]||(a[33]=[f("i",{class:"bi bi-trash me-1 text-danger"},null,-1),I(" 刪除 ")]),8,Qa)])])])])])])})),128))],2)):(d(),u("div",{key:2,class:p([{"fade-in":t.currentPage},"active"]),ref:"dataContainer",style:{overflow:"auto"}},[f("table",Ga,[a[39]||(a[39]=f("thead",{class:"table-light"},[f("tr",null,[f("th",null,"檔案名稱"),f("th",null,"檔案序號"),f("th",null,"案件序號"),f("th",null,"文件類型"),f("th",null,"啟用狀態"),f("th",null,"權限"),f("th",null,"檔案路徑"),f("th",null,"定期刪除"),f("th",null,"刪除時間"),f("th",null,"上傳/覆蓋時間"),f("th",null,"描述"),f("th",null,"操作")])],-1)),f("tbody",null,[(d(!0),u(g,null,k(t.DataList,(function(e){return d(),u("tr",{key:e.fileNo},[f("td",null,v(e.fileName),1),f("td",null,v(e.fileNo),1),f("td",null,v(e.caseNo),1),f("td",null,v(e.docType||"-"),1),f("td",null,[f("span",{class:p(e.isActive?"text-success":"text-danger")},v(e.isActive?"啟用中":"已停用"),3)]),f("td",null,v(e.filePermission),1),f("td",null,v(e.filePath),1),f("td",null,[f("span",{class:p(e.isUseRetention?"text-success":"text-danger")},v(e.isUseRetention?"啟用":"未啟用"),3)]),f("td",null,v(e.deleteTime||"-"),1),f("td",null,v(e.uploadDate||"-"),1),f("td",null,v(e.description||"-"),1),f("td",null,[f("div",Wa,[a[38]||(a[38]=f("button",{class:"btn btn-esun-outline dropdown-toggle btn-sm",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[f("i",{class:"bi bi-gear me-1"}),I(" 操作 ")],-1)),f("ul",Ha,[f("li",null,[f("a",{class:"dropdown-item",href:"#",onClick:w((function(a){return i(e)}),["prevent"])},a[35]||(a[35]=[f("i",{class:"bi bi-pencil-square me-1 text-primary"},null,-1),I(" 預覽或下載 ")]),8,Ya)]),f("li",null,[f("a",{class:"dropdown-item",href:"#",onClick:w((function(a){return ve(e)}),["prevent"])},a[36]||(a[36]=[f("i",{class:"bi bi-pencil-square me-1 text-primary"},null,-1),I(" 編輯 ")]),8,Ka)]),f("li",null,[f("a",{class:"dropdown-item",href:"#",onClick:w((function(a){return he(e)}),["prevent"])},a[37]||(a[37]=[f("i",{class:"bi bi-trash me-1 text-danger"},null,-1),I(" 刪除 ")]),8,$a)])])])])])})),128))])])],2)),t.totalItems?(d(),m(E,{key:3,modelValue:t.currentPage,"onUpdate:modelValue":a[9]||(a[9]=function(e){return t.currentPage=e}),pageSize:t.pageSize,"onUpdate:pageSize":a[10]||(a[10]=function(e){return t.pageSize=e}),"total-items":t.totalItems,"go-to-page":l},null,8,["modelValue","pageSize","total-items"])):c("",!0)])}}});a("default",S(Ja,[["__scopeId","data-v-5bd73a01"]]))}}}))}();
//# sourceMappingURL=FileInfosManagement-legacy-DqOgoxOO.js.map
