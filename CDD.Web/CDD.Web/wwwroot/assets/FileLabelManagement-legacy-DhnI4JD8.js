!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var a,n,l="function"==typeof Symbol?Symbol:{},r=l.iterator||"@@iterator",o=l.toStringTag||"@@toStringTag";function u(e,l,r,o){var u=l&&l.prototype instanceof c?l:c,s=Object.create(u.prototype);return t(s,"_invoke",function(e,t,l){var r,o,u,c=0,s=l||[],d=!1,v={p:0,n:0,v:a,a:f,f:f.bind(a,4),d:function(e,t){return r=e,o=0,u=a,v.n=t,i}};function f(e,t){for(o=e,u=t,n=0;!d&&c&&!l&&n<s.length;n++){var l,r=s[n],f=v.p,p=r[2];e>3?(l=p===t)&&(u=r[(o=r[4])?5:(o=3,3)],r[4]=r[5]=a):r[0]<=f&&((l=e<2&&f<r[1])?(o=0,v.v=t,v.n=r[1]):f<p&&(l=e<3||r[0]>t||t>p)&&(r[4]=e,r[5]=t,v.n=p,o=0))}if(l||e>1)return i;throw d=!0,t}return function(l,s,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,p),o=s,u=p;(n=o<2?a:u)||!d;){r||(o?o<3?(o>1&&(v.n=-1),f(o,u)):v.n=u:v.v=u);try{if(c=2,r){if(o||(l="next"),n=r[l]){if(!(n=n.call(r,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,o<2&&(o=0)}else 1===o&&(n=r.return)&&n.call(r),o<2&&(u=TypeError("The iterator does not provide a '"+l+"' method"),o=1);r=a}else if((n=(d=v.n<0)?u:e.call(t,v))!==i)break}catch(n){r=a,o=1,u=n}finally{c=1}}return{value:n,done:d}}}(e,r,o),!0),s}var i={};function c(){}function s(){}function d(){}n=Object.getPrototypeOf;var v=[][r]?n(n([][r]())):(t(n={},r,(function(){return this})),n),f=d.prototype=c.prototype=Object.create(v);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return s.prototype=d,t(f,"constructor",d),t(d,"constructor",s),s.displayName="GeneratorFunction",t(d,o,"GeneratorFunction"),t(f),t(f,o,"Generator"),t(f,r,(function(){return this})),t(f,"toString",(function(){return"[object Generator]"})),(e=function(){return{w:u,m:p}})()}function t(e,a,n,l){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}t=function(e,a,n,l){if(a)r?r(e,a,{value:n,enumerable:!l,configurable:!l,writable:!l}):e[a]=n;else{var o=function(a,n){t(e,a,(function(e){return this._invoke(a,n,e)}))};o("next",0),o("throw",1),o("return",2)}},t(e,a,n,l)}function a(e,t,a,n,l,r,o){try{var u=e[r](o),i=u.value}catch(e){return void a(e)}u.done?t(i):Promise.resolve(i).then(n,l)}function n(e){return function(){var t=this,n=arguments;return new Promise((function(l,r){var o=e.apply(t,n);function u(e){a(o,l,r,u,i,"next",e)}function i(e){a(o,l,r,u,i,"throw",e)}u(void 0)}))}}System.register(["./index-legacy-DIWtPno0.js","./Pagination.vue_vue_type_script_setup_true_lang-legacy-Ck0czqvf.js","./JsonFormModal-legacy-DObr9vyI.js"],(function(t,a){"use strict";var l,r,o,u,i,c,s,d,v,f,p,b,m,g,y,h,w,k,x,_,S,j,C,M,T;return{setters:[function(e){l=e.d,r=e.s,o=e.b,u=e.w,i=e.c,c=e.f,s=e.x,d=e.h,v=e.t,f=e.y,p=e.g,b=e.v,m=e.n,g=e.F,y=e.A,h=e.B,w=e.H,k=e.T,x=e.e,_=e.R,S=e.z,j=e.D,C=e._},function(e){M=e._},function(e){T=e.J}],execute:function(){var a=document.createElement("style");a.textContent=".content[data-v-ecf40b44]{margin-left:250px;transition:margin-left .3s}.content.expanded[data-v-ecf40b44]{margin-left:0}.fade-in[data-v-ecf40b44]{opacity:0;transition:opacity .3s ease-in-out}.fade-in.active[data-v-ecf40b44]{opacity:1}\n/*$vite$:1*/",document.head.appendChild(a);var F={class:"p-4 mt-5"},L={class:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},O={class:"h2"},V={class:"btn-toolbar justify-content-end mb-3",role:"toolbar","aria-label":"Toolbar with button groups"},N={class:"btn-group me-2",role:"group","aria-label":"First group"},z={class:"input-group ms-3",style:{"max-width":"200px"}},P={class:"btn-group",role:"group"},G={class:"card card-esun h-100 esun-animate-in"},U={class:"card-body"},D={class:"card-title"},E={class:"card-text"},I={class:"table table-bordered table-hover align-middle"},A=l({__name:"FileLabelManagement",props:{collapsed:{type:Boolean},paginationType:{}},setup:function(t){var a=r([]),l=r([]),C=r("client"),A=r(1),B=r(10),J=r(0),q=r("card"),$=r(!1),H=r(null),R=r({modalId:"createFileLabelModal",title:"新增檔案標籤",showModal:!1,size:"modal-lg",staticBackdrop:!0,fieldGroups:[{title:"",gridClass:"col-12",fields:[{modelId:"labelName",name:"labelName",type:"text",label:"標籤名稱",placeholder:"請輸入標籤名稱",required:!0,maxlength:50},{modelId:"description",name:"description",type:"textarea",label:"自訂描述",placeholder:"請輸入描述 (選填)",required:!1,maxlength:255,rows:5}]}]}),K=r({labelName:"",description:null}),Q=function(){var t=n(e().m((function t(){var n,r,o,u,i,c,s,d,v,f=arguments;return e().w((function(e){for(;;)switch(e.n){case 0:if(n=!(f.length>0&&void 0!==f[0])||f[0],e.p=1,$.value=!0,H.value&&H.value.classList.remove("active"),!n){e.n=3;break}return e.n=2,h.FileLabelManagementViewData();case 2:(o=e.v).status&&null!==(r=o.data)&&void 0!==r&&r.items?(a.value=o.data.items,l.value=o.data.items,J.value=o.data.items.length):w(o),Z();case 3:if("server"!==C.value){e.n=5;break}return e.n=4,h.FileLabelManagementViewData();case 4:(i=e.v).status&&null!==(u=i.data)&&void 0!==u&&u.items?(a.value=i.data.items,l.value=i.data.items,J.value=i.data.items.length):w(i),Z(),e.n=8;break;case 5:if("client"!==C.value){e.n=8;break}if(0!==l.value.length){e.n=7;break}return e.n=6,h.FileLabelManagementViewData();case 6:(c=e.v).status&&Array.isArray(c.data.items)?(a.value=c.data.items,l.value=c.data.items):w(c);case 7:a.value.length>0&&(s=(A.value-1)*B.value,d=A.value*B.value,l.value=a.value.slice(s,d),J.value=a.value.length),Z();case 8:e.n=10;break;case 9:e.p=9,v=e.v,console.error("Error fetching fileLabelDTOs:",v);case 10:return e.p=10,$.value=!1,H.value&&setTimeout((function(){H.value&&H.value.classList.add("active")}),300),e.f(10);case 11:return e.a(2)}}),t,null,[[1,9,10,11]])})));return function(){return t.apply(this,arguments)}}();function W(){R.value.showModal=!0}function X(e){alert("提交資料：\n"+JSON.stringify(e,null,2)),R.value.showModal=!1}o(n(e().m((function t(){return e().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,Q();case 1:return e.a(2)}}),t)})))),u((function(){return{currentPage:A.value,pageSize:B.value}}),(function(){("server"===C.value||"client"===C.value&&"client"===C.value)&&Q(!1)}));var Y=r(""),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Y.value&&!e){var t=Y.value.toLowerCase();l.value=a.value.filter((function(e){var a,n;return e.labelName.toLowerCase().includes(t)||(null!==(a=null===(n=e.description)||void 0===n?void 0:n.toLowerCase())&&void 0!==a?a:"").includes(t)})),J.value=l.value.length}},ee=k(Z,100),te=function(){Y.value="",ee()};return function(e,t){return x(),i("div",F,[c("div",L,[c("h1",O,v(f(_).FileLabelManagement.label),1),c("div",V,[c("div",N,[c("div",z,[p(c("input",{type:"text",class:"form-control",placeholder:"搜尋檔案標籤","onUpdate:modelValue":t[0]||(t[0]=function(e){return Y.value=e}),onInput:t[1]||(t[1]=function(){return f(ee)&&f(ee).apply(void 0,arguments)})},null,544),[[b,Y.value]]),c("div",{class:"btn-close position-absolute end-0 top-50 translate-middle cursor-pointer shadow-none",onClick:te,"aria-label":"清除搜尋"},t[9]||(t[9]=[c("button",{class:"btn btn-link p-0","aria-label":"Close"},null,-1)]))]),c("button",{class:"btn btn-esun-primary ml-3",onClick:W},"新增檔案標籤")]),R.value.showModal?(x(),s(T,{key:0,myModal:R.value,modelValue:K.value,onSubmit:X,onCancel:t[2]||(t[2]=function(e){return R.value.showModal=!1})},null,8,["myModal","modelValue"])):d("",!0),c("div",P,[c("button",{class:m(["btn btn-esun-outline",{active:"card"===q.value}]),onClick:t[3]||(t[3]=function(e){return q.value="card"})}," 卡片模式 ",2),c("button",{class:m(["btn btn-esun-outline",{active:"table"===q.value}]),onClick:t[4]||(t[4]=function(e){return q.value="table"})}," 表格模式 ",2)])])]),J.value?(x(),s(M,{key:0,modelValue:A.value,"onUpdate:modelValue":t[5]||(t[5]=function(e){return A.value=e}),pageSize:B.value,"onUpdate:pageSize":t[6]||(t[6]=function(e){return B.value=e}),"total-items":J.value},null,8,["modelValue","pageSize","total-items"])):d("",!0),"card"===q.value?(x(),i("div",{key:1,class:m(["row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 active",{"fade-in":A.value}]),ref_key:"dataContainer",ref:H},[(x(!0),i(g,null,y(l.value,(function(e){return x(),i("div",{class:"col",key:e.labelName},[c("div",G,[c("div",U,[c("h5",D,v(e.labelName),1),c("p",E,[t[10]||(t[10]=c("strong",null,"自訂描述:",-1)),S(" "+v(e.description),1),t[11]||(t[11]=c("br",null,null,-1)),t[12]||(t[12]=c("strong",null,"建立時間:",-1)),S(" "+v(j(e.createdTime)),1),t[13]||(t[13]=c("br",null,null,-1)),t[14]||(t[14]=c("strong",null,"更新時間:",-1)),S(" "+v(j(e.lastUpdate)),1)])])])])})),128))],2)):(x(),i("div",{key:2,class:m([{"fade-in":A.value},"active"]),ref_key:"dataContainer",ref:H,style:{overflow:"auto"}},[c("table",I,[t[15]||(t[15]=c("thead",{class:"table-light"},[c("tr",null,[c("th",null,"標籤名稱"),c("th",null,"自訂描述"),c("th",null,"建立時間"),c("th",null,"更新時間")])],-1)),c("tbody",null,[(x(!0),i(g,null,y(l.value,(function(e){return x(),i("tr",{key:e.labelName},[c("td",null,v(e.labelName),1),c("td",null,v(e.description),1),c("td",null,v(j(e.createdTime)),1),c("td",null,v(j(e.lastUpdate)),1)])})),128))])])],2)),J.value?(x(),s(M,{key:3,modelValue:A.value,"onUpdate:modelValue":t[7]||(t[7]=function(e){return A.value=e}),pageSize:B.value,"onUpdate:pageSize":t[8]||(t[8]=function(e){return B.value=e}),"total-items":J.value},null,8,["modelValue","pageSize","total-items"])):d("",!0)])}}});t("default",C(A,[["__scopeId","data-v-ecf40b44"]]))}}}))}();
//# sourceMappingURL=FileLabelManagement-legacy-DhnI4JD8.js.map
