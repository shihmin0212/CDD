!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",l=n.toStringTag||"@@toStringTag";function i(n,r,o,l){var i=r&&r.prototype instanceof u?r:u,s=Object.create(i.prototype);return a(s,"_invoke",function(n,r,a){var o,l,i,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,l=0,i=e,p.n=n,c}};function m(n,r){for(l=n,i=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],m=p.p,f=o[2];n>3?(a=f===r)&&(i=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(l=0,p.v=r,p.n=o[1]):m<f&&(a=n<3||o[0]>r||r>f)&&(o[4]=n,o[5]=r,p.n=f,l=0))}if(a||n>1)return c;throw d=!0,r}return function(a,s,f){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,f),l=s,i=f;(t=l<2?e:i)||!d;){o||(l?l<3?(l>1&&(p.n=-1),m(l,i)):p.n=i:p.v=i);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?i:n.call(r,p))!==c)break}catch(t){o=e,l=1,i=t}finally{u=1}}return{value:t,done:d}}}(n,o,l),!0),s}var c={};function u(){}function s(){}function d(){}t=Object.getPrototypeOf;var p=[][o]?t(t([][o]())):(a(t={},o,(function(){return this})),t),m=d.prototype=u.prototype=Object.create(p);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,l,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=d,a(m,"constructor",d),a(d,"constructor",s),s.displayName="GeneratorFunction",a(d,l,"GeneratorFunction"),a(m),a(m,l,"Generator"),a(m,o,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),(r=function(){return{w:i,m:f}})()}function a(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var l=function(t,n){a(e,t,(function(e){return this._invoke(t,n,e)}))};l("next",0),l("throw",1),l("return",2)}},a(e,t,n,r)}function o(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function i(e){o(l,r,a,i,c,"next",e)}function c(e){o(l,r,a,i,c,"throw",e)}i(void 0)}))}}System.register(["./index-legacy-DIWtPno0.js","./Pagination.vue_vue_type_script_setup_true_lang-legacy-Ck0czqvf.js","./JsonFormModal-legacy-DObr9vyI.js"],(function(e,a){"use strict";var o,i,c,u,s,d,p,m,f,b,y,v,g,h,w,k,x,T,S,C,D,M,P,j,O,N,I,_,z,V,U;return{setters:[function(e){o=e.d,i=e.r,c=e.s,u=e.b,s=e.w,d=e.c,p=e.f,m=e.x,f=e.h,b=e.t,y=e.y,v=e.g,g=e.v,h=e.n,w=e.F,k=e.A,x=e.B,T=e.H,S=e.k,C=e.e,D=e.R,M=e.T,P=e.z,j=e.D,O=e.E,N=e.S,I=e.J,_=e.K,z=e._},function(e){V=e._},function(e){U=e.J}],execute:function(){var a=document.createElement("style");a.textContent=".content[data-v-8f4cafe1]{margin-left:250px;transition:margin-left .3s}.content.expanded[data-v-8f4cafe1]{margin-left:0}.fade-in[data-v-8f4cafe1]{opacity:0;transition:opacity .3s ease-in-out}.fade-in.active[data-v-8f4cafe1]{opacity:1}\n/*$vite$:1*/",document.head.appendChild(a);var q={class:"p-4 mt-5"},E={class:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},G={class:"h2"},A={class:"btn-toolbar justify-content-end mb-3",role:"toolbar","aria-label":"Toolbar with button groups"},F={class:"btn-group me-2",role:"group","aria-label":"First group"},Q={class:"input-group ms-3",style:{"max-width":"200px"}},B={class:"btn-group",role:"group"},L={class:"card card-esun h-100 esun-animate-in"},J={class:"card-body"},W={class:"card-title"},$={class:"card-text"},H={class:"dropdown mt-3"},K={class:"dropdown-menu w-100"},R=["onClick"],X={key:0},Y=["onClick"],Z={class:"table table-bordered table-hover align-middle"},ee={class:"dropdown"},te={class:"dropdown-menu w-100"},ne=["onClick"],re={key:0},ae=["onClick"],oe=o({__name:"DocTypeManagement",props:{collapsed:{type:Boolean},paginationType:{}},setup:function(e){var a=i({paginationType:"server",DocTypeDataList:[],totalItems:0,pageNumber:1,pageSize:10,displayMode:"card",searchQuery:"",createdTime:"",lastUpdate:""}),o=c({modalId:"docTypeModal",title:"新增文件類型",showModal:!1,size:"modal-xl",staticBackdrop:!0,fieldGroups:[{title:"",gridClass:"col-12",fields:[{modelId:"permission",name:"permission",type:"radio",label:"文件類別權限",inline:!0,options:[{label:"不限制任何系統 (Public)",value:"0"},{label:"限制註冊系統 (Protect)",value:"1"},{label:"限制白名單系統 (ProtectInternal)",value:"2"},{label:"自己才可存取 (Private)",value:"3"}],required:!0},{modelId:"docName",name:"docName",type:"text",label:"文件名稱",placeholder:"請輸入文件名稱",required:!0,maxlength:50},{modelId:"description",name:"description",type:"text",label:"描述",placeholder:"請輸入描述",required:!1,maxlength:100}]}]}),z=c({docType:null,docName:"",description:null,permission:"0"}),oe=new N,le=c({modalId:"updateDocTypeModal",title:"修改文件類型",showModal:!1,size:"modal-xl",staticBackdrop:!0,fieldGroups:[{title:"",gridClass:"col-12",fields:[{modelId:"docType",name:"docType",type:"text",label:"文件類型代碼",placeholder:"請輸入文件類型代碼",required:!0,maxlength:1,disabled:!0},{modelId:"docName",name:"docName",type:"text",label:"文件名稱",placeholder:"請輸入文件名稱",required:!0,maxlength:50},{modelId:"description",name:"description",type:"text",label:"描述",placeholder:"請輸入描述",required:!1,maxlength:100},{modelId:"permission",name:"permission",type:"select",label:"權限",required:!0,options:[{label:"公開",value:"0"},{label:"保護",value:"1"},{label:"內部保護",value:"2"},{label:"私人",value:"3"}]},{modelId:"isDeleted",name:"isDeleted",type:"radio",label:"是否刪除",inline:!0,options:[{label:"刪除",value:!0},{label:"不刪除",value:!1}],required:!0}]}]}),ie=c({docType:0,docName:"",description:null,permission:"0",isDeleted:!1,createdTime:"",lastUpdate:""}),ce=function(){var e=l(r().m((function e(){var t,n,o;return r().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,x.DocTypeManagementViewData(a.pageNumber,a.pageSize,a.searchQuery);case 1:(n=e.v).status&&null!==(t=n.result)&&void 0!==t&&t.items?(a.DocTypeDataList=n.result.items,a.totalItems=n.result.totalCount):T(n),e.n=3;break;case 2:e.p=2,o=e.v,S(o),console.error("Error fetching docTypes:",o);case 3:return e.a(2)}}),e,null,[[0,2]])})));return function(){return e.apply(this,arguments)}}();function ue(){o.value.showModal=!0}function se(e){return de.apply(this,arguments)}function de(){return(de=l(r().m((function e(t){var n,a,i;return r().w((function(e){for(;;)switch(e.n){case 0:return n=t,e.p=1,e.n=2,x.DocTypeManagementCreate(n);case 2:(a=e.v).status?oe.showAlert(I.Success,"成功",'文件類型 "'.concat(n.docName,'" 已成功建立。'),[{id:"ok",type:_.callback,btnClass:"btn-success",resolveParam:"ok",title:"確定"}]).then(l(r().m((function e(){return r().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,ce();case 1:return e.a(2)}}),e)})))):T(a),e.n=4;break;case 3:e.p=3,i=e.v,S(i);case 4:o.value.showModal=!1;case 5:return e.a(2)}}),e,null,[[1,3]])})))).apply(this,arguments)}function pe(e){switch(e){case"0":return"公開";case"1":return"保護";case"2":return"內部保護";case"3":return"私人";default:return"-"}}u(l(r().m((function e(){return r().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,ce();case 1:return e.a(2)}}),e)})))),s((function(){return{pageNumber:a.pageNumber,pageSize:a.pageSize}}),(function(){ce()}));var me=M((function(){a.searchQuery&&(a.pageNumber=1,ce())}),100),fe=function(){a.searchQuery="",a.pageNumber=1,ce()};function be(e){ie.value=function(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?t(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e),le.value.showModal=!0}function ye(e){return ve.apply(this,arguments)}function ve(){return(ve=l(r().m((function e(t){var n,a,o;return r().w((function(e){for(;;)switch(e.n){case 0:return n=t,e.n=1,oe.showAlert(I.Warning,"警告",'確定要更新文件類型 "'.concat(n.docName,'" 嗎？'),[{id:"cancel",type:_.callback,btnClass:"btn-esun-outline",resolveParam:"cancel",title:"取消"},{id:"confirm",type:_.callback,btnClass:"btn-esun-primary",resolveParam:"confirm",title:"確定"}]);case 1:if("confirm"!==e.v.param){e.n=5;break}return e.p=2,e.n=3,x.DocTypeManagementUpdate(n);case 3:(a=e.v).status?oe.showAlert(I.Success,"成功",'文件類型 "'.concat(n.docName,'" 已成功更新。'),[{id:"ok",type:_.callback,btnClass:"btn-success",resolveParam:"ok",title:"確定"}]).then(l(r().m((function e(){return r().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,ce();case 1:return e.a(2)}}),e)})))):T(a),e.n=5;break;case 4:e.p=4,o=e.v,S(o);case 5:le.value.showModal=!1;case 6:return e.a(2)}}),e,null,[[2,4]])})))).apply(this,arguments)}function ge(e){return he.apply(this,arguments)}function he(){return(he=l(r().m((function e(t){var n,a;return r().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,oe.showAlert(I.Warning,"警告",'確定要刪除文件類型 "'.concat(t.docName,'" 嗎？此操作將進行軟刪除。'),[{id:"cancel",type:_.callback,btnClass:"btn-esun-outline",resolveParam:"cancel",title:"取消"},{id:"confirm",type:_.callback,btnClass:"btn-danger",resolveParam:"confirm",title:"確定刪除"}]);case 1:if("confirm"!==e.v.param){e.n=5;break}return e.p=2,e.n=3,x.DocTypeManagementDelete(t.docType);case 3:(n=e.v).status?oe.showAlert(I.Success,"成功",'文件類型 "'.concat(t.docName,'" 已成功刪除。'),[{id:"ok",type:_.callback,btnClass:"btn-success",resolveParam:"ok",title:"確定"}]).then(l(r().m((function e(){return r().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,ce();case 1:return e.a(2)}}),e)})))):T(n),e.n=5;break;case 4:e.p=4,a=e.v,S(a);case 5:return e.a(2)}}),e,null,[[2,4]])})))).apply(this,arguments)}return function(e,t){return C(),d("div",q,[p("div",E,[p("h1",G,b(y(D).DocTypeManagement.label),1),p("div",A,[p("div",F,[p("div",Q,[v(p("input",{type:"text",class:"form-control",placeholder:"搜尋文件名稱","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.searchQuery=e})},null,512),[[g,a.searchQuery]]),p("div",{class:"btn-close position-absolute end-0 top-50 translate-middle cursor-pointer shadow-none",onClick:fe,"aria-label":"清除搜尋"},t[11]||(t[11]=[p("button",{class:"btn btn-link p-0","aria-label":"Close"},null,-1)]))]),p("button",{class:"btn btn-sm btn-esun-outline ml-3",onClick:t[1]||(t[1]=function(){return y(me)&&y(me).apply(void 0,arguments)})},"搜尋"),p("button",{class:"btn btn-esun-primary ml-3",onClick:ue},"新增文件類型")]),o.value.showModal?(C(),m(U,{key:0,myModal:o.value,modelValue:z.value,onSubmit:se,onCancel:t[2]||(t[2]=function(e){return o.value.showModal=!1})},null,8,["myModal","modelValue"])):f("",!0),p("div",B,[p("button",{class:h(["btn btn-esun-outline",{active:"card"===a.displayMode}]),onClick:t[3]||(t[3]=function(e){return a.displayMode="card"})}," 卡片模式 ",2),p("button",{class:h(["btn btn-esun-outline",{active:"table"===a.displayMode}]),onClick:t[4]||(t[4]=function(e){return a.displayMode="table"})}," 表格模式 ",2)])])]),a.totalItems?(C(),m(V,{key:0,modelValue:a.pageNumber,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.pageNumber=e}),pageSize:a.pageSize,"onUpdate:pageSize":t[6]||(t[6]=function(e){return a.pageSize=e}),"total-items":a.totalItems},null,8,["modelValue","pageSize","total-items"])):f("",!0),"card"===a.displayMode?(C(),d("div",{key:1,class:h(["row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 active",{"fade-in":a.pageNumber}]),ref:"dataContainer"},[(C(!0),d(w,null,k(a.DocTypeDataList,(function(e){return C(),d("div",{class:"col",key:e.docType},[p("div",L,[p("div",J,[p("h5",W,b(e.docName),1),p("p",$,[t[12]||(t[12]=p("strong",null,"文件類型代碼:",-1)),P(" "+b(e.docType),1),t[13]||(t[13]=p("br",null,null,-1)),t[14]||(t[14]=p("strong",null,"描述:",-1)),P(" "+b(e.description||"-"),1),t[15]||(t[15]=p("br",null,null,-1)),t[16]||(t[16]=p("strong",null,"權限:",-1)),P(" "+b(pe(e.permission)),1),t[17]||(t[17]=p("br",null,null,-1)),t[18]||(t[18]=p("strong",null,"是否軟刪除:",-1)),p("span",{class:h(e.isDeleted?"text-success":"text-danger")},b(e.isDeleted?"是":"否"),3),t[19]||(t[19]=p("br",null,null,-1)),t[20]||(t[20]=p("strong",null,"建立時間:",-1)),P(" "+b(j(e.createdTime)),1),t[21]||(t[21]=p("br",null,null,-1)),t[22]||(t[22]=p("strong",null,"更新時間:",-1)),P(" "+b(j(e.lastUpdate)),1)]),p("div",H,[t[25]||(t[25]=p("button",{class:"btn btn-esun-outline dropdown-toggle w-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[p("i",{class:"bi bi-gear me-1"}),P(" 操作選單 ")],-1)),p("ul",K,[p("li",null,[p("a",{class:"dropdown-item",href:"#",onClick:O((function(t){return be(e)}),["prevent"])},t[23]||(t[23]=[p("i",{class:"bi bi-pencil-square me-1 text-primary"},null,-1),P(" 修改 ")]),8,R)]),e.isDeleted?f("",!0):(C(),d("li",X,[p("a",{class:"dropdown-item",href:"#",onClick:O((function(t){return ge(e)}),["prevent"])},t[24]||(t[24]=[p("i",{class:"bi bi-trash me-1 text-danger"},null,-1),P(" 刪除 ")]),8,Y)]))])])])])])})),128))],2)):(C(),d("div",{key:2,class:h([{"fade-in":a.pageNumber},"active"]),ref:"dataContainer",style:{overflow:"auto"}},[p("table",Z,[t[29]||(t[29]=p("thead",{class:"table-light"},[p("tr",null,[p("th",null,"文件類型代碼"),p("th",null,"文件名稱"),p("th",null,"描述"),p("th",null,"權限"),p("th",null,"是否軟刪除"),p("th",null,"建立時間"),p("th",null,"更新時間"),p("th",null,"操作選單")])],-1)),p("tbody",null,[(C(!0),d(w,null,k(a.DocTypeDataList,(function(e){return C(),d("tr",{key:e.docType},[p("td",null,b(e.docType),1),p("td",null,b(e.docName),1),p("td",null,b(e.description||"-"),1),p("td",null,b(pe(e.permission)),1),p("td",null,[p("span",{class:h(e.isDeleted?"text-success":"text-danger")},b(e.isDeleted?"是":"否"),3)]),p("td",null,b(j(e.createdTime)),1),p("td",null,b(j(e.lastUpdate)),1),p("td",null,[p("div",ee,[t[28]||(t[28]=p("button",{class:"btn dropdown-toggle w-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[p("i",{class:"bi bi-gear me-1"}),P(" 操作選單 ")],-1)),p("ul",te,[p("li",null,[p("a",{class:"dropdown-item",href:"#",onClick:O((function(t){return be(e)}),["prevent"])},t[26]||(t[26]=[p("i",{class:"bi bi-pencil-square me-1 text-primary"},null,-1),P(" 修改 ")]),8,ne)]),e.isDeleted?f("",!0):(C(),d("li",re,[p("a",{class:"dropdown-item",href:"#",onClick:O((function(t){return ge(e)}),["prevent"])},t[27]||(t[27]=[p("i",{class:"bi bi-trash me-1 text-danger"},null,-1),P(" 刪除 ")]),8,ae)]))])])])])})),128))])])],2)),le.value.showModal?(C(),m(U,{key:3,myModal:le.value,modelValue:ie.value,"onUpdate:modelValue":t[7]||(t[7]=function(e){return ie.value=e}),onSubmit:ye,onCancel:t[8]||(t[8]=function(e){return le.value.showModal=!1})},null,8,["myModal","modelValue"])):f("",!0),a.totalItems?(C(),m(V,{key:4,modelValue:a.pageNumber,"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.pageNumber=e}),pageSize:a.pageSize,"onUpdate:pageSize":t[10]||(t[10]=function(e){return a.pageSize=e}),"total-items":a.totalItems},null,8,["modelValue","pageSize","total-items"])):f("",!0)])}}});e("default",z(oe,[["__scopeId","data-v-8f4cafe1"]]))}}}))}();
//# sourceMappingURL=DocTypeManagement-legacy-CJv6nQC3.js.map
