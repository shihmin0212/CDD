{"version":3,"file":"StateError-biORtoGH.js","sources":["../../src/components/StateError.vue"],"sourcesContent":["<template>\r\n    <!-- content -->\r\n    <div class=\"content p-4 mt-5\" :class=\"{ expanded: collapsed }\">\r\n        <h1 class=\"mb-4\">{{ data.Title }}</h1>\r\n        <p class=\"p2\">\r\n            您好：<br />\r\n            {{ data.Message }}\r\n        </p>\r\n        <p class=\"text-error\">(錯誤碼：{{ data.ErrorCode }})</p>\r\n\r\n        <div class=\"d-flex justify-content-center flex-wrap mt-4\">\r\n            <button class=\"btn btn-info\" v-on:click=\"ReturnPageAction()\">確定</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\ndefineProps<{ collapsed: boolean }>();\r\nimport { onMounted, ref } from 'vue';\r\nimport * as Api from '@/libs/ApiClient';\r\nimport { RouteUrlList } from '@/libs/RouteList';\r\nimport type { AxiosResponse } from 'axios';\r\nimport * as Common from '@/libs/Common';\r\nimport type { GeneralResp } from '@/models/GeneralResp';\r\nimport { useRouter } from 'vue-router';\r\nconst router = useRouter();\r\n\r\nimport { useStateErrorMessageStore } from '@/stores/modules/stateErrorMessage';\r\nconst stateErrorMessageStore = useStateErrorMessageStore();\r\nconst stateErrorMessage = stateErrorMessageStore.$state;\r\n\r\ninterface IStateErrorData {\r\n    ErrorCode: string | null;\r\n    Title: string;\r\n    Message: string;\r\n}\r\nconst data = ref<IStateErrorData>({\r\n    ErrorCode: '',\r\n    Title: '系統發生非預期錯誤',\r\n    Message: '很抱歉，系統發生非預期錯誤，請重新進入線上開戶服務，造成不便敬請見諒。'\r\n});\r\n\r\nonMounted(async () => {\r\n    const readlocally = router.currentRoute.value.query.readlocally || router.currentRoute.value.query.Readlocally;\r\n    if (readlocally && readlocally.toString().toLowerCase() === 'y') {\r\n        data.value.ErrorCode = stateErrorMessage.errorCode || null;\r\n        data.value.Title = stateErrorMessage.title || '錯誤頁面';\r\n        data.value.Message = stateErrorMessage.message || '請重新進入線上開戶服務，造成不便敬請見諒';\r\n    } else {\r\n        await LoadViewData();\r\n    }\r\n});\r\n\r\nconst LoadViewData = () => {\r\n    try {\r\n        let appSelf = this;\r\n        const data = { id: router.currentRoute.value.query.id };\r\n        /*return Api.post(RouteUrlList.API_StateErrorViewData.path, data)\r\n            .then((res: AxiosResponse<GeneralResp>) => {\r\n                if (res.data.status) {\r\n                    appSelf.Title = res.data.title || '系統發生非預期錯誤';\r\n                    appSelf.Message = res.data.message || Api.defaultErrorMsg.unknown;\r\n                    appSelf.ErrorCode = res.data.errorCode || '';\r\n                } else {\r\n                    Api.HandleGeneralRespError(res);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                Api.HandleError(error);\r\n                Common.ConsoleLog(error);\r\n            });*/\r\n    } catch (e: any) {\r\n        Common.ConsoleLog(e);\r\n    }\r\n};\r\nconst ReturnPageAction = async () => {\r\n    router.push({\r\n        name: RouteUrlList.Login.name\r\n    });\r\n};\r\n</script>\r\n"],"names":["router","useRouter","stateErrorMessage","useStateErrorMessageStore","data","ref","onMounted","readlocally","LoadViewData","appSelf","e","ReturnPageAction","RouteUrlList","_createElementBlock","_normalizeClass","collapsed","_createElementVNode","_hoisted_1","_toDisplayString","_hoisted_2","_hoisted_3","_hoisted_4"],"mappings":"0SAyBA,MAAMA,EAASC,EAAU,EAInBC,EADyBC,EAA0B,EACR,OAO3CC,EAAOC,EAAqB,CAC9B,UAAW,GACX,MAAO,YACP,QAAS,qCAAA,CACZ,EAEDC,EAAU,SAAY,CACZ,MAAAC,EAAcP,EAAO,aAAa,MAAM,MAAM,aAAeA,EAAO,aAAa,MAAM,MAAM,YAC/FO,GAAeA,EAAY,SAAW,EAAA,YAAA,IAAkB,KACnDH,EAAA,MAAM,UAAYF,EAAkB,WAAa,KACjDE,EAAA,MAAM,MAAQF,EAAkB,OAAS,OACzCE,EAAA,MAAM,QAAUF,EAAkB,SAAW,wBAElD,MAAMM,EAAa,CACvB,CACH,EAED,MAAMA,EAAe,IAAM,CACnB,GAAA,CACA,IAAIC,EAAU,KACd,MAAML,EAAO,CAAE,GAAIJ,EAAO,aAAa,MAAM,MAAM,EAAG,QAejDU,EAAQ,CACM,CAE3B,EACMC,EAAmB,SAAY,CACjCX,EAAO,KAAK,CACR,KAAMY,EAAa,MAAM,IAAA,CAC5B,CACL,oBA7EIC,EAWM,MAAA,CAXD,MAAKC,EAAA,CAAC,mBAAkB,CAAA,SAAqBC,EAAS,UAAA,CAAA,CAAA,GACvDC,EAAsC,KAAtCC,EAAoBC,EAAAd,EAAA,MAAK,KAAK,EAAA,CAAA,EAC9BY,EAGI,IAHJG,EAGI,eAHU,MACP,eAAAH,EAAM,KAAA,KAAA,KAAA,EAAA,KAAA,IACTE,EAAGd,EAAI,MAAC,OAAO,EAAA,CAAA,CAAA,GAEnBY,EAAoD,IAApDI,EAAsB,UAAQhB,EAAI,MAAC,SAAS,EAAG,IAAC,CAAA,EAEhDY,EAEM,MAFNK,EAEM,CADFL,EAAwE,SAAA,CAAhE,MAAM,eAAoB,uBAAOL,EAAgB,EAAA,EAAI,IAAE"}