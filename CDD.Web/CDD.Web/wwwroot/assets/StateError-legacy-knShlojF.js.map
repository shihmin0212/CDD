{"version":3,"file":"StateError-legacy-knShlojF.js","sources":["../../src/components/StateError.vue"],"sourcesContent":["<template>\r\n    <!-- content -->\r\n    <div class=\"content p-4 mt-5\" :class=\"{ expanded: collapsed }\">\r\n        <h1 class=\"mb-4\">{{ data.Title }}</h1>\r\n        <p class=\"p2\">\r\n            您好：<br />\r\n            {{ data.Message }}\r\n        </p>\r\n        <p class=\"text-error\">(錯誤碼：{{ data.ErrorCode }})</p>\r\n\r\n        <div class=\"d-flex justify-content-center flex-wrap mt-4\">\r\n            <button class=\"btn btn-info\" v-on:click=\"ReturnPageAction()\">確定</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\ndefineProps<{ collapsed: boolean }>();\r\nimport { onMounted, ref } from 'vue';\r\nimport * as Api from '@/libs/ApiClient';\r\nimport { RouteUrlList } from '@/libs/RouteList';\r\nimport type { AxiosResponse } from 'axios';\r\nimport * as Common from '@/libs/Common';\r\nimport type { GeneralResp } from '@/models/GeneralResp';\r\nimport { useRouter } from 'vue-router';\r\nconst router = useRouter();\r\n\r\nimport { useStateErrorMessageStore } from '@/stores/modules/stateErrorMessage';\r\nconst stateErrorMessageStore = useStateErrorMessageStore();\r\nconst stateErrorMessage = stateErrorMessageStore.$state;\r\n\r\ninterface IStateErrorData {\r\n    ErrorCode: string | null;\r\n    Title: string;\r\n    Message: string;\r\n}\r\nconst data = ref<IStateErrorData>({\r\n    ErrorCode: '',\r\n    Title: '系統發生非預期錯誤',\r\n    Message: '很抱歉，系統發生非預期錯誤，請重新進入線上開戶服務，造成不便敬請見諒。'\r\n});\r\n\r\nonMounted(async () => {\r\n    const readlocally = router.currentRoute.value.query.readlocally || router.currentRoute.value.query.Readlocally;\r\n    if (readlocally && readlocally.toString().toLowerCase() === 'y') {\r\n        data.value.ErrorCode = stateErrorMessage.errorCode || null;\r\n        data.value.Title = stateErrorMessage.title || '錯誤頁面';\r\n        data.value.Message = stateErrorMessage.message || '請重新進入線上開戶服務，造成不便敬請見諒';\r\n    } else {\r\n        await LoadViewData();\r\n    }\r\n});\r\n\r\nconst LoadViewData = () => {\r\n    try {\r\n        let appSelf = this;\r\n        const data = { id: router.currentRoute.value.query.id };\r\n        /*return Api.post(RouteUrlList.API_StateErrorViewData.path, data)\r\n            .then((res: AxiosResponse<GeneralResp>) => {\r\n                if (res.data.status) {\r\n                    appSelf.Title = res.data.title || '系統發生非預期錯誤';\r\n                    appSelf.Message = res.data.message || Api.defaultErrorMsg.unknown;\r\n                    appSelf.ErrorCode = res.data.errorCode || '';\r\n                } else {\r\n                    Api.HandleGeneralRespError(res);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                Api.HandleError(error);\r\n                Common.ConsoleLog(error);\r\n            });*/\r\n    } catch (e: any) {\r\n        Common.ConsoleLog(e);\r\n    }\r\n};\r\nconst ReturnPageAction = async () => {\r\n    router.push({\r\n        name: RouteUrlList.Login.name\r\n    });\r\n};\r\n</script>\r\n"],"names":["router","useRouter","stateErrorMessage","useStateErrorMessageStore","$state","data","ref","ErrorCode","Title","Message","onMounted","_asyncToGenerator","_regenerator","m","_callee","readlocally","w","_context","n","currentRoute","value","query","Readlocally","toString","toLowerCase","errorCode","title","message","LoadViewData","a","id","e","ReturnPageAction","_callee2","_context2","push","name","RouteUrlList","Login","_createElementBlock","class","_normalizeClass","expanded","collapsed","_createElementVNode","_hoisted_1","_toDisplayString","_hoisted_2","_hoisted_3","_hoisted_4","onClick"],"mappings":"+6FAyBMA,EAASC,IAITC,EADyBC,IACkBC,OAO3CC,EAAOC,EAAqB,CAC9BC,UAAW,GACXC,MAAO,YACPC,QAAS,wCAGbC,EAAAC,EAAAC,IAAAC,GAAU,SAAAC,QAAAC,EAAA,OAAAH,IAAAI,YAAAC,GAAA,cAAAA,EAAAC,UAEFH,KADEA,EAAcf,EAAOmB,aAAaC,MAAMC,MAAMN,aAAef,EAAOmB,aAAaC,MAAMC,MAAMC,cACvC,MAAzCP,EAAYQ,WAAWC,cAAuBP,CAAAA,EAAAC,EAAA,EAAA,KAAA,CACxDb,EAAAe,MAAMb,UAAYL,EAAkBuB,WAAa,KACjDpB,EAAAe,MAAMZ,MAAQN,EAAkBwB,OAAS,OACzCrB,EAAAe,MAAMX,QAAUP,EAAkByB,SAAW,uBAAAV,EAAAC,EAAA,EAAA,MAAA,KAAA,SAAAD,EAAAC,IAE5CU,IAAa,KAAA,EAAA,OAAAX,EAAAY,QAAAf,EAAA,MAI3B,IAAMc,EAAe,WACb,IAEmB5B,EAAOmB,aAAaC,MAAMC,MAAMS,SAe9CC,GACc,CAE3B,EACMC,4BAAmB,SAAAC,IAAArB,OAAAA,IAAAI,GAAA,SAAAkB,GAAAA,cAAAA,EAAAhB,GAAA,KAAA,EACrBlB,EAAOmC,KAAK,CACRC,KAAMC,EAAaC,MAAMF,OAC5B,KAAAF,EAAAA,OAAAA,EAAAL,EAAA,GAAA,GAAAI,EACL,KAAA,OAAA,8EA7EIM,EAWM,MAAA,CAXDC,MAAKC,EAAA,CAAC,mBAAkB,CAAAC,SAAqBC,EAASA,eACvDC,EAAsC,KAAtCC,EAAoBC,EAAAzC,EAAAe,MAAKZ,OAAK,GAC9BoC,EAGI,IAHJG,EAGI,eAHU,qBACPH,EAAM,KAAA,KAAA,MAAA,MAAA,IACTE,EAAGzC,EAAIe,MAACX,SAAO,KAEnBmC,EAAoD,IAApDI,EAAsB,UAAQ3C,EAAIe,MAACb,WAAY,IAAC,GAEhDqC,EAEM,MAFNK,EAEM,CADFL,EAAwE,SAAA,CAAhEJ,MAAM,eAAoBU,uCAAOlB,GAAgB,IAAI"}