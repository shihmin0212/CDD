{"version":3,"file":"FileCaseManagement-B4Ojwsfy.js","sources":["../../src/components/BackStage/5_FileCase/FileCaseCreateModal.vue","../../src/components/BackStage/5_FileCase/FileCasePermissionWhiteListModal.vue","../../src/components/BackStage/5_FileCase/FileCaseUpdateModal.vue","../../src/components/BackStage/5_FileCase/FileCaseManagement.vue"],"sourcesContent":["<template>\r\n    <div\r\n        v-if=\"modalData.ModalInstance.showModal\"\r\n        class=\"modal show d-block\"\r\n        tabindex=\"-1\"\r\n        :aria-labelledby=\"modalData.ModalInstance.modalId\"\r\n        :aria-hidden=\"!modalData.ModalInstance.showModal\"\r\n        @click=\"handleBackgroundClick\"\r\n        :class=\"{ 'static-backdrop-animation': modalData.ModalInstance.animateBackdrop }\"\r\n    >\r\n        <div\r\n            class=\"modal-dialog\"\r\n            :class=\"[modalData.ModalInstance.size, modalData.ModalInstance.scrollable ? 'modal-dialog-scrollable' : '']\"\r\n        >\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\">{{ modalData.ModalInstance.title }}</h5>\r\n                    <button type=\"button\" class=\"btn-close\" @click=\"closeModal\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <form @submit.prevent=\"handleSubmit\">\r\n                        <!-- 業務別欄位 -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"business\" class=\"form-label\"> 業務別 <span class=\"text-danger\">*</span> </label>\r\n                            <div class=\"input-group\">\r\n                                <input\r\n                                    id=\"business\"\r\n                                    v-model=\"formData.business\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    placeholder=\"請選擇業務別\"\r\n                                    readonly\r\n                                    required\r\n                                />\r\n                                <button type=\"button\" class=\"btn btn-esun-outline\" @click=\"openBusinessSelectModal\">\r\n                                    選擇\r\n                                </button>\r\n                            </div>\r\n                            <div v-if=\"errors.business\" class=\"invalid-feedback d-block\">\r\n                                {{ errors.business }}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- 上傳系統代碼 -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"uploadSystemID\" class=\"form-label\">上傳系統代碼</label>\r\n                            <input\r\n                                id=\"uploadSystemID\"\r\n                                v-model=\"formData.uploadSystemID\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"上傳者為系統時，請填入系統代碼 (如: OOA)\"\r\n                                maxlength=\"20\"\r\n                                disabled\r\n                            />\r\n                        </div>\r\n\r\n                        <!-- 上傳員工代碼 -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"uploadEmployeeNo\" class=\"form-label\">上傳員工代碼</label>\r\n                            <input\r\n                                id=\"uploadEmployeeNo\"\r\n                                v-model=\"formData.uploadEmployeeNo\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"上傳者為員工時，請填入員工代碼 (如: S717XX)\"\r\n                                maxlength=\"20\"\r\n                                disabled\r\n                            />\r\n                        </div>\r\n\r\n                        <!-- 文件類別權限 -->\r\n                        <div class=\"mb-3\">\r\n                            <label class=\"form-label\"> 文件類別權限 <span class=\"text-danger\">*</span> </label>\r\n                            <div class=\"d-flex flex-column gap-2\">\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission0\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"0\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission0\"> 不限制任何系統 (Public) </label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission1\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"1\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission1\"> 限制註冊系統 (Protect) </label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission2\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"2\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission2\">\r\n                                        限制白名單系統 (ProtectInternal)\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission3\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"3\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission3\"> 自己才可存取 (Private) </label>\r\n                                </div>\r\n                            </div>\r\n                            <div v-if=\"errors.permission\" class=\"invalid-feedback d-block\">\r\n                                {{ errors.permission }}\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-esun-outline\" @click=\"closeModal\">取消</button>\r\n                    <button type=\"button\" class=\"btn btn-esun-primary\" @click=\"handleSubmit\" :disabled=\"isSubmitting\">\r\n                        <span v-if=\"isSubmitting\" class=\"spinner-border spinner-border-sm me-2\"></span>\r\n                        {{ isSubmitting ? '建立中...' : '建立' }}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- 業務別選擇Modal -->\r\n    <SelectListModal\r\n        v-if=\"businessSelectModal.ModalInstance.showModal\"\r\n        :myModal=\"businessSelectModal.ModalInstance\"\r\n        :paginationType=\"businessSelectModal.PaginationType\"\r\n        :disabledDataList=\"[]\"\r\n        :selectedList=\"businessSelectModal.DataList\"\r\n        :totalItems=\"businessSelectModal.TotalItems\"\r\n        :onSelect=\"handleBusinessSelect\"\r\n        :onCancel=\"handleBusinessSelectCancel\"\r\n        :onPageChange=\"onBusinessPageChange\"\r\n    />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted } from 'vue';\r\nimport type { MyBaseModal } from '@/components/modal/BaseModal/schema';\r\n\r\nimport SelectListModal from '@/components/modal/SelectListModal/SelectListModal.vue';\r\nimport type { InternalSelectedList, MySelectListModal } from '@/components/modal/SelectListModal/schema';\r\nimport * as ApiClient from '@/libs/ApiClient';\r\nimport API from '@/api/v1/';\r\n\r\nexport interface FileCaseFormData {\r\n    business: string;\r\n    uploadSystemID?: string | null;\r\n    uploadEmployeeNo?: string | null;\r\n    permission: string | null; // '0' | '1' | '2' | '3'\r\n}\r\n\r\n// Props\r\nconst props = defineProps<{\r\n    onSubmit?: (data: FileCaseFormData) => Promise<void>;\r\n}>();\r\n\r\n// Emits\r\nconst emit = defineEmits<{\r\n    submit: [data: FileCaseFormData];\r\n    cancel: [];\r\n}>();\r\n\r\n// Modal 資料結構\r\ninterface ModalData {\r\n    ModalInstance: MyBaseModal & { animateBackdrop?: boolean };\r\n}\r\n\r\nconst modalData = ref<ModalData>({\r\n    ModalInstance: {\r\n        modalId: 'fileCaseCreateModal',\r\n        title: '新增文件類別',\r\n        showModal: false,\r\n        size: 'modal-xl',\r\n        staticBackdrop: true,\r\n        scrollable: false,\r\n        animateBackdrop: false\r\n    }\r\n});\r\n\r\n// 表單資料\r\nconst formData = reactive<FileCaseFormData>({\r\n    business: '',\r\n    uploadSystemID: null,\r\n    uploadEmployeeNo: null,\r\n    permission: null\r\n});\r\n\r\n// 表單驗證錯誤\r\nconst errors = reactive({\r\n    business: '',\r\n    permission: ''\r\n});\r\n\r\n// 提交狀態\r\nconst isSubmitting = ref(false);\r\n\r\n// 業務別選擇Modal結構\r\ninterface IBusinessSelectModal {\r\n    ModalInstance: MySelectListModal;\r\n    PaginationType: 'server' | 'client';\r\n    DisabledDataList: string[] | null;\r\n    DataList: InternalSelectedList[];\r\n    TotalItems: number;\r\n    PageNumber: number;\r\n    PageSize: number;\r\n}\r\n\r\nconst businessSelectModal = ref<IBusinessSelectModal>({\r\n    ModalInstance: {\r\n        modalId: 'business-select-modal',\r\n        title: '選擇業務別',\r\n        showModal: false,\r\n        size: 'modal-xl',\r\n        staticBackdrop: true,\r\n        scrollable: true\r\n    },\r\n    PaginationType: 'server',\r\n    DisabledDataList: null,\r\n    DataList: [],\r\n    TotalItems: 0,\r\n    PageNumber: 1,\r\n    PageSize: 10\r\n});\r\n\r\n// 開啟Modal\r\nfunction openModal() {\r\n    resetForm();\r\n    modalData.value.ModalInstance.showModal = true;\r\n}\r\n\r\n// 關閉Modal\r\nfunction closeModal() {\r\n    modalData.value.ModalInstance.showModal = false;\r\n    emit('cancel');\r\n}\r\n\r\n// 重置表單\r\nfunction resetForm() {\r\n    formData.business = '';\r\n    formData.uploadSystemID = null;\r\n    formData.uploadEmployeeNo = null;\r\n    formData.permission = null;\r\n\r\n    errors.business = '';\r\n    errors.permission = '';\r\n\r\n    isSubmitting.value = false;\r\n}\r\n\r\n// 處理背景點擊事件\r\nfunction handleBackgroundClick(event: MouseEvent) {\r\n    if (event.target === event.currentTarget) {\r\n        modalData.value.ModalInstance.animateBackdrop = true;\r\n        setTimeout(() => {\r\n            modalData.value.ModalInstance.animateBackdrop = false;\r\n        }, 150);\r\n    }\r\n}\r\n\r\n// 表單驗證\r\nfunction validateForm(): boolean {\r\n    let isValid = true;\r\n\r\n    // 清除之前的錯誤\r\n    errors.business = '';\r\n    errors.permission = '';\r\n\r\n    // 驗證業務別\r\n    if (!formData.business.trim()) {\r\n        errors.business = '請選擇業務別';\r\n        isValid = false;\r\n    }\r\n\r\n    // 驗證權限\r\n    if (!formData.permission) {\r\n        errors.permission = '請選擇文件類別權限';\r\n        isValid = false;\r\n    }\r\n\r\n    return isValid;\r\n}\r\n\r\n// 處理表單提交\r\nasync function handleSubmit() {\r\n    if (!validateForm()) {\r\n        return;\r\n    }\r\n\r\n    isSubmitting.value = true;\r\n\r\n    try {\r\n        if (props.onSubmit) {\r\n            await props.onSubmit(formData);\r\n        }\r\n        closeModal();\r\n    } catch (error) {\r\n        console.error('提交表單時發生錯誤:', error);\r\n    } finally {\r\n        isSubmitting.value = false;\r\n    }\r\n}\r\n\r\n// 開啟業務別選擇Modal\r\nasync function openBusinessSelectModal() {\r\n    try {\r\n        // 載入業務別資料\r\n        const response = await API.BusinessManagementViewData('', 1, businessSelectModal.value.PageSize);\r\n\r\n        if (response.status && response.result?.items) {\r\n            businessSelectModal.value.DataList = response.result.items.map((item) => ({\r\n                name: item.business,\r\n                value: item.business\r\n            }));\r\n            businessSelectModal.value.TotalItems = response.result.totalCount;\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n            return;\r\n        }\r\n\r\n        businessSelectModal.value.ModalInstance.showModal = true;\r\n    } catch (error) {\r\n        console.error('載入業務別資料時發生錯誤:', error);\r\n    }\r\n}\r\n\r\n// 處理業務別分頁變化\r\nconst onBusinessPageChange = async (searchQuery: string, pageNumber: number, pageSize: number) => {\r\n    try {\r\n        const response = await API.BusinessManagementViewData(searchQuery, pageNumber, pageSize);\r\n\r\n        if (response.status && response.result?.items) {\r\n            businessSelectModal.value.DataList = response.result.items.map((item) => ({\r\n                name: item.business,\r\n                value: item.business\r\n            }));\r\n            businessSelectModal.value.TotalItems = response.result.totalCount;\r\n            businessSelectModal.value.PageSize = pageSize;\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    } catch (error) {\r\n        console.error('載入業務別資料時發生錯誤:', error);\r\n    }\r\n};\r\n\r\n// 處理業務別選擇\r\nfunction handleBusinessSelect(selectedBusiness: string) {\r\n    formData.business = selectedBusiness;\r\n    errors.business = ''; // 清除錯誤訊息\r\n    businessSelectModal.value.ModalInstance.showModal = false;\r\n}\r\n\r\n// 處理業務別選擇取消\r\nfunction handleBusinessSelectCancel() {\r\n    businessSelectModal.value.ModalInstance.showModal = false;\r\n}\r\n\r\n// 暴露方法給父元件\r\ndefineExpose({\r\n    openModal,\r\n    closeModal\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.modal {\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.modal-dialog {\r\n    background-color: transparent;\r\n}\r\n\r\n.static-backdrop-animation {\r\n    animation: staticBackdropAnimation 0.15s ease-in-out;\r\n}\r\n\r\n.modal-dialog-scrollable .modal-body {\r\n    max-height: calc(100vh - 200px);\r\n    overflow-y: auto;\r\n}\r\n\r\n@keyframes staticBackdropAnimation {\r\n    0% {\r\n        transform: scale(1);\r\n    }\r\n    50% {\r\n        transform: scale(1.02);\r\n    }\r\n    100% {\r\n        transform: scale(1);\r\n    }\r\n}\r\n\r\n.form-check {\r\n    padding-left: 1.5em;\r\n}\r\n\r\n.input-group .btn {\r\n    border-left: 0;\r\n}\r\n\r\n.input-group .form-control:focus + .btn {\r\n    border-color: #86b7fe;\r\n}\r\n</style>\r\n","<template>\r\n    <div\r\n        v-if=\"AllowData.ModalInstance.showModal\"\r\n        class=\"modal show d-block\"\r\n        tabindex=\"-1\"\r\n        :aria-labelledby=\"AllowData.ModalInstance.modalId\"\r\n        :aria-hidden=\"!AllowData.ModalInstance.showModal\"\r\n        @click=\"handleBackgroundClick\"\r\n        :class=\"{ 'static-backdrop-animation': AllowData.ModalInstance.animateBackdrop }\"\r\n    >\r\n        <div\r\n            class=\"modal-dialog\"\r\n            :class=\"[AllowData.ModalInstance.size, AllowData.ModalInstance.scrollable ? 'modal-dialog-scrollable' : '']\"\r\n        >\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\">{{ AllowData.ModalInstance.title }}</h5>\r\n                    <button type=\"button\" class=\"btn-close\" @click=\"closeModal\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"btn-group me-2 mb-3\" role=\"group\" aria-label=\"First group\">\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-esun-outline\"\r\n                            :class=\"{ active: AllowData.DisplayMode === 'card' }\"\r\n                            @click=\"AllowData.DisplayMode = 'card'\"\r\n                        >\r\n                            卡片顯示\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-esun-outline\"\r\n                            :class=\"{ active: AllowData.DisplayMode === 'table' }\"\r\n                            @click=\"AllowData.DisplayMode = 'table'\"\r\n                        >\r\n                            表格顯示\r\n                        </button>\r\n\r\n                        <button type=\"button\" class=\"btn btn-esun-outline\" @click=\"openAddWhiteListModal\">\r\n                            新增白名單業務別\r\n                        </button>\r\n                    </div>\r\n                    <div v-if=\"AllowData.DataList.length === 0\" class=\"text-muted\">無白名單項目</div>\r\n\r\n                    <div\r\n                        v-if=\"AllowData.DisplayMode === 'card'\"\r\n                        class=\"d-flex flex-wrap w-100\"\r\n                        style=\"min-height: 400px\"\r\n                    >\r\n                        <div\r\n                            v-for=\"(item, index) in AllowData.DataList\"\r\n                            :key=\"index\"\r\n                            class=\"p-2\"\r\n                            style=\"flex: 1 1 0; min-width: 25%; max-width: 25%; width: 25%\"\r\n                        >\r\n                            <div class=\"card\">\r\n                                <div\r\n                                    class=\"card-body p-2 d-flex flex-column justify-content-between\"\r\n                                    style=\"height: 100px\"\r\n                                >\r\n                                    <div class=\"mb-2 text-truncate\" :title=\"item.business\" style=\"width: 100%\">\r\n                                        {{ item.business }}\r\n                                    </div>\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        class=\"btn btn-sm btn-danger align-self-end\"\r\n                                        @click=\"RemoveWhiteListBusiness(item)\"\r\n                                    >\r\n                                        移除\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div v-if=\"AllowData.DisplayMode === 'table'\" style=\"min-height: 400px\">\r\n                        <table class=\"table table-bordered\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>業務別</th>\r\n                                    <th>操作</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"(item, index) in AllowData.DataList\" :key=\"index\">\r\n                                    <td>{{ item.business }}</td>\r\n                                    <td>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            class=\"btn btn-sm btn-danger\"\r\n                                            @click=\"RemoveWhiteListBusiness(item)\"\r\n                                        >\r\n                                            移除\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <Pagination\r\n                        v-if=\"AllowData.DataList.length > 0\"\r\n                        v-model:modelValue=\"AllowData.CurrentPage\"\r\n                        v-model:pageSize=\"AllowData.PageSize\"\r\n                        :total-items=\"AllowData.TotalItems\"\r\n                    />\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button class=\"btn btn-esun-outline\" @click.prevent=\"closeModal\">關閉</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <SelectListModal\r\n        v-if=\"AddWhiteListModal.ModalInstance.showModal\"\r\n        :myModal=\"AddWhiteListModal.ModalInstance\"\r\n        :paginationType=\"AddWhiteListModal.PaginationType\"\r\n        :disabledDataList=\"[]\"\r\n        :selectedList=\"AddWhiteListModal.DataList\"\r\n        :totalItems=\"AddWhiteListModal.TotalCount\"\r\n        :onSelect=\"handleSelectWhiteListSubmit\"\r\n        :onCancel=\"handleSelectWhiteListCancel\"\r\n        :onPageChange=\"onPageChange\"\r\n    />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport type { BusinessDTO } from '@/models/DTO/BusinessDTO';\r\n\r\nconst props = defineProps<{\r\n    // 目前選取操作的文件類別序號\r\n    operateCaseNo: string;\r\n}>();\r\n\r\nimport { ref, onMounted, watch, computed } from 'vue';\r\nimport type { MyBaseModal } from '@/components/modal/BaseModal/schema';\r\n\r\n// 文件類別權限白名單\r\ninterface FileCasePermissionWhiteList {\r\n    caseNo: string;\r\n    business: string;\r\n}\r\n\r\ninterface AllowData {\r\n    ModalInstance: MyBaseModal;\r\n    PaginationType: 'server' | 'client';\r\n    DisplayMode: 'table' | 'card';\r\n    DataList: FileCasePermissionWhiteList[];\r\n    TotalItems: number;\r\n    CurrentPage: number;\r\n    PageSize: number;\r\n}\r\n\r\nconst AllowData = ref<AllowData>(GetDefaultAllowData());\r\n\r\nfunction GetDefaultAllowData(): AllowData {\r\n    return {\r\n        ModalInstance: {\r\n            modalId: 'FileCasePermissionWhiteListModal',\r\n            title: `檔案案件 ${props.operateCaseNo} 權限白名單管理`,\r\n            showModal: false,\r\n            size: 'modal-xl',\r\n            staticBackdrop: true,\r\n            animateBackdrop: false\r\n        },\r\n        PaginationType: 'server',\r\n        DisplayMode: 'table',\r\n        DataList: [],\r\n        TotalItems: 1,\r\n        CurrentPage: 1,\r\n        PageSize: 10\r\n    };\r\n}\r\n\r\nwatch(\r\n    () => ({\r\n        currentPage: AllowData.value.CurrentPage,\r\n        pageSize: AllowData.value.PageSize\r\n    }),\r\n    (newVal, oldVal) => {\r\n        if (newVal.currentPage !== oldVal.currentPage || newVal.pageSize !== oldVal.pageSize) {\r\n            debugger;\r\n            LoadViewData();\r\n        }\r\n    }\r\n);\r\n\r\n// 監聽 operateCaseNo 屬性的變化以更新標題和重新載入數據\r\nwatch(\r\n    () => props.operateCaseNo,\r\n    (newVal, oldVal) => {\r\n        if (newVal !== oldVal) {\r\n            AllowData.value = GetDefaultAllowData();\r\n            LoadViewData();\r\n        }\r\n    }\r\n);\r\n\r\n/**\r\n * 展開Modal\r\n */\r\nasync function openModal() {\r\n    AllowData.value = GetDefaultAllowData();\r\n    await LoadViewData();\r\n    AllowData.value.ModalInstance.showModal = true;\r\n}\r\n\r\n/**\r\n * 關閉Modal\r\n */\r\nfunction closeModal() {\r\n    AllowData.value.ModalInstance.showModal = false;\r\n}\r\n\r\n/**\r\n * 處理點擊背景事件，觸發背景動畫\r\n */\r\nfunction handleBackgroundClick(event: MouseEvent) {\r\n    if (event.target === event.currentTarget) {\r\n        AllowData.value.ModalInstance.animateBackdrop = true;\r\n        setTimeout(() => {\r\n            AllowData.value.ModalInstance.animateBackdrop = false;\r\n        }, 150);\r\n    }\r\n}\r\n\r\n/**\r\n * 載入白名單資料\r\n */\r\nconst LoadViewData = async () => {\r\n    try {\r\n        const response = await API.FileCasePermissionWhiteListViewData(props.operateCaseNo);\r\n\r\n        if (response.status) {\r\n            AllowData.value.DataList = response.result.items;\r\n            AllowData.value.TotalItems = response.result.totalCount;\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    } catch (error) {\r\n        ApiClient.HandleError(error);\r\n        console.error('Error fetching FileCase permission white list:', error);\r\n    }\r\n};\r\n\r\nimport {\r\n    SimplePopUp,\r\n    SimplePopUpBtnType,\r\n    SimplePopUpModalType,\r\n    SimplePopUpSize,\r\n    type SimplePopupResolveResult\r\n} from '@/libs/SimplePopUp';\r\n\r\nconst simplePopUp = new SimplePopUp();\r\n\r\n/**\r\n * 移除白名單業務別\r\n */\r\nasync function RemoveWhiteListBusiness(item: FileCasePermissionWhiteList) {\r\n    let action: SimplePopupResolveResult<string> = await simplePopUp.showAlert(\r\n        SimplePopUpModalType.Warning,\r\n        '警告',\r\n        `確定要刪除白名單業務別 ${item.business} 嗎？`,\r\n        [\r\n            {\r\n                id: 'cancel',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-esun-outline',\r\n                resolveParam: 'cancel',\r\n                title: '取消'\r\n            },\r\n            {\r\n                id: 'confirm',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-info',\r\n                resolveParam: 'confirm',\r\n                title: '確定'\r\n            }\r\n        ]\r\n    );\r\n\r\n    if (action.param === 'confirm') {\r\n        const response = await API.FileCasePermissionWhiteListRemove(props.operateCaseNo, item.business);\r\n        if (response.status) {\r\n            await LoadViewData();\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    }\r\n}\r\n\r\n/** 選擇列表模態框 */\r\nimport SelectListModal from '@/components/modal/SelectListModal/SelectListModal.vue';\r\nimport type { InternalSelectedList, MySelectListModal } from '@/components/modal/SelectListModal/schema';\r\nimport * as ApiClient from '@/libs/ApiClient';\r\nimport API from '@/api/v1/';\r\nimport Pagination from '@/components/pagination/Pagination.vue';\r\n\r\ninterface ISelectListModal {\r\n    ModalInstance: MySelectListModal;\r\n    PaginationType: 'server';\r\n    DataList: InternalSelectedList[];\r\n    TotalCount: number;\r\n    PageSize: number;\r\n}\r\n\r\nconst AddWhiteListModal = ref<ISelectListModal>(GetDefaultModalData());\r\n\r\nfunction GetDefaultModalData(): ISelectListModal {\r\n    return {\r\n        ModalInstance: {\r\n            modalId: 'filecase-whitelist-select-modal',\r\n            title: '選擇白名單業務別',\r\n            showModal: false,\r\n            size: 'modal-xl',\r\n            staticBackdrop: true,\r\n            scrollable: true\r\n        },\r\n        PaginationType: 'server',\r\n        DataList: [],\r\n        TotalCount: 0,\r\n        PageSize: 10\r\n    };\r\n}\r\n\r\nfunction initAddWhiteListModal() {\r\n    AddWhiteListModal.value = GetDefaultModalData();\r\n}\r\n\r\nconst onPageChange = async (searchQuery: string, pageNumber: number, pageSize: number) => {\r\n    try {\r\n        // 目前 business 資料少 分頁在前端做\r\n        const response = await API.BusinessManagementViewData(searchQuery, pageNumber, pageSize);\r\n\r\n        if (response.status && response.result?.items) {\r\n            AddWhiteListModal.value.DataList = response.result.items.map((item) => ({\r\n                name: item.business,\r\n                value: item.business\r\n            }));\r\n            AddWhiteListModal.value.TotalCount = response.result.totalCount;\r\n            AddWhiteListModal.value.PageSize = pageSize;\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    } catch (error) {\r\n        console.error('Error fetching business:', error);\r\n        // Handle error (e.g., show an error message)\r\n    }\r\n};\r\n\r\n// 開啟選擇列表模態框\r\nasync function openAddWhiteListModal() {\r\n    // 初始化選擇列表為全部業務資料\r\n\r\n    // 初始化選擇列表為全部業務資料\r\n    initAddWhiteListModal();\r\n    // 排除目前已存在business\r\n    const resp = await API.BusinessManagementViewData('', 1, AddWhiteListModal.value.PageSize);\r\n    // const allowedBusinessSet = new Set(AllowData.value.FullDataList.map((item) => item.business));\r\n\r\n    // const filteredList = props.AllBusinessLists.filter((item) => !allowedBusinessSet.has(item.business));\r\n    AddWhiteListModal.value.DataList = resp.result.items.map((item) => ({\r\n        name: item.business,\r\n        value: item.business\r\n    }));\r\n    AddWhiteListModal.value.TotalCount = resp.result.totalCount;\r\n    AddWhiteListModal.value.PageSize = 1;\r\n    AddWhiteListModal.value.ModalInstance.showModal = true;\r\n}\r\n\r\n// 處理選擇列表模態框提交\r\nasync function handleSelectWhiteListSubmit(selectedBusiness: string) {\r\n    let action: SimplePopupResolveResult<string> = await simplePopUp.showAlert(\r\n        SimplePopUpModalType.Warning,\r\n        '提醒',\r\n        `確定要將 ${selectedBusiness} 加入到文件類別 ${props.operateCaseNo} 的權限白名單中嗎？`,\r\n        [\r\n            {\r\n                id: 'cancel',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-esun-outline',\r\n                resolveParam: 'cancel',\r\n                title: '取消'\r\n            },\r\n            {\r\n                id: 'confirm',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-info',\r\n                resolveParam: 'confirm',\r\n                title: '確定'\r\n            }\r\n        ]\r\n    );\r\n\r\n    try {\r\n        if (action.param === 'confirm') {\r\n            const response = await API.FileCasePermissionWhiteListAdd(props.operateCaseNo, selectedBusiness);\r\n            if (response.status) {\r\n                await LoadViewData();\r\n                AddWhiteListModal.value.ModalInstance.showModal = false;\r\n            } else {\r\n                ApiClient.HandleGeneralRespError(response);\r\n            }\r\n        }\r\n    } catch (error) {\r\n        console.error('Error during confirmation:', error);\r\n    }\r\n}\r\n\r\n// 處理選擇列表模態框取消\r\nfunction handleSelectWhiteListCancel() {\r\n    AddWhiteListModal.value.ModalInstance.showModal = false;\r\n}\r\n\r\n// 將方法暴露給父元件使用\r\ndefineExpose({ openModal });\r\n</script>\r\n\r\n<style scoped>\r\n.modal {\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n.modal-dialog {\r\n    background-color: transparent;\r\n}\r\n\r\n.static-backdrop-animation {\r\n    animation: staticBackdropAnimation 0.15s ease-in-out;\r\n}\r\n\r\n.modal-dialog-scrollable .modal-body {\r\n    max-height: calc(100vh - 200px);\r\n    overflow-y: auto;\r\n}\r\n\r\n@keyframes staticBackdropAnimation {\r\n    0% {\r\n        transform: scale(1);\r\n    }\r\n    50% {\r\n        transform: scale(1.02);\r\n    }\r\n    100% {\r\n        transform: scale(1);\r\n    }\r\n}\r\n</style>\r\n","<template>\r\n    <div\r\n        v-if=\"modalData.ModalInstance.showModal\"\r\n        class=\"modal show d-block\"\r\n        tabindex=\"-1\"\r\n        :aria-labelledby=\"modalData.ModalInstance.modalId\"\r\n        :aria-hidden=\"!modalData.ModalInstance.showModal\"\r\n        @click=\"handleBackgroundClick\"\r\n        :class=\"{ 'static-backdrop-animation': modalData.ModalInstance.animateBackdrop }\"\r\n    >\r\n        <div\r\n            class=\"modal-dialog\"\r\n            :class=\"[modalData.ModalInstance.size, modalData.ModalInstance.scrollable ? 'modal-dialog-scrollable' : '']\"\r\n        >\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\">{{ modalData.ModalInstance.title }}</h5>\r\n                    <button type=\"button\" class=\"btn-close\" @click=\"closeModal\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <form @submit.prevent=\"handleSubmit\">\r\n                        <!-- 文件類別序號 (GUID) -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"caseNo\" class=\"form-label\">\r\n                                文件類別序號 (GUID) <span class=\"text-danger\">*</span>\r\n                            </label>\r\n                            <input\r\n                                id=\"caseNo\"\r\n                                v-model=\"formData.caseNo\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"請輸入文件類別序號\"\r\n                                maxlength=\"36\"\r\n                                disabled\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <!-- 業務別欄位 -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"business\" class=\"form-label\"> 業務別 <span class=\"text-danger\">*</span> </label>\r\n                            <div class=\"input-group\">\r\n                                <input\r\n                                    id=\"business\"\r\n                                    v-model=\"formData.business\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    placeholder=\"請選擇業務別\"\r\n                                    readonly\r\n                                    required\r\n                                />\r\n                                <button type=\"button\" class=\"btn btn-esun-outline\" @click=\"openBusinessSelectModal\">\r\n                                    選擇\r\n                                </button>\r\n                                <button\r\n                                    v-if=\"formData.permission === '2'\"\r\n                                    type=\"button\"\r\n                                    class=\"btn btn-esun-outline\"\r\n                                    @click=\"openPermissionWhiteListModal\"\r\n                                >\r\n                                    權限白名單\r\n                                </button>\r\n                            </div>\r\n                            <div v-if=\"errors.business\" class=\"invalid-feedback d-block\">\r\n                                {{ errors.business }}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- 上傳系統代碼 -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"uploadSystemID\" class=\"form-label\">上傳系統代碼</label>\r\n                            <input\r\n                                id=\"uploadSystemID\"\r\n                                v-model=\"formData.uploadSystemID\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"上傳者為系統時，請填入系統代碼 (如: OOA)\"\r\n                                maxlength=\"20\"\r\n                                disabled\r\n                            />\r\n                        </div>\r\n\r\n                        <!-- 上傳員工代碼 -->\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"uploadEmployeeNo\" class=\"form-label\">上傳員工代碼</label>\r\n                            <input\r\n                                id=\"uploadEmployeeNo\"\r\n                                v-model=\"formData.uploadEmployeeNo\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"上傳者為員工時，請填入員工代碼 (如: S717XX)\"\r\n                                maxlength=\"20\"\r\n                                disabled\r\n                            />\r\n                        </div>\r\n\r\n                        <!-- 文件類別權限 -->\r\n                        <div class=\"mb-3\">\r\n                            <label class=\"form-label\"> 文件類別權限 <span class=\"text-danger\">*</span> </label>\r\n                            <div class=\"d-flex flex-column gap-2\">\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission0\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"0\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission0\"> 不限制任何系統 (Public) </label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission1\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"1\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission1\"> 限制註冊系統 (Protect) </label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission2\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"2\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission2\">\r\n                                        限制白名單系統 (ProtectInternal)\r\n                                    </label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input\r\n                                        id=\"permission3\"\r\n                                        v-model=\"formData.permission\"\r\n                                        class=\"form-check-input\"\r\n                                        type=\"radio\"\r\n                                        value=\"3\"\r\n                                        required\r\n                                    />\r\n                                    <label class=\"form-check-label\" for=\"permission3\"> 自己才可存取 (Private) </label>\r\n                                </div>\r\n                            </div>\r\n                            <div v-if=\"errors.permission\" class=\"invalid-feedback d-block\">\r\n                                {{ errors.permission }}\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-esun-outline\" @click=\"closeModal\">取消</button>\r\n                    <button type=\"button\" class=\"btn btn-esun-primary\" @click=\"handleSubmit\" :disabled=\"isSubmitting\">\r\n                        <span v-if=\"isSubmitting\" class=\"spinner-border spinner-border-sm me-2\"></span>\r\n                        {{ isSubmitting ? '更新中...' : '更新' }}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- 業務別選擇Modal -->\r\n    <SelectListModal\r\n        v-if=\"businessSelectModal.ModalInstance.showModal\"\r\n        :myModal=\"businessSelectModal.ModalInstance\"\r\n        :paginationType=\"businessSelectModal.PaginationType\"\r\n        :disabledDataList=\"[]\"\r\n        :selectedList=\"businessSelectModal.DataList\"\r\n        :totalItems=\"businessSelectModal.TotalItems\"\r\n        :onSelect=\"handleBusinessSelect\"\r\n        :onCancel=\"handleBusinessSelectCancel\"\r\n        :onPageChange=\"onBusinessPageChange\"\r\n    />\r\n\r\n    <!-- 權限白名單Modal -->\r\n    <FileCasePermissionWhiteListModal\r\n        v-if=\"showPermissionWhiteListModal\"\r\n        ref=\"permissionWhiteListModalRef\"\r\n        :operateCaseNo=\"formData.caseNo\"\r\n    />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted, watch } from 'vue';\r\nimport type { MyBaseModal } from '@/components/modal/BaseModal/schema';\r\n\r\nimport SelectListModal from '@/components/modal/SelectListModal/SelectListModal.vue';\r\nimport type { InternalSelectedList, MySelectListModal } from '@/components/modal/SelectListModal/schema';\r\nimport FileCasePermissionWhiteListModal from './FileCasePermissionWhiteListModal.vue';\r\nimport * as ApiClient from '@/libs/ApiClient';\r\nimport API from '@/api/v1/';\r\n\r\nexport interface FileCaseUpdateFormData {\r\n    caseNo: string;\r\n    business: string;\r\n    uploadSystemID?: string | null;\r\n    uploadEmployeeNo?: string | null;\r\n    permission: string | null; // '0' | '1' | '2' | '3'\r\n}\r\n\r\n// Props\r\nconst props = defineProps<{\r\n    onSubmit?: (data: FileCaseUpdateFormData) => Promise<void>;\r\n}>();\r\n\r\n// Emits\r\nconst emit = defineEmits<{\r\n    submit: [data: FileCaseUpdateFormData];\r\n    cancel: [];\r\n}>();\r\n\r\n// Modal 資料結構\r\ninterface ModalData {\r\n    ModalInstance: MyBaseModal & { animateBackdrop?: boolean };\r\n}\r\n\r\nconst modalData = ref<ModalData>({\r\n    ModalInstance: {\r\n        modalId: 'fileCaseUpdateModal',\r\n        title: '修改文件類別',\r\n        showModal: false,\r\n        size: 'modal-xl',\r\n        staticBackdrop: true,\r\n        scrollable: false,\r\n        animateBackdrop: false\r\n    }\r\n});\r\n\r\n// 表單資料\r\nconst formData = reactive<FileCaseUpdateFormData>({\r\n    caseNo: '',\r\n    business: '',\r\n    uploadSystemID: null,\r\n    uploadEmployeeNo: null,\r\n    permission: null\r\n});\r\n\r\n// 表單驗證錯誤\r\nconst errors = reactive({\r\n    business: '',\r\n    permission: ''\r\n});\r\n\r\n// 提交狀態\r\nconst isSubmitting = ref(false);\r\n\r\n// 業務別選擇Modal結構\r\ninterface IBusinessSelectModal {\r\n    ModalInstance: MySelectListModal;\r\n    PaginationType: 'server';\r\n    DisabledDataList: string[] | null;\r\n    DataList: InternalSelectedList[];\r\n    TotalItems: number;\r\n    PageNumber: number;\r\n    PageSize: number;\r\n}\r\n\r\nconst businessSelectModal = ref<IBusinessSelectModal>({\r\n    ModalInstance: {\r\n        modalId: 'business-select-modal',\r\n        title: '選擇業務別',\r\n        showModal: false,\r\n        size: 'modal-xl',\r\n        staticBackdrop: true,\r\n        scrollable: true\r\n    },\r\n    PaginationType: 'server',\r\n    DisabledDataList: null,\r\n    DataList: [],\r\n    TotalItems: 0,\r\n    PageNumber: 1,\r\n    PageSize: 10\r\n});\r\n\r\n// 權限白名單Modal相關\r\nconst showPermissionWhiteListModal = ref(false);\r\nconst permissionWhiteListModalRef = ref();\r\n\r\n// 監聽權限變化，當不是限制白名單系統時關閉權限白名單Modal\r\nwatch(\r\n    () => formData.permission,\r\n    (newVal) => {\r\n        if (newVal !== '2' && showPermissionWhiteListModal.value) {\r\n            showPermissionWhiteListModal.value = false;\r\n        }\r\n    }\r\n);\r\n\r\n// 開啟Modal並載入初始資料\r\nfunction openModal(initialData?: Partial<FileCaseUpdateFormData>) {\r\n    resetForm();\r\n    if (initialData) {\r\n        Object.assign(formData, initialData);\r\n    }\r\n    modalData.value.ModalInstance.showModal = true;\r\n}\r\n\r\n// 關閉Modal\r\nfunction closeModal() {\r\n    modalData.value.ModalInstance.showModal = false;\r\n    showPermissionWhiteListModal.value = false;\r\n    emit('cancel');\r\n}\r\n\r\n// 重置表單\r\nfunction resetForm() {\r\n    formData.caseNo = '';\r\n    formData.business = '';\r\n    formData.uploadSystemID = null;\r\n    formData.uploadEmployeeNo = null;\r\n    formData.permission = null;\r\n\r\n    errors.business = '';\r\n    errors.permission = '';\r\n\r\n    isSubmitting.value = false;\r\n}\r\n\r\n// 處理背景點擊事件\r\nfunction handleBackgroundClick(event: MouseEvent) {\r\n    if (event.target === event.currentTarget) {\r\n        modalData.value.ModalInstance.animateBackdrop = true;\r\n        setTimeout(() => {\r\n            modalData.value.ModalInstance.animateBackdrop = false;\r\n        }, 150);\r\n    }\r\n}\r\n\r\n// 表單驗證\r\nfunction validateForm(): boolean {\r\n    let isValid = true;\r\n\r\n    // 清除之前的錯誤\r\n    errors.business = '';\r\n    errors.permission = '';\r\n\r\n    // 驗證業務別\r\n    if (!formData.business.trim()) {\r\n        errors.business = '請選擇業務別';\r\n        isValid = false;\r\n    }\r\n\r\n    // 驗證權限\r\n    if (!formData.permission) {\r\n        errors.permission = '請選擇文件類別權限';\r\n        isValid = false;\r\n    }\r\n\r\n    return isValid;\r\n}\r\n\r\n// 處理表單提交\r\nasync function handleSubmit() {\r\n    if (!validateForm()) {\r\n        return;\r\n    }\r\n\r\n    isSubmitting.value = true;\r\n\r\n    try {\r\n        if (props.onSubmit) {\r\n            await props.onSubmit(formData);\r\n        } else {\r\n            emit('submit', formData);\r\n        }\r\n        closeModal();\r\n    } catch (error) {\r\n        console.error('提交表單時發生錯誤:', error);\r\n    } finally {\r\n        isSubmitting.value = false;\r\n    }\r\n}\r\n\r\n// 開啟業務別選擇Modal\r\nasync function openBusinessSelectModal() {\r\n    try {\r\n        // 載入業務別資料\r\n        const response = await API.BusinessManagementViewData('', 1, businessSelectModal.value.PageSize);\r\n\r\n        if (response.status && response.result?.items) {\r\n            businessSelectModal.value.DataList = response.result.items.map((item) => ({\r\n                name: item.business,\r\n                value: item.business\r\n            }));\r\n            businessSelectModal.value.TotalItems = response.result.totalCount;\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n            return;\r\n        }\r\n\r\n        businessSelectModal.value.ModalInstance.showModal = true;\r\n    } catch (error) {\r\n        ApiClient.HandleError(error);\r\n        console.error('載入業務別資料時發生錯誤:', error);\r\n    }\r\n}\r\n\r\n// 處理業務別分頁變化\r\nconst onBusinessPageChange = async (searchQuery: string, pageNumber: number, pageSize: number) => {\r\n    try {\r\n        const response = await API.BusinessManagementViewData(searchQuery, pageNumber, pageSize);\r\n\r\n        if (response.status && response.result?.items) {\r\n            businessSelectModal.value.DataList = response.result.items.map((item) => ({\r\n                name: item.business,\r\n                value: item.business\r\n            }));\r\n            businessSelectModal.value.TotalItems = response.result.totalCount;\r\n            businessSelectModal.value.PageSize = pageSize;\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    } catch (error) {\r\n        console.error('載入業務別資料時發生錯誤:', error);\r\n    }\r\n};\r\n\r\n// 處理業務別選擇\r\nfunction handleBusinessSelect(selectedBusiness: string) {\r\n    formData.business = selectedBusiness;\r\n    errors.business = ''; // 清除錯誤訊息\r\n    businessSelectModal.value.ModalInstance.showModal = false;\r\n}\r\n\r\n// 處理業務別選擇取消\r\nfunction handleBusinessSelectCancel() {\r\n    businessSelectModal.value.ModalInstance.showModal = false;\r\n}\r\n\r\n// 開啟權限白名單Modal\r\nfunction openPermissionWhiteListModal() {\r\n    if (formData.permission === '2' && formData.caseNo) {\r\n        showPermissionWhiteListModal.value = true;\r\n        permissionWhiteListModalRef.value?.openModal();\r\n    }\r\n}\r\n\r\n// 暴露方法給父元件\r\ndefineExpose({\r\n    openModal,\r\n    closeModal\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.modal {\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.modal-dialog {\r\n    background-color: transparent;\r\n}\r\n\r\n.static-backdrop-animation {\r\n    animation: staticBackdropAnimation 0.15s ease-in-out;\r\n}\r\n\r\n.modal-dialog-scrollable .modal-body {\r\n    max-height: calc(100vh - 200px);\r\n    overflow-y: auto;\r\n}\r\n\r\n@keyframes staticBackdropAnimation {\r\n    0% {\r\n        transform: scale(1);\r\n    }\r\n    50% {\r\n        transform: scale(1.02);\r\n    }\r\n    100% {\r\n        transform: scale(1);\r\n    }\r\n}\r\n\r\n.form-check {\r\n    padding-left: 1.5em;\r\n}\r\n\r\n.input-group .btn {\r\n    border-left: 0;\r\n}\r\n\r\n.input-group .form-control:focus + .btn {\r\n    border-color: #86b7fe;\r\n}\r\n</style>\r\n","<style scoped>\r\n.content {\r\n    margin-left: 250px;\r\n    transition: margin-left 0.3s;\r\n}\r\n.content.expanded {\r\n    margin-left: 0;\r\n}\r\n\r\n.fade-in {\r\n    opacity: 0;\r\n    transition: opacity 0.3s ease-in-out;\r\n}\r\n\r\n.fade-in.active {\r\n    opacity: 1;\r\n}\r\n</style>\r\n\r\n<template>\r\n    <div class=\"p-4 mt-5\">\r\n        <!-- top button  -->\r\n        <div\r\n            class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\"\r\n        >\r\n            <h1 class=\"h2\">{{ RouteUrlList.FileCaseManagement.label }}</h1>\r\n            <div class=\"btn-toolbar justify-content-end mb-3\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\r\n                <div class=\"btn-group me-2\" role=\"group\" aria-label=\"First group\">\r\n                    <!-- 新增搜尋輸入框 -->\r\n                    <div class=\"input-group ms-3\" style=\"max-width: 200px\">\r\n                        <input type=\"text\" class=\"form-control\" placeholder=\"搜尋文件類別\" v-model=\"searchQuery\" />\r\n                        <div\r\n                            class=\"btn-close position-absolute end-0 top-50 translate-middle cursor-pointer shadow-none\"\r\n                            @click=\"clearSearch\"\r\n                            aria-label=\"清除搜尋\"\r\n                        >\r\n                            <button class=\"btn btn-link p-0\" aria-label=\"Close\"></button>\r\n                        </div>\r\n                    </div>\r\n                    <button class=\"btn btn-sm btn-esun-outline ml-3\" @click.prevent=\"throttledHandleSearch\">\r\n                        搜尋\r\n                    </button>\r\n                    <button class=\"btn btn-esun-primary ml-3\" @click.prevent=\"openCreateModal\">新增文件類別</button>\r\n                </div>\r\n\r\n                <!-- 切換顯示模式 -->\r\n                <div class=\"btn-group\" role=\"group\">\r\n                    <button\r\n                        class=\"btn btn-esun-outline\"\r\n                        :class=\"{ active: FileCaseData.displayMode === 'card' }\"\r\n                        @click=\"FileCaseData.displayMode = 'card'\"\r\n                    >\r\n                        卡片模式\r\n                    </button>\r\n                    <button\r\n                        class=\"btn btn-esun-outline\"\r\n                        :class=\"{ active: FileCaseData.displayMode === 'table' }\"\r\n                        @click=\"FileCaseData.displayMode = 'table'\"\r\n                    >\r\n                        表格模式\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 顯示資料 -->\r\n        <Pagination\r\n            v-if=\"FileCaseData.totalItems\"\r\n            v-model:modelValue=\"FileCaseData.currentPage\"\r\n            v-model:pageSize=\"FileCaseData.pageSize\"\r\n            :total-items=\"FileCaseData.totalItems\"\r\n        />\r\n        <div\r\n            v-if=\"FileCaseData.displayMode === 'card'\"\r\n            class=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 active\"\r\n            :class=\"{ 'fade-in': FileCaseData.currentPage }\"\r\n            ref=\"dataContainer\"\r\n        >\r\n            <div class=\"col\" v-for=\"item in FileCaseData.items\" :key=\"item.caseNo\">\r\n                <div class=\"card card-esun h-100 esun-animate-in\">\r\n                    <div class=\"card-body\">\r\n                        <h5 class=\"card-title\">{{ item.business }}</h5>\r\n                        <p class=\"card-text\">\r\n                            <strong>文件類別序號:</strong> {{ item.caseNo }}<br />\r\n                            <strong>上傳系統代碼:</strong> {{ item.uploadSystemID || '-' }}<br />\r\n                            <strong>上傳員工代碼:</strong> {{ item.uploadEmployeeNo || '-' }}<br />\r\n                            <strong>權限:</strong> {{ permissionLabel(item.permission) }}<br />\r\n                            <strong>更新時間:</strong> {{ new Date(item.updateTime).toLocaleString() }}<br />\r\n                        </p>\r\n                        <!-- 操作選單 -->\r\n                        <div class=\"dropdown mt-3\">\r\n                            <button\r\n                                class=\"btn btn-esun-outline dropdown-toggle w-100\"\r\n                                type=\"button\"\r\n                                data-bs-toggle=\"dropdown\"\r\n                                aria-expanded=\"false\"\r\n                            >\r\n                                <i class=\"bi bi-gear me-1\"></i> 操作選單\r\n                            </button>\r\n                            <ul class=\"dropdown-menu w-100\">\r\n                                <li>\r\n                                    <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"handleEdit(item)\">\r\n                                        <i class=\"bi bi-pencil-square me-1 text-primary\"></i> 修改\r\n                                    </a>\r\n                                </li>\r\n                                <li>\r\n                                    <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"handleDelete(item)\">\r\n                                        <i class=\"bi bi-trash me-1 text-danger\"></i> 刪除\r\n                                    </a>\r\n                                </li>\r\n                                <li v-if=\"item.permission === 2\">\r\n                                    <a\r\n                                        class=\"dropdown-item\"\r\n                                        href=\"#\"\r\n                                        @click.prevent=\"showPermissionWhiteListModal(item.caseNo, item.business)\"\r\n                                    >\r\n                                        <i class=\"bi bi-shield-check me-1 text-info\"></i> 權限白名單管理\r\n                                    </a>\r\n                                </li>\r\n                                <li v-if=\"item.permission !== 2\">\r\n                                    <button class=\"dropdown-item\" disabled>\r\n                                        <i class=\"bi bi-shield-check me-1 text-info\"></i> 權限白名單管理\r\n                                    </button>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div\r\n            v-else\r\n            :class=\"{ 'fade-in': FileCaseData.currentPage }\"\r\n            ref=\"dataContainer\"\r\n            style=\"overflow: auto\"\r\n            class=\"active\"\r\n        >\r\n            <table class=\"table table-bordered table-hover align-middle\">\r\n                <thead class=\"table-light\">\r\n                    <tr>\r\n                        <th>文件類別序號</th>\r\n                        <th>業務別</th>\r\n                        <th>上傳系統代碼</th>\r\n                        <th>上傳員工代碼</th>\r\n                        <th>權限</th>\r\n                        <th>更新時間</th>\r\n                        <th>操作選單</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"item in FileCaseData.items\" :key=\"item.caseNo\">\r\n                        <td>{{ item.caseNo }}</td>\r\n                        <td>{{ item.business }}</td>\r\n                        <td>{{ item.uploadSystemID || '-' }}</td>\r\n                        <td>{{ item.uploadEmployeeNo || '-' }}</td>\r\n                        <td>{{ permissionLabel(item.permission) }}</td>\r\n                        <td>{{ new Date(item.updateTime).toLocaleString() }}</td>\r\n                        <td>\r\n                            <!-- 操作選單 -->\r\n                            <div class=\"dropdown\">\r\n                                <button\r\n                                    class=\"btn btn-esun-outline dropdown-toggle w-100\"\r\n                                    type=\"button\"\r\n                                    data-bs-toggle=\"dropdown\"\r\n                                    aria-expanded=\"false\"\r\n                                >\r\n                                    <i class=\"bi bi-gear me-1\"></i> 操作選單\r\n                                </button>\r\n                                <ul class=\"dropdown-menu w-100\">\r\n                                    <li>\r\n                                        <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"handleEdit(item)\">\r\n                                            <i class=\"bi bi-pencil-square me-1 text-primary\"></i> 修改\r\n                                        </a>\r\n                                    </li>\r\n                                    <li>\r\n                                        <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"handleDelete(item)\">\r\n                                            <i class=\"bi bi-trash me-1 text-danger\"></i> 刪除\r\n                                        </a>\r\n                                    </li>\r\n                                    <li v-if=\"item.permission === 2\">\r\n                                        <a\r\n                                            class=\"dropdown-item\"\r\n                                            href=\"#\"\r\n                                            @click.prevent=\"showPermissionWhiteListModal(item.caseNo, item.business)\"\r\n                                        >\r\n                                            <i class=\"bi bi-shield-check me-1 text-info\"></i> 權限白名單管理\r\n                                        </a>\r\n                                    </li>\r\n                                    <li v-if=\"item.permission !== 2\">\r\n                                        <button class=\"dropdown-item\" disabled>\r\n                                            <i class=\"bi bi-shield-check me-1 text-info\"></i> 權限白名單管理\r\n                                        </button>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <FileCaseUpdateModal\r\n            v-if=\"updateModal.showModal\"\r\n            ref=\"FileCaseUpdateModalRef\"\r\n            @submit=\"handleUpdateSubmit\"\r\n            @cancel=\"handleUpdateCancel\"\r\n        />\r\n\r\n        <Pagination\r\n            v-if=\"FileCaseData.totalItems\"\r\n            v-model:modelValue=\"FileCaseData.currentPage\"\r\n            v-model:pageSize=\"FileCaseData.pageSize\"\r\n            :total-items=\"FileCaseData.totalItems\"\r\n        />\r\n    </div>\r\n    <FileCasePermissionWhiteListModal\r\n        v-if=\"operateCaseNo\"\r\n        ref=\"FileCasePermissionWhiteListModalRef\"\r\n        :operateCaseNo=\"operateCaseNo\"\r\n    />\r\n    <FileCaseCreateModal ref=\"FileCaseCreateModalRef\" @submit=\"handleCreateSubmit\" />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted, watch, computed, reactive, nextTick } from 'vue';\r\ndefineProps<{ collapsed: boolean; paginationType?: 'client' | 'server' }>();\r\nimport Pagination from '@/components/pagination/Pagination.vue';\r\nimport * as Common from '@/libs/Common';\r\nimport type { FileCase } from '@/models/DTO/FileCase';\r\nimport * as ApiClient from '@/libs/ApiClient';\r\nimport API from '@/api/v1/';\r\nimport { type FileCaseFormData } from './FileCaseCreateModal.vue';\r\nimport type { FileCaseUpdateFormData } from './FileCaseUpdateModal.vue';\r\nimport FileCaseCreateModal from './FileCaseCreateModal.vue';\r\nimport FileCaseUpdateModal from './FileCaseUpdateModal.vue';\r\nimport { RouteUrlList } from '@/libs/RouteList';\r\nimport {\r\n    SimplePopUp,\r\n    SimplePopUpBtnType,\r\n    SimplePopUpModalType,\r\n    SimplePopUpSize,\r\n    type SimplePopupResolveResult\r\n} from '@/libs/SimplePopUp';\r\nimport FileCasePermissionWhiteListModal from './FileCasePermissionWhiteListModal.vue';\r\n\r\n// fileCases 資料（ API 傳入）\r\ninterface IFileCaseData {\r\n    items: FileCase[];\r\n    totalItems: number;\r\n    searchQuery: string;\r\n    currentPage: number;\r\n    pageSize: number;\r\n    // 顯示模式：卡片或表格\r\n    displayMode: 'card' | 'table';\r\n}\r\n\r\nconst FileCaseData = reactive<IFileCaseData>({\r\n    items: [],\r\n    totalItems: 0,\r\n    searchQuery: '',\r\n    currentPage: 1,\r\n    pageSize: 10,\r\n    displayMode: 'card'\r\n});\r\n\r\n// 建立 FileCase 相關\r\nconst FileCaseCreateModalRef = ref<InstanceType<typeof FileCaseCreateModal>>();\r\n\r\n// SimplePopUp 實例\r\nconst simplePopUp = new SimplePopUp();\r\n\r\n// 修改 FileCase 相關\r\nconst FileCaseUpdateModalRef = ref<InstanceType<typeof FileCaseUpdateModal> | null>(null);\r\nconst updateModal = reactive({ showModal: false });\r\n/**\r\n * @todo 載入資料\r\n */\r\nconst LoadViewData = async () => {\r\n    try {\r\n        const response = await API.FileCaseManagementViewData();\r\n\r\n        if (response.status && response.result?.items) {\r\n            FileCaseData.items = response.result.items;\r\n            FileCaseData.totalItems = response.result.totalItems || 0;\r\n        } else {\r\n            debugger;\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    } catch (error) {\r\n        ApiClient.HandleError(error);\r\n        console.error('Error fetching fileCases:', error);\r\n        // Handle error (e.g., show an error message)\r\n    } finally {\r\n    }\r\n};\r\n\r\nonMounted(async () => {\r\n    await LoadViewData();\r\n});\r\n\r\nwatch(\r\n    () => ({\r\n        currentPage: FileCaseData.currentPage,\r\n        pageSize: FileCaseData.pageSize\r\n    }),\r\n    (newVal, oldVal) => {\r\n        if (newVal.currentPage !== oldVal.currentPage || newVal.pageSize !== oldVal.pageSize) {\r\n            LoadViewData();\r\n        }\r\n    }\r\n);\r\n// 新增文件類別 Modal\r\nfunction openCreateModal() {\r\n    FileCaseCreateModalRef.value?.openModal();\r\n}\r\n\r\nasync function handleCreateSubmit(formData: FileCaseFormData) {\r\n    try {\r\n        const response = await API.FileCaseManagementCreate(formData);\r\n        if (response.status) {\r\n            simplePopUp\r\n                .showAlert(SimplePopUpModalType.Success, '成功', `文件類別 \"${formData.business}\" 已成功建立。`, [\r\n                    {\r\n                        id: 'ok',\r\n                        type: SimplePopUpBtnType.callback,\r\n                        btnClass: 'btn-success',\r\n                        resolveParam: 'ok',\r\n                        title: '確定'\r\n                    }\r\n                ])\r\n                .then(async () => {\r\n                    await LoadViewData();\r\n                });\r\n        } else {\r\n            ApiClient.HandleGeneralRespError(response);\r\n        }\r\n    } catch (error) {\r\n        ApiClient.HandleError(error);\r\n    }\r\n}\r\nconst searchQuery = ref('');\r\n\r\n// 搜尋文件類別資料\r\nconst handleSearch = () => {\r\n    if (!searchQuery.value) {\r\n        return;\r\n    }\r\n    LoadViewData();\r\n};\r\n// 使用節流函式包裝input事件處理器，提高效能\r\nconst throttledHandleSearch = Common.Throttle(handleSearch, 100);\r\n\r\nconst clearSearch = () => {\r\n    searchQuery.value = '';\r\n\r\n    LoadViewData();\r\n};\r\n\r\n// 編輯功能\r\nfunction handleEdit(item: FileCase) {\r\n    const updateFormData: FileCaseUpdateFormData = {\r\n        caseNo: item.caseNo,\r\n        business: item.business,\r\n        uploadSystemID: item.uploadSystemID,\r\n        uploadEmployeeNo: item.uploadEmployeeNo,\r\n        permission: String(item.permission)\r\n    };\r\n    updateModal.showModal = true;\r\n    nextTick(() => {\r\n        FileCaseUpdateModalRef.value?.openModal(updateFormData);\r\n    });\r\n}\r\n\r\n// 更新提交\r\nasync function handleUpdateSubmit(formData: FileCaseUpdateFormData) {\r\n    const fileCaseData: FileCase = {\r\n        caseNo: formData.caseNo,\r\n        business: formData.business,\r\n        uploadSystemID: formData.uploadSystemID,\r\n        uploadEmployeeNo: formData.uploadEmployeeNo,\r\n        permission: parseInt(formData.permission || '0'),\r\n        updateTime: new Date().toISOString()\r\n    };\r\n\r\n    let action: SimplePopupResolveResult<string> = await simplePopUp.showAlert(\r\n        SimplePopUpModalType.Warning,\r\n        '警告',\r\n        `確定要更新文件類別 \"${fileCaseData.business}\" 嗎？`,\r\n        [\r\n            {\r\n                id: 'cancel',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-esun-outline',\r\n                resolveParam: 'cancel',\r\n                title: '取消'\r\n            },\r\n            {\r\n                id: 'confirm',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-esun-primary',\r\n                resolveParam: 'confirm',\r\n                title: '確定'\r\n            }\r\n        ]\r\n    );\r\n\r\n    if (action.param === 'confirm') {\r\n        try {\r\n            const response = await API.FileCaseManagementUpdate(fileCaseData);\r\n            if (response.status) {\r\n                simplePopUp\r\n                    .showAlert(\r\n                        SimplePopUpModalType.Success,\r\n                        '成功',\r\n                        `文件類別 \"${fileCaseData.business}\" 已成功更新。`,\r\n                        [\r\n                            {\r\n                                id: 'ok',\r\n                                type: SimplePopUpBtnType.callback,\r\n                                btnClass: 'btn-success',\r\n                                resolveParam: 'ok',\r\n                                title: '確定'\r\n                            }\r\n                        ]\r\n                    )\r\n                    .then(async () => {\r\n                        await LoadViewData();\r\n                        updateModal.showModal = false;\r\n                    });\r\n            } else {\r\n                ApiClient.HandleGeneralRespError(response);\r\n            }\r\n        } catch (error) {\r\n            ApiClient.HandleError(error);\r\n        }\r\n    }\r\n}\r\n\r\n// 取消更新\r\nfunction handleUpdateCancel() {\r\n    updateModal.showModal = false;\r\n}\r\n\r\n// 刪除功能\r\nasync function handleDelete(item: FileCase) {\r\n    let action: SimplePopupResolveResult<string> = await simplePopUp.showAlert(\r\n        SimplePopUpModalType.Warning,\r\n        '警告',\r\n        `確定要刪除文件類別 \"${item.business}\" 嗎？此操作無法復原。`,\r\n        [\r\n            {\r\n                id: 'cancel',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-esun-outline',\r\n                resolveParam: 'cancel',\r\n                title: '取消'\r\n            },\r\n            {\r\n                id: 'confirm',\r\n                type: SimplePopUpBtnType.callback,\r\n                btnClass: 'btn-danger',\r\n                resolveParam: 'confirm',\r\n                title: '確定刪除'\r\n            }\r\n        ]\r\n    );\r\n\r\n    if (action.param === 'confirm') {\r\n        try {\r\n            const response = await API.FileCaseManagementDelete(item.caseNo);\r\n            if (response.status) {\r\n                simplePopUp\r\n                    .showAlert(SimplePopUpModalType.Success, '成功', `文件類別 \"${item.business}\" 已成功刪除。`, [\r\n                        {\r\n                            id: 'ok',\r\n                            type: SimplePopUpBtnType.callback,\r\n                            btnClass: 'btn-success',\r\n                            resolveParam: 'ok',\r\n                            title: '確定'\r\n                        }\r\n                    ])\r\n                    .then(async () => {\r\n                        await LoadViewData();\r\n                    });\r\n            } else {\r\n                ApiClient.HandleGeneralRespError(response);\r\n            }\r\n        } catch (error) {\r\n            ApiClient.HandleError(error);\r\n        }\r\n    }\r\n}\r\n\r\n// 權限顯示\r\nfunction permissionLabel(permission: any) {\r\n    switch (String(permission)) {\r\n        case '0':\r\n            return '不限制任何系統 (Public)';\r\n        case '1':\r\n            return '限制註冊系統 (Protect)';\r\n        case '2':\r\n            return '限制白名單系統 (ProtectInternal)';\r\n        case '3':\r\n            return '自己才可存取 (Private)';\r\n        default:\r\n            return '-';\r\n    }\r\n}\r\n\r\n// 權限白名單管理\r\nconst operateCaseNo = ref<string>('');\r\n// 引用權限白名單管理 Modal\r\nconst FileCasePermissionWhiteListModalRef = ref<InstanceType<typeof FileCasePermissionWhiteListModal>>();\r\n\r\n/**\r\n * 開啟權限白名單管理Modal\r\n */\r\nconst showPermissionWhiteListModal = (caseNo: string, business: string) => {\r\n    operateCaseNo.value = caseNo;\r\n    nextTick(() => {\r\n        FileCasePermissionWhiteListModalRef.value?.openModal();\r\n    });\r\n};\r\n</script>\r\n"],"names":["props","__props","emit","__emit","modalData","ref","formData","reactive","errors","isSubmitting","businessSelectModal","openModal","resetForm","closeModal","handleBackgroundClick","event","validateForm","isValid","handleSubmit","error","openBusinessSelectModal","response","API","_a","item","ApiClient.HandleGeneralRespError","onBusinessPageChange","searchQuery","pageNumber","pageSize","handleBusinessSelect","selectedBusiness","handleBusinessSelectCancel","__expose","_createElementBlock","_createElementVNode","_normalizeClass","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_cache","$event","_vModelText","_openBlock","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_vModelRadio","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_20","_createTextVNode","_createBlock","SelectListModal","AllowData","GetDefaultAllowData","watch","newVal","oldVal","LoadViewData","ApiClient.HandleError","simplePopUp","SimplePopUp","RemoveWhiteListBusiness","SimplePopUpModalType","SimplePopUpBtnType","AddWhiteListModal","GetDefaultModalData","initAddWhiteListModal","onPageChange","openAddWhiteListModal","resp","handleSelectWhiteListSubmit","action","handleSelectWhiteListCancel","_Fragment","index","Pagination","showPermissionWhiteListModal","permissionWhiteListModalRef","initialData","openPermissionWhiteListModal","_hoisted_19","_hoisted_21","FileCasePermissionWhiteListModal","FileCaseData","FileCaseCreateModalRef","FileCaseUpdateModalRef","updateModal","onMounted","openCreateModal","handleCreateSubmit","throttledHandleSearch","Common.Throttle","clearSearch","handleEdit","updateFormData","nextTick","handleUpdateSubmit","fileCaseData","handleUpdateCancel","handleDelete","permissionLabel","permission","operateCaseNo","FileCasePermissionWhiteListModalRef","caseNo","business","_hoisted_1","_unref","_withModifiers","args","_renderList","_hoisted_24","_hoisted_26","FileCaseUpdateModal","_createVNode","FileCaseCreateModal"],"mappings":"+iCA0KA,MAAMA,EAAQC,EAKRC,EAAOC,EAUPC,EAAYC,EAAe,CAC7B,cAAe,CACX,QAAS,sBACT,MAAO,SACP,UAAW,GACX,KAAM,WACN,eAAgB,GAChB,WAAY,GACZ,gBAAiB,EAAA,CACrB,CACH,EAGKC,EAAWC,EAA2B,CACxC,SAAU,GACV,eAAgB,KAChB,iBAAkB,KAClB,WAAY,IAAA,CACf,EAGKC,EAASD,EAAS,CACpB,SAAU,GACV,WAAY,EAAA,CACf,EAGKE,EAAeJ,EAAI,EAAK,EAaxBK,EAAsBL,EAA0B,CAClD,cAAe,CACX,QAAS,wBACT,MAAO,QACP,UAAW,GACX,KAAM,WACN,eAAgB,GAChB,WAAY,EAChB,EACA,eAAgB,SAChB,iBAAkB,KAClB,SAAU,CAAC,EACX,WAAY,EACZ,WAAY,EACZ,SAAU,EAAA,CACb,EAGD,SAASM,GAAY,CACPC,EAAA,EACAR,EAAA,MAAM,cAAc,UAAY,EAAA,CAI9C,SAASS,GAAa,CACRT,EAAA,MAAM,cAAc,UAAY,GAC1CF,EAAK,QAAQ,CAAA,CAIjB,SAASU,GAAY,CACjBN,EAAS,SAAW,GACpBA,EAAS,eAAiB,KAC1BA,EAAS,iBAAmB,KAC5BA,EAAS,WAAa,KAEtBE,EAAO,SAAW,GAClBA,EAAO,WAAa,GAEpBC,EAAa,MAAQ,EAAA,CAIzB,SAASK,EAAsBC,EAAmB,CAC1CA,EAAM,SAAWA,EAAM,gBACbX,EAAA,MAAM,cAAc,gBAAkB,GAChD,WAAW,IAAM,CACHA,EAAA,MAAM,cAAc,gBAAkB,IACjD,GAAG,EACV,CAIJ,SAASY,GAAwB,CAC7B,IAAIC,EAAU,GAGd,OAAAT,EAAO,SAAW,GAClBA,EAAO,WAAa,GAGfF,EAAS,SAAS,SACnBE,EAAO,SAAW,SACRS,EAAA,IAITX,EAAS,aACVE,EAAO,WAAa,YACVS,EAAA,IAGPA,CAAA,CAIX,eAAeC,GAAe,CACtB,GAACF,IAIL,CAAAP,EAAa,MAAQ,GAEjB,GAAA,CACIT,EAAM,UACA,MAAAA,EAAM,SAASM,CAAQ,EAEtBO,EAAA,QACNM,EAAO,CACJ,QAAA,MAAM,aAAcA,CAAK,CAAA,QACnC,CACEV,EAAa,MAAQ,EAAA,EACzB,CAIJ,eAAeW,GAA0B,OACjC,GAAA,CAEM,MAAAC,EAAW,MAAMC,EAAI,2BAA2B,GAAI,EAAGZ,EAAoB,MAAM,QAAQ,EAE/F,GAAIW,EAAS,UAAUE,EAAAF,EAAS,SAAT,MAAAE,EAAiB,OACpCb,EAAoB,MAAM,SAAWW,EAAS,OAAO,MAAM,IAAKG,IAAU,CACtE,KAAMA,EAAK,SACX,MAAOA,EAAK,QAAA,EACd,EACkBd,EAAA,MAAM,WAAaW,EAAS,OAAO,eACpD,CACHI,EAAiCJ,CAAQ,EACzC,MAAA,CAGgBX,EAAA,MAAM,cAAc,UAAY,SAC/CS,EAAO,CACJ,QAAA,MAAM,gBAAiBA,CAAK,CAAA,CACxC,CAIJ,MAAMO,EAAuB,MAAOC,EAAqBC,EAAoBC,IAAqB,OAC1F,GAAA,CACA,MAAMR,EAAW,MAAMC,EAAI,2BAA2BK,EAAaC,EAAYC,CAAQ,EAEnFR,EAAS,UAAUE,EAAAF,EAAS,SAAT,MAAAE,EAAiB,QACpCb,EAAoB,MAAM,SAAWW,EAAS,OAAO,MAAM,IAAKG,IAAU,CACtE,KAAMA,EAAK,SACX,MAAOA,EAAK,QAAA,EACd,EACkBd,EAAA,MAAM,WAAaW,EAAS,OAAO,WACvDX,EAAoB,MAAM,SAAWmB,GAErCJ,EAAiCJ,CAAQ,QAExCF,EAAO,CACJ,QAAA,MAAM,gBAAiBA,CAAK,CAAA,CAE5C,EAGA,SAASW,EAAqBC,EAA0B,CACpDzB,EAAS,SAAWyB,EACpBvB,EAAO,SAAW,GACEE,EAAA,MAAM,cAAc,UAAY,EAAA,CAIxD,SAASsB,GAA6B,CACdtB,EAAA,MAAM,cAAc,UAAY,EAAA,CAI3C,OAAAuB,EAAA,CACT,UAAAtB,EACA,WAAAE,CAAA,CACH,wBAzXaT,EAAS,MAAC,cAAc,eADlC8B,EAwIM,MAAA,OAtIF,SAAM,qBAAoB,CAAA,4BAKa9B,QAAU,cAAc,eAAe,CAAA,CAAA,EAJ9E,SAAS,KACR,kBAAiBA,EAAA,MAAU,cAAc,QACzC,cAAc,CAAAA,EAAA,MAAU,cAAc,UACtC,QAAOU,CAAA,GAGRqB,EA8HM,MAAA,CA7HF,MAAMC,EAAA,CAAA,eACG,CAAAhC,EAAA,MAAU,cAAc,KAAMA,EAAA,MAAU,cAAc,WAAU,0BAAA,EAAA,CAAA,CAAA,CAAA,GAEzE+B,EAyHM,MAzHNE,GAyHM,CAxHFF,EAGM,MAHNG,GAGM,CAFFH,EAAgE,KAAhEI,GAAgEC,EAArCpC,QAAU,cAAc,KAAK,EAAA,CAAA,EACxD+B,EAAqE,SAAA,CAA7D,KAAK,SAAS,MAAM,YAAa,QAAOtB,MAEpDsB,EA4GM,MA5GNM,GA4GM,CA3GFN,EA0GO,OAAA,CA1GA,WAAgBjB,EAAY,CAAA,SAAA,CAAA,CAAA,GAE/BiB,EAmBM,MAnBNO,GAmBM,aAlBFP,EAAyF,QAAA,CAAlF,IAAI,WAAW,MAAM,YAAA,KAAa,OAAK,EAAAA,EAAkC,OAA5B,CAAA,MAAM,eAAc,GAAC,QACzEA,EAaM,MAbNQ,GAaM,GAZFR,EAQE,QAAA,CAPE,GAAG,WACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,SAAQuC,GAC1B,KAAK,OACL,MAAM,eACN,YAAY,SACZ,SAAA,GACA,SAAA,EAAA,aALS,CAAAC,EAAAxC,EAAS,QAAQ,CAAA,GAO9B6B,EAES,SAAA,CAFD,KAAK,SAAS,MAAM,uBAAwB,QAAOf,CAAA,EAAyB,MAEpF,CAAA,GAEOZ,EAAO,UAAlBuC,EAAA,EAAAb,EAEM,MAFNc,GACOR,EAAAhC,EAAO,QAAQ,EAAA,CAAA,cAK1B2B,EAWM,MAXNc,GAWM,aAVFd,EAA6D,QAAA,CAAtD,IAAI,iBAAiB,MAAM,YAAA,EAAa,SAAM,EAAA,KACrDA,EAQE,QAAA,CAPE,GAAG,iBACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,eAAcuC,GAChC,KAAK,OACL,MAAM,eACN,YAAY,2BACZ,UAAU,KACV,SAAA,EAAA,aALS,CAAAC,EAAAxC,EAAS,cAAc,MAUxC6B,EAWM,MAXNe,GAWM,aAVFf,EAA+D,QAAA,CAAxD,IAAI,mBAAmB,MAAM,YAAA,EAAa,SAAM,EAAA,KACvDA,EAQE,QAAA,CAPE,GAAG,mBACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,iBAAgBuC,GAClC,KAAK,OACL,MAAM,eACN,YAAY,8BACZ,UAAU,KACV,SAAA,EAAA,aALS,CAAAC,EAAAxC,EAAS,gBAAgB,MAU1C6B,EAqDM,MArDNgB,GAqDM,eApDFhB,EAA6E,QAAA,CAAtE,MAAM,cAAY,GAAC,UAAQ,EAAAA,EAAkC,OAA5B,CAAA,MAAM,eAAc,GAAC,QAC7DA,EA+CM,MA/CNiB,GA+CM,CA9CFjB,EAUM,MAVNkB,GAUM,GATFlB,EAOE,QAAA,CANE,GAAG,cACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,WAAUuC,GAC5B,MAAM,mBACN,KAAK,QACL,MAAM,IACN,SAAA,EAAA,aAJS,CAAAS,EAAAhD,EAAS,UAAU,CAAA,iBAMhC6B,EAA4E,QAAA,CAArE,MAAM,mBAAmB,IAAI,aAAA,EAAc,qBAAkB,EAAA,EAAA,GAExEA,EAUM,MAVNoB,GAUM,GATFpB,EAOE,QAAA,CANE,GAAG,cACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,WAAUuC,GAC5B,MAAM,mBACN,KAAK,QACL,MAAM,IACN,SAAA,EAAA,aAJS,CAAAS,EAAAhD,EAAS,UAAU,CAAA,iBAMhC6B,EAA4E,QAAA,CAArE,MAAM,mBAAmB,IAAI,aAAA,EAAc,qBAAkB,EAAA,EAAA,GAExEA,EAYM,MAZNqB,GAYM,GAXFrB,EAOE,QAAA,CANE,GAAG,cACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,WAAUuC,GAC5B,MAAM,mBACN,KAAK,QACL,MAAM,IACN,SAAA,EAAA,aAJS,CAAAS,EAAAhD,EAAS,UAAU,CAAA,iBAMhC6B,EAEQ,QAAA,CAFD,MAAM,mBAAmB,IAAI,aAAA,EAAc,8BAElD,EAAA,EAAA,GAEJA,EAUM,MAVNsB,GAUM,GATFtB,EAOE,QAAA,CANE,GAAG,cACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,WAAUuC,GAC5B,MAAM,mBACN,KAAK,QACL,MAAM,IACN,SAAA,EAAA,aAJS,CAAAS,EAAAhD,EAAS,UAAU,CAAA,iBAMhC6B,EAA4E,QAAA,CAArE,MAAM,mBAAmB,IAAI,aAAA,EAAc,qBAAkB,EAAA,OAGjE3B,EAAO,YAAlBuC,EAAA,EAAAb,EAEM,MAFNwB,GACOlB,EAAAhC,EAAO,UAAU,EAAA,CAAA,qBAKpC2B,EAMM,MANNwB,GAMM,CALFxB,EAAkF,SAAA,CAA1E,KAAK,SAAS,MAAM,uBAAwB,QAAOtB,GAAY,IAAE,EACzEsB,EAGS,SAAA,CAHD,KAAK,SAAS,MAAM,uBAAwB,QAAOjB,EAAe,SAAUT,EAAY,KAAA,GAChFA,EAAY,OAAxBsC,EAAA,EAAAb,EAA+E,OAA/E0B,EAA+E,YAAAC,EAAA,MAC5EpD,EAAY,MAAA,SAAA,IAAA,EAAA,CAAA,mCASzBC,EAAmB,MAAC,cAAc,eAD5CoD,EAUEC,EAAA,OARG,QAASrD,EAAmB,MAAC,cAC7B,eAAgBA,EAAmB,MAAC,eACpC,iBAAkB,CAAE,EACpB,aAAcA,EAAmB,MAAC,SAClC,WAAYA,EAAmB,MAAC,WAChC,SAAUoB,EACV,SAAUE,EACV,aAAcN,sxBCpBvB,MAAM1B,EAAQC,EAwBR+D,EAAY3D,EAAe4D,GAAqB,EAEtD,SAASA,GAAiC,CAC/B,MAAA,CACH,cAAe,CACX,QAAS,mCACT,MAAO,QAAQ,OAAAjE,EAAM,cAAa,YAClC,UAAW,GACX,KAAM,WACN,eAAgB,GAChB,gBAAiB,EACrB,EACA,eAAgB,SAChB,YAAa,QACb,SAAU,CAAC,EACX,WAAY,EACZ,YAAa,EACb,SAAU,EACd,CAAA,CAGJkE,EACI,KAAO,CACH,YAAaF,EAAU,MAAM,YAC7B,SAAUA,EAAU,MAAM,QAAA,GAE9B,CAACG,EAAQC,IAAW,CAChB,GAAID,EAAO,cAAgBC,EAAO,aAAeD,EAAO,WAAaC,EAAO,SAAU,CAClF,SACaC,EAAA,CAAA,CACjB,CAER,EAGAH,EACI,IAAMlE,EAAM,cACZ,CAACmE,EAAQC,IAAW,CACZD,IAAWC,IACXJ,EAAU,MAAQC,EAAoB,EACzBI,EAAA,EACjB,CAER,EAKA,eAAe1D,GAAY,CACvBqD,EAAU,MAAQC,EAAoB,EACtC,MAAMI,EAAa,EACTL,EAAA,MAAM,cAAc,UAAY,EAAA,CAM9C,SAASnD,GAAa,CACRmD,EAAA,MAAM,cAAc,UAAY,EAAA,CAM9C,SAASlD,EAAsBC,EAAmB,CAC1CA,EAAM,SAAWA,EAAM,gBACbiD,EAAA,MAAM,cAAc,gBAAkB,GAChD,WAAW,IAAM,CACHA,EAAA,MAAM,cAAc,gBAAkB,IACjD,GAAG,EACV,CAMJ,MAAMK,EAAe,SAAY,CACzB,GAAA,CACA,MAAMhD,EAAW,MAAMC,EAAI,oCAAoCtB,EAAM,aAAa,EAE9EqB,EAAS,QACC2C,EAAA,MAAM,SAAW3C,EAAS,OAAO,MACjC2C,EAAA,MAAM,WAAa3C,EAAS,OAAO,YAE7CI,EAAiCJ,CAAQ,QAExCF,EAAO,CACZmD,EAAsBnD,CAAK,EACnB,QAAA,MAAM,iDAAkDA,CAAK,CAAA,CAE7E,EAUMoD,EAAc,IAAIC,GAKxB,eAAeC,EAAwBjD,EAAmC,CAuBlE,IAtB2C,MAAM+C,EAAY,UAC7DG,EAAqB,QACrB,KACA,eAAe,OAAAlD,EAAK,SAAQ,OAC5B,CACI,CACI,GAAI,SACJ,KAAMmD,EAAmB,SACzB,SAAU,mBACV,aAAc,SACd,MAAO,IACX,EACA,CACI,GAAI,UACJ,KAAMA,EAAmB,SACzB,SAAU,WACV,aAAc,UACd,MAAO,IAAA,CACX,CAER,GAEW,QAAU,UAAW,CAC5B,MAAMtD,EAAW,MAAMC,EAAI,kCAAkCtB,EAAM,cAAewB,EAAK,QAAQ,EAC3FH,EAAS,OACT,MAAMgD,EAAa,EAEnB5C,EAAiCJ,CAAQ,CAC7C,CACJ,CAkBE,MAAAuD,EAAoBvE,EAAsBwE,GAAqB,EAErE,SAASA,GAAwC,CACtC,MAAA,CACH,cAAe,CACX,QAAS,kCACT,MAAO,WACP,UAAW,GACX,KAAM,WACN,eAAgB,GAChB,WAAY,EAChB,EACA,eAAgB,SAChB,SAAU,CAAC,EACX,WAAY,EACZ,SAAU,EACd,CAAA,CAGJ,SAASC,GAAwB,CAC7BF,EAAkB,MAAQC,EAAoB,CAAA,CAGlD,MAAME,EAAe,MAAOpD,EAAqBC,EAAoBC,IAAqB,OAClF,GAAA,CAEA,MAAMR,EAAW,MAAMC,EAAI,2BAA2BK,EAAaC,EAAYC,CAAQ,EAEnFR,EAAS,UAAUE,EAAAF,EAAS,SAAT,MAAAE,EAAiB,QACpCqD,EAAkB,MAAM,SAAWvD,EAAS,OAAO,MAAM,IAAKG,IAAU,CACpE,KAAMA,EAAK,SACX,MAAOA,EAAK,QAAA,EACd,EACgBoD,EAAA,MAAM,WAAavD,EAAS,OAAO,WACrDuD,EAAkB,MAAM,SAAW/C,GAEnCJ,EAAiCJ,CAAQ,QAExCF,EAAO,CACJ,QAAA,MAAM,2BAA4BA,CAAK,CAAA,CAGvD,EAGA,eAAe6D,GAAwB,CAIbF,EAAA,EAEhB,MAAAG,EAAO,MAAM3D,EAAI,2BAA2B,GAAI,EAAGsD,EAAkB,MAAM,QAAQ,EAIzFA,EAAkB,MAAM,SAAWK,EAAK,OAAO,MAAM,IAAKzD,IAAU,CAChE,KAAMA,EAAK,SACX,MAAOA,EAAK,QAAA,EACd,EACgBoD,EAAA,MAAM,WAAaK,EAAK,OAAO,WACjDL,EAAkB,MAAM,SAAW,EACjBA,EAAA,MAAM,cAAc,UAAY,EAAA,CAItD,eAAeM,EAA4BnD,EAA0B,CAC7D,IAAAoD,EAA2C,MAAMZ,EAAY,UAC7DG,EAAqB,QACrB,KACA,QAAQ,OAAA3C,EAAgB,aAAY,OAAA/B,EAAM,cAAa,cACvD,CACI,CACI,GAAI,SACJ,KAAM2E,EAAmB,SACzB,SAAU,mBACV,aAAc,SACd,MAAO,IACX,EACA,CACI,GAAI,UACJ,KAAMA,EAAmB,SACzB,SAAU,WACV,aAAc,UACd,MAAO,IAAA,CACX,CAER,EAEI,GAAA,CACI,GAAAQ,EAAO,QAAU,UAAW,CAC5B,MAAM9D,EAAW,MAAMC,EAAI,+BAA+BtB,EAAM,cAAe+B,CAAgB,EAC3FV,EAAS,QACT,MAAMgD,EAAa,EACDO,EAAA,MAAM,cAAc,UAAY,IAElDnD,EAAiCJ,CAAQ,CAC7C,QAECF,EAAO,CACJ,QAAA,MAAM,6BAA8BA,CAAK,CAAA,CACrD,CAIJ,SAASiE,GAA8B,CACjBR,EAAA,MAAM,cAAc,UAAY,EAAA,CAIzC,OAAA3C,EAAA,CAAE,UAAAtB,EAAW,wBA7ZZqD,EAAS,MAAC,cAAc,eADlC9B,EA+GM,MAAA,OA7GF,SAAM,qBAAoB,CAAA,4BAKa8B,QAAU,cAAc,eAAe,CAAA,CAAA,EAJ9E,SAAS,KACR,kBAAiBA,EAAA,MAAU,cAAc,QACzC,cAAc,CAAAA,EAAA,MAAU,cAAc,UACtC,QAAOlD,CAAA,GAGRqB,EAqGM,MAAA,CApGF,MAAMC,EAAA,CAAA,eACG,CAAA4B,EAAA,MAAU,cAAc,KAAMA,EAAA,MAAU,cAAc,WAAU,0BAAA,EAAA,CAAA,CAAA,CAAA,GAEzE7B,EAgGM,MAhGNE,GAgGM,CA/FFF,EAGM,MAHNG,GAGM,CAFFH,EAAgE,KAAhEI,GAAgEC,EAArCwB,QAAU,cAAc,KAAK,EAAA,CAAA,EACxD7B,EAAqE,SAAA,CAA7D,KAAK,SAAS,MAAM,YAAa,QAAOtB,MAEpDsB,EAuFM,MAvFNM,GAuFM,CAtFFN,EAqBM,MArBNO,GAqBM,CApBFP,EAOS,SAAA,CANL,KAAK,SACL,MAAMC,EAAA,CAAA,uBACY,CAAA,OAAA4B,EAAA,MAAU,cAAW,MAAA,CAAA,CAAA,EACtC,QAAKpB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAEmB,EAAS,MAAC,YAAW,OAAA,EAChC,SAED,CAAA,EACA7B,EAOS,SAAA,CANL,KAAK,SACL,MAAMC,EAAA,CAAA,uBACY,CAAA,OAAA4B,EAAA,MAAU,cAAW,OAAA,CAAA,CAAA,EACtC,QAAKpB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAEmB,EAAS,MAAC,YAAW,QAAA,EAChC,SAED,CAAA,EAEA7B,EAES,SAAA,CAFD,KAAK,SAAS,MAAM,uBAAwB,QAAO6C,CAAA,EAAuB,YAElF,CAAA,GAEOhB,EAAS,MAAC,SAAS,SAAM,OAApC9B,EAA2E,MAA3ES,GAA+D,QAAM,YAG3DqB,EAAA,MAAU,cAAW,QAD/BjB,IAAAb,EA6BM,MA7BNc,GA6BM,EAxBFD,EAAA,EAAA,EAAAb,EAuBMmD,SAtBsBrB,EAAS,MAAC,SAA1B,CAAAxC,EAAM8D,SADlBpD,EAuBM,MAAA,CArBD,IAAKoD,EACN,MAAM,MACN,MAAA,CAA+D,KAAA,QAAA,YAAA,MAAA,YAAA,MAAA,MAAA,KAAA,CAAA,GAE/DnD,EAgBM,MAhBNc,GAgBM,CAfFd,EAcM,MAdNe,GAcM,CAVFf,EAEM,MAAA,CAFD,MAAM,qBAAsB,MAAOX,EAAK,SAAU,MAAA,CAAmB,MAAA,MAAA,GACnEgB,EAAAhB,EAAK,QAAQ,EAAA,EAAA2B,EAAA,EAEpBhB,EAMS,SAAA,CALL,KAAK,SACL,MAAM,uCACL,QAAKU,GAAE4B,EAAwBjD,CAAI,CAAA,EACvC,OAED,EAAA4B,EAAA,4BAMLY,EAAA,MAAU,cAAW,SAAhCjB,IAAAb,EAuBM,MAvBNmB,GAuBM,CAtBFlB,EAqBQ,QArBRoB,GAqBQ,aApBJpB,EAKQ,QAAA,KAAA,CAJJA,EAGK,KAAA,KAAA,CAFDA,EAAY,UAAR,KAAG,EACPA,EAAW,UAAP,IAAE,UAGdA,EAaQ,QAAA,KAAA,EAZJY,EAAA,EAAA,EAAAb,EAWKmD,SAXuBrB,EAAS,MAAC,SAA1B,CAAAxC,EAAM8D,OAAlB,EAAApD,EAWK,KAAA,CAX4C,IAAKoD,GAAK,CACvDnD,EAA4B,KAAA,KAAAK,EAArBhB,EAAK,QAAQ,EAAA,CAAA,EACpBW,EAQK,KAAA,KAAA,CAPDA,EAMS,SAAA,CALL,KAAK,SACL,MAAM,wBACL,QAAKU,GAAE4B,EAAwBjD,CAAI,CAAA,EACvC,OAED,EAAAgC,EAAA,8BAQVQ,EAAS,MAAC,SAAS,OAAM,OADnCF,EAKEyB,EAAA,OAHU,WAAYvB,EAAS,MAAC,YAAV,sBAAApB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAmB,EAAA,MAAU,YAAWnB,GACjC,SAAUmB,EAAS,MAAC,SAAV,oBAAApB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAmB,EAAA,MAAU,SAAQnB,GACnC,cAAamB,EAAS,MAAC,UAAA,8DAGhC7B,EAEM,MAFNsB,GAEM,CADFtB,EAA4E,SAAA,CAApE,MAAM,uBAAwB,UAAetB,EAAU,CAAA,SAAA,CAAA,CAAA,EAAE,IAAE,4BAMzE+D,EAAiB,MAAC,cAAc,eAD1Cd,EAUEC,EAAA,OARG,QAASa,EAAiB,MAAC,cAC3B,eAAgBA,EAAiB,MAAC,eAClC,iBAAkB,CAAE,EACpB,aAAcA,EAAiB,MAAC,SAChC,WAAYA,EAAiB,MAAC,WAC9B,SAAUM,EACV,SAAUE,EACV,aAAAL,0zBCkFT,MAAM/E,EAAQC,EAKRC,EAAOC,EAUPC,EAAYC,EAAe,CAC7B,cAAe,CACX,QAAS,sBACT,MAAO,SACP,UAAW,GACX,KAAM,WACN,eAAgB,GAChB,WAAY,GACZ,gBAAiB,EAAA,CACrB,CACH,EAGKC,EAAWC,EAAiC,CAC9C,OAAQ,GACR,SAAU,GACV,eAAgB,KAChB,iBAAkB,KAClB,WAAY,IAAA,CACf,EAGKC,EAASD,EAAS,CACpB,SAAU,GACV,WAAY,EAAA,CACf,EAGKE,EAAeJ,EAAI,EAAK,EAaxBK,EAAsBL,EAA0B,CAClD,cAAe,CACX,QAAS,wBACT,MAAO,QACP,UAAW,GACX,KAAM,WACN,eAAgB,GAChB,WAAY,EAChB,EACA,eAAgB,SAChB,iBAAkB,KAClB,SAAU,CAAC,EACX,WAAY,EACZ,WAAY,EACZ,SAAU,EAAA,CACb,EAGKmF,EAA+BnF,EAAI,EAAK,EACxCoF,EAA8BpF,EAAI,EAGxC6D,EACI,IAAM5D,EAAS,WACd6D,GAAW,CACJA,IAAW,KAAOqB,EAA6B,QAC/CA,EAA6B,MAAQ,GACzC,CAER,EAGA,SAAS7E,EAAU+E,EAA+C,CACpD9E,EAAA,EACN8E,GACO,OAAA,OAAOpF,EAAUoF,CAAW,EAE7BtF,EAAA,MAAM,cAAc,UAAY,EAAA,CAI9C,SAASS,GAAa,CACRT,EAAA,MAAM,cAAc,UAAY,GAC1CoF,EAA6B,MAAQ,GACrCtF,EAAK,QAAQ,CAAA,CAIjB,SAASU,GAAY,CACjBN,EAAS,OAAS,GAClBA,EAAS,SAAW,GACpBA,EAAS,eAAiB,KAC1BA,EAAS,iBAAmB,KAC5BA,EAAS,WAAa,KAEtBE,EAAO,SAAW,GAClBA,EAAO,WAAa,GAEpBC,EAAa,MAAQ,EAAA,CAIzB,SAASK,EAAsBC,EAAmB,CAC1CA,EAAM,SAAWA,EAAM,gBACbX,EAAA,MAAM,cAAc,gBAAkB,GAChD,WAAW,IAAM,CACHA,EAAA,MAAM,cAAc,gBAAkB,IACjD,GAAG,EACV,CAIJ,SAASY,GAAwB,CAC7B,IAAIC,EAAU,GAGd,OAAAT,EAAO,SAAW,GAClBA,EAAO,WAAa,GAGfF,EAAS,SAAS,SACnBE,EAAO,SAAW,SACRS,EAAA,IAITX,EAAS,aACVE,EAAO,WAAa,YACVS,EAAA,IAGPA,CAAA,CAIX,eAAeC,GAAe,CACtB,GAACF,IAIL,CAAAP,EAAa,MAAQ,GAEjB,GAAA,CACIT,EAAM,SACA,MAAAA,EAAM,SAASM,CAAQ,EAE7BJ,EAAK,SAAUI,CAAQ,EAEhBO,EAAA,QACNM,EAAO,CACJ,QAAA,MAAM,aAAcA,CAAK,CAAA,QACnC,CACEV,EAAa,MAAQ,EAAA,EACzB,CAIJ,eAAeW,GAA0B,OACjC,GAAA,CAEM,MAAAC,EAAW,MAAMC,EAAI,2BAA2B,GAAI,EAAGZ,EAAoB,MAAM,QAAQ,EAE/F,GAAIW,EAAS,UAAUE,EAAAF,EAAS,SAAT,MAAAE,EAAiB,OACpCb,EAAoB,MAAM,SAAWW,EAAS,OAAO,MAAM,IAAKG,IAAU,CACtE,KAAMA,EAAK,SACX,MAAOA,EAAK,QAAA,EACd,EACkBd,EAAA,MAAM,WAAaW,EAAS,OAAO,eACpD,CACHI,EAAiCJ,CAAQ,EACzC,MAAA,CAGgBX,EAAA,MAAM,cAAc,UAAY,SAC/CS,EAAO,CACZmD,EAAsBnD,CAAK,EACnB,QAAA,MAAM,gBAAiBA,CAAK,CAAA,CACxC,CAIJ,MAAMO,EAAuB,MAAOC,EAAqBC,EAAoBC,IAAqB,QAC1F,GAAA,CACA,MAAMR,EAAW,MAAMC,EAAI,2BAA2BK,EAAaC,EAAYC,CAAQ,EAEnFR,EAAS,UAAUE,GAAAF,EAAS,SAAT,MAAAE,GAAiB,QACpCb,EAAoB,MAAM,SAAWW,EAAS,OAAO,MAAM,IAAKG,KAAU,CACtE,KAAMA,GAAK,SACX,MAAOA,GAAK,QAAA,EACd,EACkBd,EAAA,MAAM,WAAaW,EAAS,OAAO,WACvDX,EAAoB,MAAM,SAAWmB,GAErCJ,EAAiCJ,CAAQ,QAExCF,EAAO,CACJ,QAAA,MAAM,gBAAiBA,CAAK,CAAA,CAE5C,EAGA,SAASW,EAAqBC,EAA0B,CACpDzB,EAAS,SAAWyB,EACpBvB,EAAO,SAAW,GACEE,EAAA,MAAM,cAAc,UAAY,EAAA,CAIxD,SAASsB,GAA6B,CACdtB,EAAA,MAAM,cAAc,UAAY,EAAA,CAIxD,SAASiF,GAA+B,OAChCrF,EAAS,aAAe,KAAOA,EAAS,SACxCkF,EAA6B,MAAQ,IACrCjE,EAAAkE,EAA4B,QAA5B,MAAAlE,EAAmC,YACvC,CAIS,OAAAU,EAAA,CACT,UAAAtB,EACA,WAAAE,CAAA,CACH,wBA1baT,EAAS,MAAC,cAAc,eADlC8B,EAiKM,MAAA,OA/JF,SAAM,qBAAoB,CAAA,4BAKa9B,QAAU,cAAc,eAAe,CAAA,CAAA,EAJ9E,SAAS,KACR,kBAAiBA,EAAA,MAAU,cAAc,QACzC,cAAc,CAAAA,EAAA,MAAU,cAAc,UACtC,QAAOU,CAAA,GAGRqB,EAuJM,MAAA,CAtJF,MAAMC,EAAA,CAAA,eACG,CAAAhC,EAAA,MAAU,cAAc,KAAMA,EAAA,MAAU,cAAc,WAAU,0BAAA,EAAA,CAAA,CAAA,CAAA,GAEzE+B,EAkJM,MAlJNE,GAkJM,CAjJFF,EAGM,MAHNG,GAGM,CAFFH,EAAgE,KAAhEI,GAAgEC,EAArCpC,QAAU,cAAc,KAAK,EAAA,CAAA,EACxD+B,EAAqE,SAAA,CAA7D,KAAK,SAAS,MAAM,YAAa,QAAOtB,MAEpDsB,EAqIM,MArINM,GAqIM,CApIFN,EAmIO,OAAA,CAnIA,WAAgBjB,EAAY,CAAA,SAAA,CAAA,CAAA,GAE/BiB,EAcM,MAdNO,GAcM,aAbFP,EAEQ,QAAA,CAFD,IAAI,SAAS,MAAM,YAAA,KAAa,iBACrB,EAAAA,EAAkC,OAA5B,CAAA,MAAM,eAAc,GAAC,UAE7CA,EASE,QAAA,CARE,GAAG,SACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,OAAMuC,GACxB,KAAK,OACL,MAAM,eACN,YAAY,YACZ,UAAU,KACV,SAAA,GACA,SAAA,EAAA,aANS,CAAAC,EAAAxC,EAAS,MAAM,MAWhC6B,EA2BM,MA3BNQ,GA2BM,aA1BFR,EAAyF,QAAA,CAAlF,IAAI,WAAW,MAAM,YAAA,KAAa,OAAK,EAAAA,EAAkC,OAA5B,CAAA,MAAM,eAAc,GAAC,QACzEA,EAqBM,MArBNa,GAqBM,GApBFb,EAQE,QAAA,CAPE,GAAG,WACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,SAAQuC,GAC1B,KAAK,OACL,MAAM,eACN,YAAY,SACZ,SAAA,GACA,SAAA,EAAA,aALS,CAAAC,EAAAxC,EAAS,QAAQ,CAAA,GAO9B6B,EAES,SAAA,CAFD,KAAK,SAAS,MAAM,uBAAwB,QAAOf,GAAyB,MAEpF,EAEUd,EAAS,aAAU,SAD7B4B,EAOS,SAAA,OALL,KAAK,SACL,MAAM,uBACL,QAAOyD,CACX,EAAA,SAED,cAEOnF,EAAO,UAAlBuC,EAAA,EAAAb,EAEM,MAFNe,GACOT,EAAAhC,EAAO,QAAQ,EAAA,CAAA,cAK1B2B,EAWM,MAXNe,GAWM,eAVFf,EAA6D,QAAA,CAAtD,IAAI,iBAAiB,MAAM,YAAA,EAAa,SAAM,EAAA,KACrDA,EAQE,QAAA,CAPE,GAAG,iBACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,eAAcuC,GAChC,KAAK,OACL,MAAM,eACN,YAAY,2BACZ,UAAU,KACV,SAAA,EAAA,aALS,CAAAC,EAAAxC,EAAS,cAAc,MAUxC6B,EAWM,MAXNgB,GAWM,eAVFhB,EAA+D,QAAA,CAAxD,IAAI,mBAAmB,MAAM,YAAA,EAAa,SAAM,EAAA,KACvDA,EAQE,QAAA,CAPE,GAAG,mBACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,iBAAgBuC,GAClC,KAAK,OACL,MAAM,eACN,YAAY,8BACZ,UAAU,KACV,SAAA,EAAA,aALS,CAAAC,EAAAxC,EAAS,gBAAgB,MAU1C6B,EAqDM,MArDNiB,GAqDM,eApDFjB,EAA6E,QAAA,CAAtE,MAAM,cAAY,GAAC,UAAQ,EAAAA,EAAkC,OAA5B,CAAA,MAAM,eAAc,GAAC,QAC7DA,EA+CM,MA/CNkB,GA+CM,CA9CFlB,EAUM,MAVNoB,GAUM,GATFpB,EAOE,QAAA,CANE,GAAG,cACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,WAAUuC,GAC5B,MAAM,mBACN,KAAK,QACL,MAAM,IACN,SAAA,EAAA,aAJS,CAAAS,EAAAhD,EAAS,UAAU,CAAA,iBAMhC6B,EAA4E,QAAA,CAArE,MAAM,mBAAmB,IAAI,aAAA,EAAc,qBAAkB,EAAA,EAAA,GAExEA,EAUM,MAVNqB,GAUM,GATFrB,EAOE,QAAA,CANE,GAAG,cACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,WAAUuC,GAC5B,MAAM,mBACN,KAAK,QACL,MAAM,IACN,SAAA,EAAA,aAJS,CAAAS,EAAAhD,EAAS,UAAU,CAAA,iBAMhC6B,EAA4E,QAAA,CAArE,MAAM,mBAAmB,IAAI,aAAA,EAAc,qBAAkB,EAAA,EAAA,GAExEA,EAYM,MAZNsB,GAYM,GAXFtB,EAOE,QAAA,CANE,GAAG,cACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,WAAUuC,GAC5B,MAAM,mBACN,KAAK,QACL,MAAM,IACN,SAAA,EAAA,aAJS,CAAAS,EAAAhD,EAAS,UAAU,CAAA,iBAMhC6B,EAEQ,QAAA,CAFD,MAAM,mBAAmB,IAAI,aAAA,EAAc,8BAElD,EAAA,EAAA,GAEJA,EAUM,MAVNuB,GAUM,GATFvB,EAOE,QAAA,CANE,GAAG,cACM,sBAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAvC,EAAS,WAAUuC,GAC5B,MAAM,mBACN,KAAK,QACL,MAAM,IACN,SAAA,EAAA,aAJS,CAAAS,EAAAhD,EAAS,UAAU,CAAA,iBAMhC6B,EAA4E,QAAA,CAArE,MAAM,mBAAmB,IAAI,aAAA,EAAc,qBAAkB,EAAA,OAGjE3B,EAAO,YAAlBuC,EAAA,EAAAb,EAEM,MAFNyB,GACOnB,EAAAhC,EAAO,UAAU,EAAA,CAAA,qBAKpC2B,EAMM,MANNyD,GAMM,CALFzD,EAAkF,SAAA,CAA1E,KAAK,SAAS,MAAM,uBAAwB,QAAOtB,GAAY,IAAE,EACzEsB,EAGS,SAAA,CAHD,KAAK,SAAS,MAAM,uBAAwB,QAAOjB,EAAe,SAAUT,EAAY,KAAA,GAChFA,EAAY,OAAxBsC,EAAA,EAAAb,EAA+E,OAA/E2D,EAA+E,YAAAhC,EAAA,MAC5EpD,EAAY,MAAA,SAAA,IAAA,EAAA,CAAA,mCASzBC,EAAmB,MAAC,cAAc,eAD5CoD,EAUEC,EAAA,OARG,QAASrD,EAAmB,MAAC,cAC7B,eAAgBA,EAAmB,MAAC,eACpC,iBAAkB,CAAE,EACpB,aAAcA,EAAmB,MAAC,SAClC,WAAYA,EAAmB,MAAC,WAChC,SAAUoB,EACV,SAAUE,EACV,aAAcN,8EAKT8D,EAA4B,WADtC1B,EAIEgC,GAAA,eAFM,8BAAJ,IAAIL,EACH,cAAenF,EAAS,MAAA,4gCC4EjC,MAAMyF,EAAexF,EAAwB,CACzC,MAAO,CAAC,EACR,WAAY,EACZ,YAAa,GACb,YAAa,EACb,SAAU,GACV,YAAa,MAAA,CAChB,EAGKyF,EAAyB3F,EAA8C,EAGvEkE,EAAc,IAAIC,GAGlByB,EAAyB5F,EAAqD,IAAI,EAClF6F,EAAc3F,EAAS,CAAE,UAAW,GAAO,EAI3C8D,EAAe,SAAY,OACzB,GAAA,CACM,MAAAhD,EAAW,MAAMC,EAAI,2BAA2B,EAEtD,GAAID,EAAS,UAAUE,EAAAF,EAAS,SAAT,MAAAE,EAAiB,OACvBwE,EAAA,MAAQ1E,EAAS,OAAO,MACxB0E,EAAA,WAAa1E,EAAS,OAAO,YAAc,MACrD,CACH,SACAI,EAAiCJ,CAAQ,CAAA,QAExCF,EAAO,CACZmD,EAAsBnD,CAAK,EACnB,QAAA,MAAM,4BAA6BA,CAAK,CAAA,QAElD,CAAA,CAEN,EAEAgF,GAAU,SAAY,CAClB,MAAM9B,EAAa,CAAA,CACtB,EAEDH,EACI,KAAO,CACH,YAAa6B,EAAa,YAC1B,SAAUA,EAAa,QAAA,GAE3B,CAAC5B,EAAQC,IAAW,EACZD,EAAO,cAAgBC,EAAO,aAAeD,EAAO,WAAaC,EAAO,WAC3DC,EAAA,CACjB,CAER,EAEA,SAAS+B,GAAkB,QACvB7E,EAAAyE,EAAuB,QAAvB,MAAAzE,EAA8B,WAAU,CAG5C,eAAe8E,EAAmB/F,EAA4B,CACtD,GAAA,CACA,MAAMe,EAAW,MAAMC,EAAI,yBAAyBhB,CAAQ,EACxDe,EAAS,OACTkD,EACK,UAAUG,EAAqB,QAAS,KAAM,SAAS,OAAApE,EAAS,SAAQ,YAAY,CACjF,CACI,GAAI,KACJ,KAAMqE,EAAmB,SACzB,SAAU,cACV,aAAc,KACd,MAAO,IAAA,CACX,CACH,EACA,KAAK,SAAY,CACd,MAAMN,EAAa,CAAA,CACtB,EAEL5C,EAAiCJ,CAAQ,QAExCF,EAAO,CACZmD,EAAsBnD,CAAK,CAAA,CAC/B,CAEE,MAAAQ,EAActB,EAAI,EAAE,EAUpBiG,EAAwBC,GAPT,IAAM,CAClB5E,EAAY,OAGJ0C,EAAA,CACjB,EAE4D,GAAG,EAEzDmC,EAAc,IAAM,CACtB7E,EAAY,MAAQ,GAEP0C,EAAA,CACjB,EAGA,SAASoC,EAAWjF,EAAgB,CAChC,MAAMkF,EAAyC,CAC3C,OAAQlF,EAAK,OACb,SAAUA,EAAK,SACf,eAAgBA,EAAK,eACrB,iBAAkBA,EAAK,iBACvB,WAAY,OAAOA,EAAK,UAAU,CACtC,EACA0E,EAAY,UAAY,GACxBS,GAAS,IAAM,QACYpF,EAAA0E,EAAA,QAAA,MAAA1E,EAAO,UAAUmF,EAAc,CACzD,CAAA,CAIL,eAAeE,EAAmBtG,EAAkC,CAChE,MAAMuG,EAAyB,CAC3B,OAAQvG,EAAS,OACjB,SAAUA,EAAS,SACnB,eAAgBA,EAAS,eACzB,iBAAkBA,EAAS,iBAC3B,WAAY,SAASA,EAAS,YAAc,GAAG,EAC/C,WAAY,IAAI,KAAK,EAAE,YAAY,CACvC,EAwBI,IAtB2C,MAAMiE,EAAY,UAC7DG,EAAqB,QACrB,KACA,cAAc,OAAAmC,EAAa,SAAQ,QACnC,CACI,CACI,GAAI,SACJ,KAAMlC,EAAmB,SACzB,SAAU,mBACV,aAAc,SACd,MAAO,IACX,EACA,CACI,GAAI,UACJ,KAAMA,EAAmB,SACzB,SAAU,mBACV,aAAc,UACd,MAAO,IAAA,CACX,CAER,GAEW,QAAU,UACb,GAAA,CACA,MAAMtD,EAAW,MAAMC,EAAI,yBAAyBuF,CAAY,EAC5DxF,EAAS,OAEJkD,EAAA,UACGG,EAAqB,QACrB,KACA,SAAS,OAAAmC,EAAa,SAAQ,YAC9B,CACI,CACI,GAAI,KACJ,KAAMlC,EAAmB,SACzB,SAAU,cACV,aAAc,KACd,MAAO,IAAA,CACX,CAER,EACC,KAAK,SAAY,CACd,MAAMN,EAAa,EACnB6B,EAAY,UAAY,EAAA,CAC3B,EAELzE,EAAiCJ,CAAQ,QAExCF,EAAO,CACZmD,EAAsBnD,CAAK,CAAA,CAEnC,CAIJ,SAAS2F,GAAqB,CAC1BZ,EAAY,UAAY,EAAA,CAI5B,eAAea,EAAavF,EAAgB,CAuBpC,IAtB2C,MAAM+C,EAAY,UAC7DG,EAAqB,QACrB,KACA,cAAc,OAAAlD,EAAK,SAAQ,gBAC3B,CACI,CACI,GAAI,SACJ,KAAMmD,EAAmB,SACzB,SAAU,mBACV,aAAc,SACd,MAAO,IACX,EACA,CACI,GAAI,UACJ,KAAMA,EAAmB,SACzB,SAAU,aACV,aAAc,UACd,MAAO,MAAA,CACX,CAER,GAEW,QAAU,UACb,GAAA,CACA,MAAMtD,EAAW,MAAMC,EAAI,yBAAyBE,EAAK,MAAM,EAC3DH,EAAS,OACTkD,EACK,UAAUG,EAAqB,QAAS,KAAM,SAAS,OAAAlD,EAAK,SAAQ,YAAY,CAC7E,CACI,GAAI,KACJ,KAAMmD,EAAmB,SACzB,SAAU,cACV,aAAc,KACd,MAAO,IAAA,CACX,CACH,EACA,KAAK,SAAY,CACd,MAAMN,EAAa,CAAA,CACtB,EAEL5C,EAAiCJ,CAAQ,QAExCF,EAAO,CACZmD,EAAsBnD,CAAK,CAAA,CAEnC,CAIJ,SAAS6F,EAAgBC,EAAiB,CAC9B,OAAA,OAAOA,CAAU,EAAG,CACxB,IAAK,IACM,MAAA,mBACX,IAAK,IACM,MAAA,mBACX,IAAK,IACM,MAAA,4BACX,IAAK,IACM,MAAA,mBACX,QACW,MAAA,GAAA,CACf,CAIE,MAAAC,EAAgB7G,EAAY,EAAE,EAE9B8G,EAAsC9G,EAA2D,EAKjGmF,EAA+B,CAAC4B,EAAgBC,IAAqB,CACvEH,EAAc,MAAQE,EACtBT,GAAS,IAAM,QACXpF,EAAA4F,EAAoC,QAApC,MAAA5F,EAA2C,WAAU,CACxD,CACL,8BAvfIY,EAmMM,MAnMNmF,GAmMM,CAjMFnF,EAyCM,MAzCNE,GAyCM,CAtCFF,EAA+D,KAA/DG,GAA+DE,EAA7C+E,MAAa,mBAAmB,KAAK,EAAA,CAAA,EACvDpF,EAoCM,MApCNI,GAoCM,CAnCFJ,EAgBM,MAhBNM,GAgBM,CAdFN,EASM,MATNO,GASM,GARFP,EAAqF,QAAA,CAA9E,KAAK,OAAO,MAAM,eAAe,YAAY,8CAAkBR,EAAW,MAAAkB,EAAA,gBAAXlB,EAAW,KAAA,CAAA,GACjFQ,EAMM,MAAA,CALF,MAAM,uFACL,QAAOqE,EACR,aAAW,qBAEXrE,EAA6D,SAAA,CAArD,MAAM,mBAAmB,aAAW,uBAGpDA,EAES,SAAA,CAFD,MAAM,mCAAoC,QAAKS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA4E,UAAUD,EAAqBjB,CAAA,GAAAiB,EAAAjB,CAAA,EAAA,GAAAmB,CAAA,EAAA,CAAA,SAAA,CAAA,IAAE,MAExF,EACAtF,EAA0F,SAAA,CAAlF,MAAM,4BAA6B,UAAeiE,EAAe,CAAA,SAAA,CAAA,CAAA,EAAE,QAAM,CAAA,GAIrFjE,EAeM,MAfNQ,GAeM,CAdFR,EAMS,SAAA,CALL,MAAMC,EAAA,CAAA,uBACY,CAAA,OAAA2D,EAAa,cAAW,MAAA,CAAA,CAAA,EACzC,QAAKnD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAEkD,EAAa,YAAW,OAAA,EACnC,SAED,CAAA,EACA5D,EAMS,SAAA,CALL,MAAMC,EAAA,CAAA,uBACY,CAAA,OAAA2D,EAAa,cAAW,OAAA,CAAA,CAAA,EACzC,QAAKnD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAEkD,EAAa,YAAW,UACnC,SAED,CAAA,QAOFA,EAAa,gBADvBjC,EAKEyB,EAAA,OAHU,WAAYQ,EAAa,YAAb,sBAAAnD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAkD,EAAa,YAAWlD,GACpC,SAAUkD,EAAa,SAAb,oBAAAnD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAkD,EAAa,SAAQlD,GACtC,cAAakD,EAAa,UAAA,4DAGrBA,EAAa,cAAW,YADlC7D,EAyDM,MAAA,OAvDF,MAAME,EAAA,CAAA,wDACe,CAAA,UAAA2D,EAAa,WAAW,CAAA,CAAA,EAC7C,IAAI,eAAA,IAEJhD,EAAA,EAAA,EAAAb,EAkDMmD,EAlD0B,KAAAqC,EAAA3B,EAAa,MAArBvE,QAAxBU,EAkDM,MAAA,CAlDD,MAAM,MAA0C,IAAKV,EAAK,MAAA,GAC3DW,EAgDM,MAhDNa,GAgDM,CA/CFb,EA8CM,MA9CNc,GA8CM,CA7CFd,EAA+C,KAA/Ce,GAA0BV,EAAAhB,EAAK,QAAQ,EAAA,CAAA,EACvCW,EAMI,IANJgB,GAMI,CALAP,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAT,EAAwB,cAAhB,UAAO,EAAA,KAAS,IAACK,EAAGhB,EAAK,MAAM,EAAA,CAAA,gBAAGW,EAAM,KAAA,KAAA,KAAA,EAAA,GAChDS,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAT,EAAwB,cAAhB,UAAO,EAAA,KAAS,IAACK,EAAGhB,EAAK,gBAAc,GAAA,EAAA,CAAA,gBAAUW,EAAM,KAAA,KAAA,KAAA,EAAA,GAC/DS,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAT,EAAwB,cAAhB,UAAO,EAAA,KAAS,IAACK,EAAGhB,EAAK,kBAAgB,GAAA,EAAA,CAAA,gBAAUW,EAAM,KAAA,KAAA,KAAA,EAAA,GACjES,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAT,EAAoB,cAAZ,MAAG,EAAA,GAAS0B,EAAA,IAAIrB,EAAAwE,EAAgBxF,EAAK,UAAU,CAAA,EAAA,CAAA,gBAAIW,EAAM,KAAA,KAAA,KAAA,EAAA,GACjES,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAT,EAAsB,cAAd,QAAK,EAAA,GAAS0B,EAAA,UAAQ,KAAKrC,EAAK,UAAU,EAAE,gBAAc,EAAA,CAAA,gBAAKW,EAAM,KAAA,KAAA,KAAA,EAAA,EAAA,GAGjFA,EAmCM,MAnCNiB,GAmCM,eAlCFjB,EAOS,SAAA,CANL,MAAM,6CACN,KAAK,SACL,iBAAe,WACf,gBAAc,OAAA,GAEdA,EAA+B,IAAA,CAA5B,MAAM,kBAAiB,IAAK,QACnC,QACAA,EAyBK,KAzBLkB,GAyBK,CAxBDlB,EAIK,KAAA,KAAA,CAHDA,EAEI,IAAA,CAFD,MAAM,gBAAgB,KAAK,IAAK,QAAKqF,EAAA3E,GAAU4D,EAAWjF,CAAI,EAAA,CAAA,SAAA,CAAA,kBAC7DW,EAAqD,IAAA,CAAlD,MAAM,uCAAuC,EAAA,KAAA,EAAA,IAAK,MACzD,CAAA,WAEJA,EAIK,KAAA,KAAA,CAHDA,EAEI,IAAA,CAFD,MAAM,gBAAgB,KAAK,IAAK,QAAKqF,EAAA3E,GAAUkE,EAAavF,CAAI,EAAA,CAAA,SAAA,CAAA,kBAC/DW,EAA4C,IAAA,CAAzC,MAAM,8BAA8B,EAAA,KAAA,EAAA,IAAK,MAChD,CAAA,WAEMX,EAAK,aAAU,KAAzB,EAAAU,EAQK,KAAAuB,GAAA,CAPDtB,EAMI,IAAA,CALA,MAAM,gBACN,KAAK,IACJ,QAAKqF,EAAA3E,GAAU2C,EAA6BhE,EAAK,OAAQA,EAAK,QAAQ,EAAA,CAAA,SAAA,CAAA,kBAEvEW,EAAiD,IAAA,CAA9C,MAAM,mCAAmC,EAAA,KAAA,EAAA,IAAK,WACrD,CAAA,qBAEMX,EAAK,aAAU,OAAzBU,EAIK,KAAAyB,GAAAf,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,CAHDT,EAES,SAAA,CAFD,MAAM,gBAAgB,SAAA,EAAA,GAC1BA,EAAiD,IAAA,CAA9C,MAAM,oCAAmC,IAAK,WACrD,CAAA,+CAS5BD,EAqEM,MAAA,OAnED,MAAoBE,EAAA,CAAA,CAAA,UAAA2D,EAAa,WAAA,EAG5B,QAAQ,CAAA,EAFd,IAAI,gBACJ,MAAA,CAAsB,SAAA,MAAA,CAAA,GAGtB5D,EA6DQ,QA7DRyD,GA6DQ,eA5DJzD,EAUQ,QAAA,CAVD,MAAM,eAAa,CACtBA,EAQK,KAAA,KAAA,CAPDA,EAAe,UAAX,QAAM,EACVA,EAAY,UAAR,KAAG,EACPA,EAAe,UAAX,QAAM,EACVA,EAAe,UAAX,QAAM,EACVA,EAAW,UAAP,IAAE,EACNA,EAAa,UAAT,MAAI,EACRA,EAAa,UAAT,MAAI,UAGhBA,EAgDQ,QAAA,KAAA,EA/CJY,EAAA,EAAA,EAAAb,EA8CKmD,EA9Cc,KAAAqC,EAAA3B,EAAa,MAArBvE,QAAXU,EA8CK,KAAA,CA9CmC,IAAKV,EAAK,MAAA,GAC9CW,EAA0B,KAAA,KAAAK,EAAnBhB,EAAK,MAAM,EAAA,CAAA,EAClBW,EAA4B,KAAA,KAAAK,EAArBhB,EAAK,QAAQ,EAAA,CAAA,EACpBW,EAAyC,KAAA,KAAAK,EAAlChB,EAAK,gBAAc,GAAA,EAAA,CAAA,EAC1BW,EAA2C,KAAA,KAAAK,EAApChB,EAAK,kBAAgB,GAAA,EAAA,CAAA,EAC5BW,EAA+C,KAAxC,KAAAK,EAAAwE,EAAgBxF,EAAK,UAAU,CAAA,EAAA,CAAA,EACtCW,EAAyD,gBAA9C,KAAKX,EAAK,UAAU,EAAE,eAAc,CAAA,EAAA,CAAA,EAC/CW,EAsCK,KAAA,KAAA,CApCDA,EAmCM,MAnCNyB,GAmCM,eAlCFzB,EAOS,SAAA,CANL,MAAM,6CACN,KAAK,SACL,iBAAe,WACf,gBAAc,OAAA,GAEdA,EAA+B,IAAA,CAA5B,MAAM,kBAAiB,IAAK,QACnC,QACAA,EAyBK,KAzBL0D,GAyBK,CAxBD1D,EAIK,KAAA,KAAA,CAHDA,EAEI,IAAA,CAFD,MAAM,gBAAgB,KAAK,IAAK,QAAKqF,EAAA3E,GAAU4D,EAAWjF,CAAI,EAAA,CAAA,SAAA,CAAA,kBAC7DW,EAAqD,IAAA,CAAlD,MAAM,uCAAuC,EAAA,KAAA,EAAA,IAAK,MACzD,CAAA,WAEJA,EAIK,KAAA,KAAA,CAHDA,EAEI,IAAA,CAFD,MAAM,gBAAgB,KAAK,IAAK,QAAKqF,EAAA3E,GAAUkE,EAAavF,CAAI,EAAA,CAAA,SAAA,CAAA,kBAC/DW,EAA4C,IAAA,CAAzC,MAAM,8BAA8B,EAAA,KAAA,EAAA,IAAK,MAChD,CAAA,WAEMX,EAAK,aAAU,KAAzB,EAAAU,EAQK,KAAAyF,GAAA,CAPDxF,EAMI,IAAA,CALA,MAAM,gBACN,KAAK,IACJ,QAAKqF,EAAA3E,GAAU2C,EAA6BhE,EAAK,OAAQA,EAAK,QAAQ,EAAA,CAAA,SAAA,CAAA,kBAEvEW,EAAiD,IAAA,CAA9C,MAAM,mCAAmC,EAAA,KAAA,EAAA,IAAK,WACrD,CAAA,qBAEMX,EAAK,aAAU,OAAzBU,EAIK,KAAA0F,GAAAhF,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,CAHDT,EAES,SAAA,CAFD,MAAM,gBAAgB,SAAA,EAAA,GAC1BA,EAAiD,IAAA,CAA9C,MAAM,oCAAmC,IAAK,WACrD,CAAA,4CAWtB+D,EAAY,eADtBpC,EAKE+D,GAAA,eAHM,yBAAJ,IAAI5B,EACH,SAAQW,EACR,SAAQE,uBAIHf,EAAa,gBADvBjC,EAKEyB,EAAA,OAHU,WAAYQ,EAAa,YAAb,sBAAAnD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAkD,EAAa,YAAWlD,GACpC,SAAUkD,EAAa,SAAb,oBAAAnD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAkD,EAAa,SAAQlD,GACtC,cAAakD,EAAa,UAAA,8DAIzBmB,EAAa,WADvBpD,EAIEgC,GAAA,eAFM,sCAAJ,IAAIqB,EACH,cAAeD,EAAa,KAAA,sCAEjCY,GAAiFC,GAAA,SAAxD,yBAAJ,IAAI/B,EAA0B,SAAQK"}